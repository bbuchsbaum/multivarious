[{"path":"https://bbuchsbaum.github.io/multivarious/CLAUDE.html","id":null,"dir":"","previous_headings":"","what":"CLAUDE.md","title":"CLAUDE.md","text":"file provides guidance Claude Code (claude.ai/code) working code repository.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/CLAUDE.html","id":"project-overview","dir":"","previous_headings":"","what":"Project Overview","title":"CLAUDE.md","text":"multivarious R package provides extensible data structures multivariate analysis, focusing dimensionality reduction techniques projection methods. package implements flexible framework built around concept ‚Äúprojectors‚Äù - objects map high-dimensional data lower-dimensional representations.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/CLAUDE.html","id":"package-structure","dir":"","previous_headings":"","what":"Package Structure","title":"CLAUDE.md","text":"standard R package following key directories: - R/ - Source code files containing function definitions - man/ - Generated documentation files (created roxygen2) - tests/testthat/ - Unit tests using testthat framework - vignettes/ - Long-form documentation tutorials - DESCRIPTION - Package metadata dependencies - NAMESPACE - Exported/imported functions (generated roxygen2) Key source files R/: - all_generic.R - S3 generic function definitions - projector.R - Base projector class implementation - bi_projector.R - Two-way projector class - twoway_projector.R - Cross-domain projector class (cross_projector) - pre_process.R - Preprocessing pipeline framework - preproc-generics.R, preproc-utils.R - Preprocessing support - pca.R, svd.R, regress.R - Specific algorithm implementations","code":""},{"path":[]},{"path":"https://bbuchsbaum.github.io/multivarious/CLAUDE.html","id":"building-and-installing","dir":"","previous_headings":"Development Commands","what":"Building and Installing","title":"CLAUDE.md","text":"","code":"# From R console devtools::install()        # Build and install the package devtools::build()          # Build package tarball devtools::load_all()       # Load all functions for development  # From command line R CMD build .              # Build package R CMD INSTALL .            # Install package"},{"path":"https://bbuchsbaum.github.io/multivarious/CLAUDE.html","id":"testing","dir":"","previous_headings":"Development Commands","what":"Testing","title":"CLAUDE.md","text":"","code":"# From R console devtools::test()                        # Run all tests testthat::test_package(\"multivarious\")  # Run tests directly covr::package_coverage()                # Run tests with coverage  # Run a single test file testthat::test_file(\"tests/testthat/test_pca.R\")  # From command line R CMD check .              # Run full package checks including tests"},{"path":"https://bbuchsbaum.github.io/multivarious/CLAUDE.html","id":"documentation-and-checking","dir":"","previous_headings":"Development Commands","what":"Documentation and Checking","title":"CLAUDE.md","text":"","code":"# Generate/update documentation from roxygen2 comments devtools::document()  # Run package checks devtools::check()          # Full package check R CMD check --as-cran .    # CRAN-style checks rcmdcheck::rcmdcheck()     # Enhanced checking  # Build package website pkgdown::build_site()"},{"path":[]},{"path":"https://bbuchsbaum.github.io/multivarious/CLAUDE.html","id":"core-class-hierarchy","dir":"","previous_headings":"Architecture Overview","what":"Core Class Hierarchy","title":"CLAUDE.md","text":"package built around hierarchical system projector classes: projector - Base class dimensionality reduction methods Contains coefficient matrix v projection Includes preprocessing pipeline (preproc) Implements caching performance (.cache environment) bi_projector - Extends projector two-way mappings (e.g., PCA, SVD) Adds scores matrix s standard deviations sdev Supports row column projections cross_projector - two-block methods (e.g., CCA) Maintains separate coefficients X Y blocks (vx, vy) Enables cross-domain transfer operations composed_projector - Chains multiple projectors sequentially multiblock_projector - Handles concatenated blocks variables","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/CLAUDE.html","id":"key-design-patterns","dir":"","previous_headings":"Architecture Overview","what":"Key Design Patterns","title":"CLAUDE.md","text":"S3 Generic Functions: major operations (project, reconstruct, truncate, etc.) implemented S3 generics method dispatch Preprocessing Pipeline: Sophisticated preprocessing system step forward(), apply(), reverse() methods Caching Strategy: Expensive computations (inverse projections, etc.) cached projector‚Äôs .cache environment Partial Operations: Framework supports projecting/reconstructing subsets variables via partial_project() related functions","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/CLAUDE.html","id":"important-implementation-details","dir":"","previous_headings":"Architecture Overview","what":"Important Implementation Details","title":"CLAUDE.md","text":"modifying projectors, always clear cache ensure consistency Preprocessing must reversible - transformations need reverse operation Use chk::chk_* functions input validation Follow existing patterns error messages using rlang::abort() Matrix operations handle sparse matrices possible","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/CLAUDE.html","id":"testing-patterns","dir":"","previous_headings":"Architecture Overview","what":"Testing Patterns","title":"CLAUDE.md","text":"Tests use testthat follow patterns: - Test files named test_<component>.R - Use expect_equal() tolerance numeric comparisons - Test standard edge cases (empty data, single observation, etc.) - Verify preprocessing correctly reversed - Check caching doesn‚Äôt affect results","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/CLAUDE.html","id":"common-development-tasks","dir":"","previous_headings":"Architecture Overview","what":"Common Development Tasks","title":"CLAUDE.md","text":"adding new projector type: 1. Inherit appropriate base class (projector, bi_projector, etc.) 2. Implement required methods (project, reconstruct, etc.) 3. Add appropriate S3 method implementations relevant files 4. Include input validation using chk package 5. Add comprehensive tests 6. Update documentation examples working preprocessing: 1. New preprocessing steps implement forward(), apply(), reverse() methods 2. prep() function deprecated favor fit() 3. Preprocessing pipelines built using prepper structure 4. Always test preprocessing can correctly reversed","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2022 multivarious authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (‚ÄúSoftware‚Äù), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED ‚Äú‚Äù, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/articles/CPCAplus.html","id":"what-is-contrastive-pca","dir":"Articles","previous_headings":"","what":"What is Contrastive PCA?","title":"Contrastive PCA: Finding What's Different Between Groups","text":"Imagine ‚Äôre studying two groups: patients disease healthy controls. groups show variation measurements, ‚Äôre specifically interested makes patients different. Standard PCA find largest sources variation across samples, might dominated age, sex, factors common groups. Contrastive PCA (cPCA++) finds patterns enriched one group (foreground) compared another (background).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/articles/CPCAplus.html","id":"a-simple-example","dir":"Articles","previous_headings":"","what":"A Simple Example","title":"Contrastive PCA: Finding What's Different Between Groups","text":"Let‚Äôs start practical example see contrastive PCA useful:  Notice standard PCA focuses features 1-10 (common variation), contrastive PCA correctly identifies features 20-25 (group-specific signal).","code":"set.seed(123) n_samples <- 100 n_features <- 50  # Create background data (e.g., healthy controls) # Main variation is in features 1-10 background <- matrix(rnorm(n_samples * n_features), n_samples, n_features) background[, 1:10] <- background[, 1:10] * 3  # Strong common variation  # Create foreground data (e.g., patients) # Has the same common variation PLUS disease-specific signal in features 20-25 foreground <- background[1:60, ]  # Start with same structure foreground[, 20:25] <- foreground[, 20:25] + matrix(rnorm(60 * 6, sd = 2), 60, 6)  # Standard PCA on combined data all_data <- rbind(background, foreground) regular_pca <- pca(all_data, ncomp = 2)  # Contrastive PCA cpca_result <- cPCAplus(X_f = foreground, X_b = background, ncomp = 2) #> Using feature-space strategy...  # Compare what each method finds loadings_df <- rbind(   data.frame(     feature = factor(1:30),     value   = abs(regular_pca$v[1:30, 1]),     method  = \"Standard PCA\"   ),   data.frame(     feature = factor(1:30),     value   = abs(cpca_result$v[1:30, 1]),     method  = \"Contrastive PCA\"   ) )  ggplot(loadings_df, aes(x = feature, y = value)) +   geom_col(fill = \"#1f78b4\") +   facet_wrap(~method, nrow = 1) +   theme_minimal(base_size = 12) +   theme(axis.text.x = element_text(angle = 45, hjust = 1)) +   labs(     x = \"Feature\",     y = \"|Loading|\",     title = \"Top loading coefficients for PC1\"   )"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/CPCAplus.html","id":"using-cpcaplus","dir":"Articles","previous_headings":"","what":"Using cPCAplus()","title":"Contrastive PCA: Finding What's Different Between Groups","text":"cPCAplus() function makes contrastive PCA easy use:","code":"# Basic usage cpca_fit <- cPCAplus(   X_f = foreground,  # Your group of interest (foreground)   X_b = background,  # Your reference group (background)   ncomp = 5          # Number of components to extract ) #> Using feature-space strategy...  # The result is a bi_projector object with familiar methods print(cpca_fit) #> A bi_projector object with the following properties: #>  #> Dimensions of the weights (v) matrix: #>   Rows:  50  Columns:  5  #>  #> Dimensions of the scores (s) matrix: #>   Rows:  60  Columns:  5  #>  #> Length of the standard deviations (sdev) vector: #>   Length:  5  #>  #> Preprocessing information: #> A finalized pre-processing pipeline: #>  Step  1 : center  # Project new data new_samples <- matrix(rnorm(10 * n_features), 10, n_features) new_scores <- project(cpca_fit, new_samples)  # Reconstruct using top components reconstructed <- reconstruct(cpca_fit, comp = 1:2)"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/CPCAplus.html","id":"understanding-the-output","dir":"Articles","previous_headings":"","what":"Understanding the Output","title":"Contrastive PCA: Finding What's Different Between Groups","text":"cPCAplus() returns bi_projector object containing: v: Loadings (feature weights) component s: Scores (sample projections) foreground data sdev: Standard deviations explaining ‚Äúcontrastive variance‚Äù values: eigenvalue ratios (foreground variance / background variance)","code":"# Which features contribute most to the first contrastive component? top_features <- order(abs(cpca_fit$v[, 1]), decreasing = TRUE)[1:10] print(paste(\"Top contributing features:\", paste(top_features, collapse = \", \"))) #> [1] \"Top contributing features: 25, 23, 42, 32, 22, 24, 50, 30, 28, 33\"  # How much more variable is each component in foreground vs background? print(paste(\"Variance ratios:\", paste(round(cpca_fit$values[1:3], 2), collapse = \", \"))) #> [1] \"Variance ratios: 16.74, 13.31, 10.31\""},{"path":[]},{"path":"https://bbuchsbaum.github.io/multivarious/articles/CPCAplus.html","id":"biomedical-studies","dir":"Articles","previous_headings":"Common Applications","what":"1. Biomedical Studies","title":"Contrastive PCA: Finding What's Different Between Groups","text":"","code":"# Identify disease-specific patterns tumor_cpca <- cPCAplus(   X_f = tumor_samples,   X_b = healthy_tissue,   ncomp = 10 )"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/CPCAplus.html","id":"technical-variation-removal","dir":"Articles","previous_headings":"Common Applications","what":"2. Technical Variation Removal","title":"Contrastive PCA: Finding What's Different Between Groups","text":"","code":"# Use technical replicates as background to find biological signal bio_cpca <- cPCAplus(   X_f = biological_samples,   X_b = technical_replicates,   ncomp = 5 )"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/CPCAplus.html","id":"time-based-contrasts","dir":"Articles","previous_headings":"Common Applications","what":"3. Time-Based Contrasts","title":"Contrastive PCA: Finding What's Different Between Groups","text":"","code":"# Find patterns specific to treatment timepoint treatment_cpca <- cPCAplus(   X_f = after_treatment,   X_b = before_treatment,   ncomp = 5 )"},{"path":[]},{"path":"https://bbuchsbaum.github.io/multivarious/articles/CPCAplus.html","id":"handling-high-dimensional-data","dir":"Articles","previous_headings":"Advanced Options","what":"Handling High-Dimensional Data","title":"Contrastive PCA: Finding What's Different Between Groups","text":"features samples (p >> n), use efficient sample-space strategy:","code":"# Create high-dimensional example n_f <- 50; n_b <- 80; p <- 1000 X_background_hd <- matrix(rnorm(n_b * p), n_b, p) X_foreground_hd <- X_background_hd[1:n_f, ] +                     matrix(c(rnorm(n_f * 20, sd = 2), rep(0, n_f * (p-20))), n_f, p)  # Use sample-space strategy for efficiency cpca_hd <- cPCAplus(X_f = X_foreground_hd, X_b = X_background_hd,                     ncomp = 5, strategy = \"sample\") #> Using sample-space strategy... #> Warning in irlba::irlba(X_b_centered, nv = r_target, nu = 0): You're computing #> too large a percentage of total singular values, use a standard svd instead."},{"path":"https://bbuchsbaum.github.io/multivarious/articles/CPCAplus.html","id":"regularization-for-unstable-background","dir":"Articles","previous_headings":"Advanced Options","what":"Regularization for Unstable Background","title":"Contrastive PCA: Finding What's Different Between Groups","text":"background covariance nearly singular, add regularization:","code":"# Small background sample size can lead to instability small_background <- matrix(rnorm(20 * 100), 20, 100) small_foreground <- matrix(rnorm(30 * 100), 30, 100)  # Add regularization cpca_regularized <- cPCAplus(   X_f = small_foreground,   X_b = small_background,   ncomp = 5,   lambda = 0.1  # Regularization parameter for background covariance ) #> Using feature-space strategy..."},{"path":"https://bbuchsbaum.github.io/multivarious/articles/CPCAplus.html","id":"when-to-use-contrastive-pca","dir":"Articles","previous_headings":"","what":"When to Use Contrastive PCA","title":"Contrastive PCA: Finding What's Different Between Groups","text":"‚úì Use contrastive PCA : - two groups want find patterns specific one - Background variation obscures signal interest - want remove technical/batch effects captured control samples ‚úó Don‚Äôt use contrastive PCA : - one group (use standard PCA) - Groups differ mainly mean levels (use t-tests LDA) - interesting variation non-linear (consider kernel methods)","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/articles/CPCAplus.html","id":"technical-details","dir":"Articles","previous_headings":"","what":"Technical Details","title":"Contrastive PCA: Finding What's Different Between Groups","text":"Contrastive PCA++ solves generalized eigenvalue problem: ùêëfùêØ=ŒªùêëbùêØ\\mathbf{R}_f \\mathbf{v} = \\lambda \\mathbf{R}_b \\mathbf{v} : - ùêëf\\mathbf{R}_f foreground covariance matrix - ùêëb\\mathbf{R}_b background covariance matrix - Œª\\lambda represents variance ratio (foreground/background) - ùêØ\\mathbf{v} contrastive directions finds directions maximize ratio foreground background variance, effectively highlighting patterns enriched foreground group. geneig() function provides underlying solver multiple algorithm options: - \"geigen\": General purpose, handles non-symmetric matrices - \"robust\": Fast well-conditioned problems - \"primme\": Efficient large sparse matrices","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/articles/CPCAplus.html","id":"see-also","dir":"Articles","previous_headings":"","what":"See Also","title":"Contrastive PCA: Finding What's Different Between Groups","text":"pca() standard principal component analysis discriminant_projector() supervised dimensionality reduction geneig() solving generalized eigenvalue problems directly","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Classifier.html","id":"why-classify-after-projection","dir":"Articles","previous_headings":"","what":"1. Why classify after projection?","title":"Classifying in latent space: k-NN & Random-Forest wrappers","text":"dimensionality-reduction model (PCA, PLS, CCA, ‚Ä¶) fitted, every new sample can projected low-dimensional latent space. Running classifier ‚Äì instead thousands noisy raw variables ‚Äì yields fewer parameters & smaller models, immunity collinearity, freedom use partial data (ROI, missing sensors), clean separation unsupervised decomposition supervised prediction. classifier() S3 family supplied multiblock provides glue: hand projector (multiblock_biprojector, discriminant_projector, ‚Ä¶) plus class labels ‚Üí returns ready predictor object.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Classifier.html","id":"iris-demo-lda-discriminant_projector-k-nn","dir":"Articles","previous_headings":"","what":"2. Iris demo ‚Äì LDA ‚Üí discriminant_projector ‚Üí k-NN","title":"Classifying in latent space: k-NN & Random-Forest wrappers","text":"","code":"data(iris) X   <- as.matrix(iris[, 1:4]) grp <- iris$Species  # Fit classical Linear DA and wrap it if (!requireNamespace(\"MASS\", quietly = TRUE)) {   stop(\"MASS package required for LDA example\") }   # 1. Define and fit the pre-processing step using the training data preproc_fitted <- fit(center(), X) # 2. Transform the data Xp <- transform(preproc_fitted, X)  # Assuming discriminant_projector, prep, center, scores are available lda_fit <- MASS::lda(X, grouping = grp)   disc_proj <- multivarious::discriminant_projector(   v      = lda_fit$scaling,                 # loadings (p √ó d)   s      = Xp %*% lda_fit$scaling,           # scores   (n √ó d)   sdev   = lda_fit$svd,                     # singular values   labels = grp,   preproc = preproc_fitted            # Pass the fitted pre-processor ) print(disc_proj) #> Projector object: #>   Input dimension: 4 #>   Output dimension: 2 #>   With pre-processing: #> A finalized pre-processing pipeline: #>  Step  1 : center #> Label counts:  #>     setosa versicolor  virginica  #>         50         50         50"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Classifier.html","id":"visualise-the-latent-space","dir":"Articles","previous_headings":"2. Iris demo ‚Äì LDA ‚Üí discriminant_projector ‚Üí k-NN","what":"2.1 Visualise the latent space","title":"Classifying in latent space: k-NN & Random-Forest wrappers","text":"","code":"scores_df <- as_tibble(scores(disc_proj)[, 1:2],                        .name_repair = ~ c(\"LD1\",\"LD2\")) |>   mutate(Species = iris$Species)  ggplot(scores_df, aes(LD1, LD2, colour = Species)) +   geom_point(size = 2, alpha = .7) +   stat_ellipse(level = .9, linewidth = .3) +   theme_minimal() +   ggtitle(\"Iris ‚Äì first two LDA components\")"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Classifier.html","id":"build-a-k-nn-classifier-on-the-latent-scores","dir":"Articles","previous_headings":"2. Iris demo ‚Äì LDA ‚Üí discriminant_projector ‚Üí k-NN","what":"2.2 Build a k-NN classifier on the latent scores","title":"Classifying in latent space: k-NN & Random-Forest wrappers","text":"","code":"set.seed(42) train_id <- sample(seq_len(nrow(X)), size = 0.7*nrow(X)) test_id  <- setdiff(seq_len(nrow(X)), train_id)  # Assuming classifier function is available clf_knn <- multivarious::classifier(   x       = disc_proj,   labels  = grp[train_id],   new_data= X[train_id, ],  # Use training data to get reference scores   knn     = 3 ) print(clf_knn) #> k-NN Classifier object: #>   k-NN Neighbors (k): 3  #>   Number of Training Samples: 150  #>   Number of Classes: 3  #>   Underlying Projector Details:  #>      Projector object: #>        Input dimension: 4 #>        Output dimension: 2 #>        With pre-processing: #>      A finalized pre-processing pipeline: #>       Step  1 : center #>      Label counts:  #>          setosa versicolor  virginica  #>              50         50         50"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Classifier.html","id":"predict-and-evaluate","dir":"Articles","previous_headings":"2. Iris demo ‚Äì LDA ‚Üí discriminant_projector ‚Üí k-NN","what":"2.3 Predict and evaluate","title":"Classifying in latent space: k-NN & Random-Forest wrappers","text":"","code":"pred_knn <- predict(clf_knn, new_data = X[test_id, ],                     metric = \"cosine\", prob_type = \"knn_proportion\")  head(pred_knn$prob, 3) #>      setosa versicolor virginica #> [1,]      1          0         0 #> [2,]      1          0         0 #> [3,]      1          0         0 print(paste(\"Overall Accuracy:\", mean(pred_knn$class == grp[test_id]))) #> [1] \"Overall Accuracy: 0.888888888888889\"  # Assuming rank_score and topk are available rk  <- rank_score(pred_knn$prob, grp[test_id]) tk2 <- topk      (pred_knn$prob, grp[test_id], k = 2)  tibble(   prank_mean = mean(rk$prank),   top2_acc   = mean(tk2$topk) ) #> # A tibble: 1 √ó 2 #>   prank_mean top2_acc #>        <dbl>    <dbl> #> 1      0.278        1"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Classifier.html","id":"confusion-matrix-on-the-test-set","dir":"Articles","previous_headings":"2. Iris demo ‚Äì LDA ‚Üí discriminant_projector ‚Üí k-NN","what":"2.4 Confusion-matrix on the test set","title":"Classifying in latent space: k-NN & Random-Forest wrappers","text":"Confusion matrix (counts)","code":"cm <- table(   Truth     = grp[test_id],   Predicted = pred_knn$class )  # Heat-map cm_df <- as.data.frame(cm) ggplot(cm_df, aes(Truth, Predicted, fill = Freq)) +   geom_tile(colour = \"grey80\") +   geom_text(aes(label = Freq), colour = \"white\", size = 4) +   scale_fill_gradient(low = \"#4575b4\", high = \"#d73027\", name=\"Count\", limits = c(0, 15)) +   scale_y_discrete(limits = rev(levels(cm_df$Predicted))) +   theme_minimal(base_size = 12) + coord_equal() +   ggtitle(\"k-NN (k = 3) confusion matrix ‚Äì test set\") +   theme(axis.text.x = element_text(angle = 45, hjust = 1)) # Pretty table as well knitr::kable(cm, caption = \"Confusion matrix (counts)\")"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Classifier.html","id":"random-forest-on-the-same-latent-space","dir":"Articles","previous_headings":"","what":"3. Random-Forest on the same latent space","title":"Classifying in latent space: k-NN & Random-Forest wrappers","text":"RF sees exactly three input variables (LDA components) ‚Äì keeps trees shallow speeds-training.","code":"# Check if randomForest is installed if (requireNamespace(\"randomForest\", quietly = TRUE)) {    # Assuming rf_classifier.projector method is available   rf_clf <- rf_classifier( # Using the generic here     x       = disc_proj,     labels  = grp[train_id],     # Pass scores directly if method requires it, or let it call scores(x)     scores  = scores(disc_proj)[train_id, ]   )    pred_rf <- predict(rf_clf, new_data = X[test_id, ])   print(paste(\"RF Accuracy:\", mean(pred_rf$class == grp[test_id]))) } else {   cat(\"randomForest package not installed. Skipping RF example.\\n\") } #> [1] \"RF Accuracy: 0.977777777777778\""},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Classifier.html","id":"partial-feature-prediction-sepal-block-only","dir":"Articles","previous_headings":"","what":"4. Partial-feature prediction: sepal block only","title":"Classifying in latent space: k-NN & Random-Forest wrappers","text":"Assume deployment measure Sepal variables (cols 1‚Äì2). partial projection keeps classifier happy: Accuracy drops bit ‚Äì expected using fewer features.","code":"sepal_cols <- 1:2  # Create a classifier using reference scores from Sepal columns only clf_knn_sepal <- multivarious::classifier(   x       = disc_proj,   labels  = grp[train_id],   new_data= X[train_id, sepal_cols],  # Use training data subset   colind  = sepal_cols,             # Indicate which columns were used   knn     = 3 )  # Predict using the dedicated sepal classifier pred_sepal <- predict(   clf_knn_sepal,                  # Use the sepal-specific classifier   new_data = X[test_id, sepal_cols]   # No need for colind here as clf_knn_sepal expects sepal data )  print(paste(\"Accuracy (Sepal only):\", mean(pred_sepal$class == grp[test_id]))) #> [1] \"Accuracy (Sepal only): 0.333333333333333\""},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Classifier.html","id":"which-component-block-matters-most","dir":"Articles","previous_headings":"","what":"5. Which component block matters most?","title":"Classifying in latent space: k-NN & Random-Forest wrappers","text":"feature_importance() can rank variable groups via simple ‚Äúleave-block-‚Äù score drop.","code":"blocks <- list(   Sepal = 1:2,   Petal = 3:4 )  # Assuming feature_importance is available fi <- feature_importance(   clf_knn,   new_data  = X[test_id, ],   true_labels = grp[test_id], # Pass the correct test set labels   blocks    = blocks,   fun       = rank_score, # Use rank_score as the performance metric   fun_direction = \"lower_is_better\",   approach  = \"marginal\" # Calculate marginal drop when block is removed ) print(fi) #>   block importance #> 2   3,4  0.3555556 #> 1   1,2  0.1333333"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Composing_Projectors.html","id":"quick-start-two-pcas-in-series","dir":"Articles","previous_headings":"","what":"1. Quick start ‚Äì two PCAs in series","title":"Composing Projectors: Chaining Models","text":"Let‚Äôs compose two PCA steps: summary() output provides clear overview stages, names, input/output dimensions, underlying class.","code":"set.seed(1)  X  <- matrix(rnorm(30*15), 30, 15)   # raw data, 30 samples, 15 variables p1 <- pca(X, ncomp = 8)              # first reduction: 15 -> 8 components p2 <- pca(scores(p1), ncomp = 7)     # second reduction: 8 -> 4 components  # Compose the two projectors pipe <- compose_partial_projector(            first  = p1,            second = p2)  print(pipe) #> Composed projector object: #>   Number of projectors:  2  #>  Pipeline: #>    1. first  :   15 ->    8 #>    2. second :    8 ->    7  # Project original data through the entire pipeline S <- project(pipe, X)          # 30 √ó 4 scores ‚Äì as if the two steps were one dim(S) #> [1] 30  7  # Get a summary of the pipeline stages summary(pipe) #> # A tibble: 2 √ó 5 #>   stage name   in_dim out_dim class #>   <int> <chr>   <int>   <int> <chr> #> 1     1 first      15       8 pca   #> 2     2 second      8       7 pca"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Composing_Projectors.html","id":"partial-projections-zoom-in-on-selected-variables","dir":"Articles","previous_headings":"","what":"2. Partial projections ‚Äì ‚Äúzoom in‚Äù on selected variables","title":"Composing Projectors: Chaining Models","text":"partial_project() works composed projectors, allowing apply projections using subset variables specific stages. supply colind argument either: vector: Applies first stage. Subsequent stages receive full output preceding stage. list: One entry per stage. Use NULL stage receive full input previous stage. Behind scenes, composed projector manages mapping indices pipeline.","code":"# Example 1: Use only variables 1:5 for the *first* PCA stage. # The second PCA stage receives the full 8 components from the (partial) first stage. S15 <- partial_project(pipe, X[, 1:5, drop=FALSE], colind = 1:5) cat(\"Dimensions after partial projection (cols 1:5 in first stage):\", dim(S15), \"\\n\") #> Dimensions after partial projection (cols 1:5 in first stage): 30 7  # Example 2: Multi-stage pipeline (conceptual) # Imagine a 3-stage pipeline: wavelets -> PCA (block1) -> PCA (global) # pipe2 <- wavelet_projector(...) %>>%  #          pca(..., ncomp = 10)   %>>%  #          pca(..., ncomp = 3)  # To focus on coefficients 12:20 *after* the wavelet step (i.e., input to stage 2): # S_sel <- partial_project(pipe2, X, # Assuming X is appropriate input for wavelets #                          colind = list(NULL, 12:20, NULL)) # Note: The indices in the list always refer to the dimensions *entering* that specific stage."},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Composing_Projectors.html","id":"reconstruction-inverse-projection","dir":"Articles","previous_headings":"","what":"3. Reconstruction & inverse projection","title":"Composing Projectors: Chaining Models","text":"Since stage typically provides way reverse projection (often via inverse_projection()), composed projector can also reconstruct original data final scores. forward (coef) inverse (inverse_projection) matrices entire pipeline calculated potentially cached efficiency.","code":"# Reconstruct original data from the final scores 'S' X_hat <- reconstruct(pipe, S) cat(\"Dimensions of reconstructed data:\", dim(X_hat), \"\\n\") #> Dimensions of reconstructed data: 30 15  # Check reconstruction accuracy # Note: Since the pipeline involves dimensionality reduction (15 -> 8 -> 4), # reconstruction will not be exact. The error reflects the information lost. max_reconstruction_error <- max(abs(X - X_hat)) cat(\"Maximum absolute reconstruction error:\", format(max_reconstruction_error, digits=3), \"\\n\") #> Maximum absolute reconstruction error: 1.47 # stopifnot(max_reconstruction_error < 1e-5) # Removed: This check is too strict for lossy reconstruction  # Get the overall coefficient matrix (p_orig x q_final) V <- coef(pipe) cat(\"Dimensions of overall coefficient matrix:\", dim(V), \"\\n\") #> Dimensions of overall coefficient matrix: 15 7  # Get the overall pseudo-inverse matrix (q_final x p_orig) Vplus <- inverse_projection(pipe) cat(\"Dimensions of overall inverse projection matrix:\", dim(Vplus), \"\\n\") #> Dimensions of overall inverse projection matrix: 7 15"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Composing_Projectors.html","id":"house-keeping-helpers","dir":"Articles","previous_headings":"","what":"4. House-keeping helpers","title":"Composing Projectors: Chaining Models","text":"useful helper functions: %>>%: pipe operator specifically composing projectors. preserves stage names projectors named. truncate(pipe, ncomp = k): Safely reduces number components kept last stage pipeline. variables_used(pipe) / vars_for_component(pipe, k): (Potential future helpers) Intended trace original variables contribute final scores, especially useful stages perform variable selection.","code":"# pipe3 <- pca1 %>>% pca2 %>>% pca3"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Composing_Projectors.html","id":"where-next","dir":"Articles","previous_headings":"","what":"6. Where next?","title":"Composing Projectors: Chaining Models","text":"Composed projectors open possibilities: Combine pre-processing (e.g., centering, scaling), dimensionality reduction (PCA, PLS), perhaps orthogonal rotation (Varimax, Procrustes) single, deployable modeling artifact. Future enhancements might allow tracing lineage specific final components back exact original variables contribute significantly, leveraging internal index mapping. Happy composing!","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/articles/CrossValidation.html","id":"why-cross-validate-dimensionality-reduction","dir":"Articles","previous_headings":"","what":"Why Cross-validate Dimensionality Reduction?","title":"Cross-validation for Dimensionality Reduction","text":"using PCA dimensionality reduction methods, often face questions like: - many components keep? - well model generalize new data? - preprocessing strategy works best? Cross-validation provides principled answers testing well models trained one subset data perform held-data.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/articles/CrossValidation.html","id":"quick-example-finding-the-right-number-of-components","dir":"Articles","previous_headings":"","what":"Quick Example: Finding the Right Number of Components","title":"Cross-validation for Dimensionality Reduction","text":"Let‚Äôs use iris dataset demonstrate: plot shows 2 components capture variance, diminishing returns .","code":"# Prepare data X <- as.matrix(scale(iris[, 1:4]))  # 150 samples √ó 4 features  # Create 5-fold cross-validation splits K <- 5 fold_ids <- sample(rep(1:K, length.out = nrow(X))) folds <- lapply(1:K, function(k) list(   train = which(fold_ids != k),   test  = which(fold_ids == k) ))  # Define fitting and measuring functions for PCA cross-validation fit_pca <- function(train_data, ncomp) {   pca(train_data, ncomp = ncomp, preproc = center()) }  measure_pca <- function(model, test_data) {   # Reconstruct test data using the model   test_scores <- project(model, test_data)   reconstructed <- reconstruct(model, scores = test_scores)    # Measure reconstruction error   measure_reconstruction_error(test_data, reconstructed, metrics = c(\"rmse\")) }  # Run cross-validation for different numbers of components results_list <- lapply(1:4, function(ncomp) {   cv_res <- cv_generic(     data = X,     folds = folds,     .fit_fun = fit_pca,     .measure_fun = measure_pca,     fit_args = list(ncomp = ncomp),     backend = \"serial\"   )   cv_res$ncomp <- ncomp   cv_res }) #> Warning in value[[3L]](cond): Measuring failed for fold 1: all(dim(Xtrue) == #> dim(Xrec)) is not TRUE #> Warning in value[[3L]](cond): Measuring failed for fold 2: all(dim(Xtrue) == #> dim(Xrec)) is not TRUE #> Warning in value[[3L]](cond): Measuring failed for fold 3: all(dim(Xtrue) == #> dim(Xrec)) is not TRUE #> Warning in value[[3L]](cond): Measuring failed for fold 4: all(dim(Xtrue) == #> dim(Xrec)) is not TRUE #> Warning in value[[3L]](cond): Measuring failed for fold 5: all(dim(Xtrue) == #> dim(Xrec)) is not TRUE #> Warning in value[[3L]](cond): Measuring failed for fold 1: all(dim(Xtrue) == #> dim(Xrec)) is not TRUE #> Warning in value[[3L]](cond): Measuring failed for fold 2: all(dim(Xtrue) == #> dim(Xrec)) is not TRUE #> Warning in value[[3L]](cond): Measuring failed for fold 3: all(dim(Xtrue) == #> dim(Xrec)) is not TRUE #> Warning in value[[3L]](cond): Measuring failed for fold 4: all(dim(Xtrue) == #> dim(Xrec)) is not TRUE #> Warning in value[[3L]](cond): Measuring failed for fold 5: all(dim(Xtrue) == #> dim(Xrec)) is not TRUE #> Warning in value[[3L]](cond): Measuring failed for fold 1: all(dim(Xtrue) == #> dim(Xrec)) is not TRUE #> Warning in value[[3L]](cond): Measuring failed for fold 2: all(dim(Xtrue) == #> dim(Xrec)) is not TRUE #> Warning in value[[3L]](cond): Measuring failed for fold 3: all(dim(Xtrue) == #> dim(Xrec)) is not TRUE #> Warning in value[[3L]](cond): Measuring failed for fold 4: all(dim(Xtrue) == #> dim(Xrec)) is not TRUE #> Warning in value[[3L]](cond): Measuring failed for fold 5: all(dim(Xtrue) == #> dim(Xrec)) is not TRUE #> Warning in value[[3L]](cond): Measuring failed for fold 1: all(dim(Xtrue) == #> dim(Xrec)) is not TRUE #> Warning in value[[3L]](cond): Measuring failed for fold 2: all(dim(Xtrue) == #> dim(Xrec)) is not TRUE #> Warning in value[[3L]](cond): Measuring failed for fold 3: all(dim(Xtrue) == #> dim(Xrec)) is not TRUE #> Warning in value[[3L]](cond): Measuring failed for fold 4: all(dim(Xtrue) == #> dim(Xrec)) is not TRUE #> Warning in value[[3L]](cond): Measuring failed for fold 5: all(dim(Xtrue) == #> dim(Xrec)) is not TRUE  # Combine results cv_results <- do.call(rbind, lapply(results_list, function(x) {   data.frame(ncomp = x$ncomp, rmse = mean(x$results$rmse, na.rm = TRUE)) })) #> Warning: Unknown or uninitialised column: `results`. #> Warning in mean.default(x$results$rmse, na.rm = TRUE): argument is not numeric #> or logical: returning NA #> Warning: Unknown or uninitialised column: `results`. #> Warning in mean.default(x$results$rmse, na.rm = TRUE): argument is not numeric #> or logical: returning NA #> Warning: Unknown or uninitialised column: `results`. #> Warning in mean.default(x$results$rmse, na.rm = TRUE): argument is not numeric #> or logical: returning NA #> Warning: Unknown or uninitialised column: `results`. #> Warning in mean.default(x$results$rmse, na.rm = TRUE): argument is not numeric #> or logical: returning NA  # View results print(cv_results) #>    ncomp rmse #> 1      1   NA #> 2      1   NA #> 3      1   NA #> 4      1   NA #> 5      1   NA #> 6      2   NA #> 7      2   NA #> 8      2   NA #> 9      2   NA #> 10     2   NA #> 11     3   NA #> 12     3   NA #> 13     3   NA #> 14     3   NA #> 15     3   NA #> 16     4   NA #> 17     4   NA #> 18     4   NA #> 19     4   NA #> 20     4   NA"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/CrossValidation.html","id":"understanding-the-output","dir":"Articles","previous_headings":"","what":"Understanding the Output","title":"Cross-validation for Dimensionality Reduction","text":"cv_generic() function returns tibble containing: fold: fold number model: fitted model fold (stored list column) metrics: Performance metrics fold (stored list column tibbles)","code":"# View the structure of CV results str(results_list[[1]], max.level = 2) #> tibble [5 √ó 4] (S3: tbl_df/tbl/data.frame) #>  $ fold   : int [1:5] 1 2 3 4 5 #>  $ model  :List of 5 #>  $ metrics:List of 5 #>  $ ncomp  : int [1:5] 1 1 1 1 1  # Extract and combine all metrics across folds all_fold_metrics <- lapply(results_list, function(res) {   data.frame(     ncomp = res$ncomp,     fold_metrics = dplyr::bind_rows(res$metrics)   ) }) print(head(all_fold_metrics[[1]])) #>   ncomp                                    error #> 1     1 all(dim(Xtrue) == dim(Xrec)) is not TRUE #> 2     1 all(dim(Xtrue) == dim(Xrec)) is not TRUE #> 3     1 all(dim(Xtrue) == dim(Xrec)) is not TRUE #> 4     1 all(dim(Xtrue) == dim(Xrec)) is not TRUE #> 5     1 all(dim(Xtrue) == dim(Xrec)) is not TRUE"},{"path":[]},{"path":"https://bbuchsbaum.github.io/multivarious/articles/CrossValidation.html","id":"scenario-1-comparing-preprocessing-strategies","dir":"Articles","previous_headings":"Custom Cross-validation Scenarios","what":"Scenario 1: Comparing Preprocessing Strategies","title":"Cross-validation for Dimensionality Reduction","text":"Use cv_generic() compare different preprocessing pipelines:","code":"# Define two preprocessing strategies prep1 <- center()                       # Center only prep2 <- colscale(center(), type = \"z\") # Center and scale (z-score)  # Fit function that uses PCA with preprocessing fit_with_prep <- function(train_data, ncomp, preproc) {   # PCA will handle preprocessing internally   pca(train_data, ncomp = ncomp, preproc = preproc) }  # Measure function that handles preprocessing measure_with_prep <- function(model, test_data) {   # Project and reconstruct - PCA handles preprocessing automatically   scores <- project(model, test_data)   recon <- reconstruct(model, scores = scores)    # Calculate metrics   measure_reconstruction_error(test_data, recon,                                metrics = c(\"rmse\", \"r2\")) }  # Compare both strategies cv_prep1 <- cv_generic(   X, folds,   .fit_fun = fit_with_prep,   .measure_fun = measure_with_prep,   fit_args = list(ncomp = 3, preproc = prep1) ) #> Warning in value[[3L]](cond): Measuring failed for fold 1: all(dim(Xtrue) == #> dim(Xrec)) is not TRUE #> Warning in value[[3L]](cond): Measuring failed for fold 2: all(dim(Xtrue) == #> dim(Xrec)) is not TRUE #> Warning in value[[3L]](cond): Measuring failed for fold 3: all(dim(Xtrue) == #> dim(Xrec)) is not TRUE #> Warning in value[[3L]](cond): Measuring failed for fold 4: all(dim(Xtrue) == #> dim(Xrec)) is not TRUE #> Warning in value[[3L]](cond): Measuring failed for fold 5: all(dim(Xtrue) == #> dim(Xrec)) is not TRUE  cv_prep2 <- cv_generic(   X, folds,   .fit_fun = fit_with_prep,   .measure_fun = measure_with_prep,   fit_args = list(ncomp = 3, preproc = prep2) ) #> Warning in value[[3L]](cond): Measuring failed for fold 1: all(dim(Xtrue) == #> dim(Xrec)) is not TRUE #> Warning in value[[3L]](cond): Measuring failed for fold 2: all(dim(Xtrue) == #> dim(Xrec)) is not TRUE #> Warning in value[[3L]](cond): Measuring failed for fold 3: all(dim(Xtrue) == #> dim(Xrec)) is not TRUE #> Warning in value[[3L]](cond): Measuring failed for fold 4: all(dim(Xtrue) == #> dim(Xrec)) is not TRUE #> Warning in value[[3L]](cond): Measuring failed for fold 5: all(dim(Xtrue) == #> dim(Xrec)) is not TRUE  # Compare results - extract metrics from the tibble metrics1 <- dplyr::bind_rows(cv_prep1$metrics) metrics2 <- dplyr::bind_rows(cv_prep2$metrics)  cat(\"Center only - RMSE:\", mean(metrics1$rmse, na.rm = TRUE), \"\\n\") #> Warning: Unknown or uninitialised column: `rmse`. #> Warning in mean.default(metrics1$rmse, na.rm = TRUE): argument is not numeric #> or logical: returning NA #> Center only - RMSE: NA cat(\"Center + Scale - RMSE:\", mean(metrics2$rmse, na.rm = TRUE), \"\\n\") #> Warning: Unknown or uninitialised column: `rmse`. #> Warning in mean.default(metrics2$rmse, na.rm = TRUE): argument is not numeric #> or logical: returning NA #> Center + Scale - RMSE: NA"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/CrossValidation.html","id":"scenario-2-parallel-cross-validation","dir":"Articles","previous_headings":"Custom Cross-validation Scenarios","what":"Scenario 2: Parallel Cross-validation","title":"Cross-validation for Dimensionality Reduction","text":"larger datasets, run folds parallel:","code":"# Setup parallel backend library(future) plan(multisession, workers = 4)  # Run CV in parallel cv_parallel <- cv_generic(   X,   folds = folds,   .fit_fun = fit_pca,   .measure_fun = measure_pca,   fit_args = list(ncomp = 4),   backend = \"future\"  # Use parallel backend )  # Don't forget to reset plan(sequential)"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/CrossValidation.html","id":"available-metrics","dir":"Articles","previous_headings":"","what":"Available Metrics","title":"Cross-validation for Dimensionality Reduction","text":"measure_reconstruction_error() function provides several metrics:","code":"# Define measure function with multiple metrics measure_pca_multi <- function(model, test_data) {   test_scores <- project(model, test_data)   reconstructed <- reconstruct(model, scores = test_scores)   measure_reconstruction_error(test_data, reconstructed,                                metrics = c(\"rmse\", \"r2\", \"mae\")) }  # Calculate multiple metrics at once cv_multi <- cv_generic(   X,   folds = folds,   .fit_fun = fit_pca,   .measure_fun = measure_pca_multi,   fit_args = list(ncomp = 4) ) #> Warning in value[[3L]](cond): Measuring failed for fold 1: all(dim(Xtrue) == #> dim(Xrec)) is not TRUE #> Warning in value[[3L]](cond): Measuring failed for fold 2: all(dim(Xtrue) == #> dim(Xrec)) is not TRUE #> Warning in value[[3L]](cond): Measuring failed for fold 3: all(dim(Xtrue) == #> dim(Xrec)) is not TRUE #> Warning in value[[3L]](cond): Measuring failed for fold 4: all(dim(Xtrue) == #> dim(Xrec)) is not TRUE #> Warning in value[[3L]](cond): Measuring failed for fold 5: all(dim(Xtrue) == #> dim(Xrec)) is not TRUE  # View all metrics - extract from list column all_metrics_multi <- dplyr::bind_rows(cv_multi$metrics) print(all_metrics_multi) #> # A tibble: 5 √ó 1 #>   error                                    #>   <chr>                                    #> 1 all(dim(Xtrue) == dim(Xrec)) is not TRUE #> 2 all(dim(Xtrue) == dim(Xrec)) is not TRUE #> 3 all(dim(Xtrue) == dim(Xrec)) is not TRUE #> 4 all(dim(Xtrue) == dim(Xrec)) is not TRUE #> 5 all(dim(Xtrue) == dim(Xrec)) is not TRUE  # Calculate mean of each metric across folds cat(\"\\nMean metrics across folds:\\n\") #>  #> Mean metrics across folds: cat(\"RMSE:\", mean(all_metrics_multi$rmse, na.rm = TRUE), \"\\n\") #> Warning: Unknown or uninitialised column: `rmse`. #> Warning in mean.default(all_metrics_multi$rmse, na.rm = TRUE): argument is not #> numeric or logical: returning NA #> RMSE: NA cat(\"R¬≤:  \", mean(all_metrics_multi$r2, na.rm = TRUE), \"\\n\") #> Warning: Unknown or uninitialised column: `r2`. #> Warning in mean.default(all_metrics_multi$r2, na.rm = TRUE): argument is not #> numeric or logical: returning NA #> R¬≤:   NA cat(\"MAE: \", mean(all_metrics_multi$mae, na.rm = TRUE), \"\\n\") #> Warning: Unknown or uninitialised column: `mae`. #> Warning in mean.default(all_metrics_multi$mae, na.rm = TRUE): argument is not #> numeric or logical: returning NA #> MAE:  NA"},{"path":[]},{"path":"https://bbuchsbaum.github.io/multivarious/articles/CrossValidation.html","id":"preprocessing-inside-the-loop","dir":"Articles","previous_headings":"Tips for Effective Cross-validation","what":"1. Preprocessing Inside the Loop","title":"Cross-validation for Dimensionality Reduction","text":"Always fit preprocessing parameters inside CV loop:","code":"# WRONG: Preprocessing outside CV X_scaled <- scale(X)  # Uses information from all samples! cv_wrong <- cv_generic(   X_scaled, folds,   .fit_fun = fit_pca,   .measure_fun = measure_pca,   fit_args = list(ncomp = 4) )  # RIGHT: Preprocessing inside CV # Let PCA handle preprocessing with the preproc parameter # (See preprocessing comparison example above)"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/CrossValidation.html","id":"choose-appropriate-fold-sizes","dir":"Articles","previous_headings":"Tips for Effective Cross-validation","what":"2. Choose Appropriate Fold Sizes","title":"Cross-validation for Dimensionality Reduction","text":"Small datasets (< 100 samples): Use leave-one-10-fold CV Medium datasets (100-1000): Use 5-10 fold CV Large datasets (> 1000): Use 3-5 fold CV hold-validation","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/articles/CrossValidation.html","id":"consider-metric-choice","dir":"Articles","previous_headings":"Tips for Effective Cross-validation","what":"3. Consider Metric Choice","title":"Cross-validation for Dimensionality Reduction","text":"Use RMSE general reconstruction quality Use R¬≤ understand proportion variance explained Use MAE outliers concern","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/articles/CrossValidation.html","id":"advanced-cross-validating-other-projectors","dir":"Articles","previous_headings":"","what":"Advanced: Cross-validating Other Projectors","title":"Cross-validation for Dimensionality Reduction","text":"CV framework works projector type:","code":"# Define fit function for kernel PCA using Nystr√∂m approximation fit_kernel_pca <- function(train_data, ncomp) {   # Defaults to linear kernel; pass a custom kernel_func if needed   nystrom_approx(train_data, ncomp = ncomp, nlandmarks = 50) }  # Define measure function measure_kernel <- function(model, test_data) {   test_scores <- project(model, test_data)   reconstructed <- reconstruct(model, scores = test_scores)   measure_reconstruction_error(test_data, reconstructed, metrics = c(\"rmse\")) }  # Cross-validate kernel PCA cv_kernel <- cv_generic(   X,   folds = folds,   .fit_fun = fit_kernel_pca,   .measure_fun = measure_kernel,   fit_args = list(ncomp = 10) )  # For discriminant analysis with labels (requires passing labels) fit_lda <- function(train_data, ncomp, labels) {   discriminant_projector(train_data, labels, ncomp = ncomp) }  cv_lda <- cv_generic(   X,   folds = folds,   .fit_fun = fit_lda,   .measure_fun = measure_pca,   fit_args = list(ncomp = 3, labels = iris$Species) )"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/CrossValidation.html","id":"kernel-pca-via-nystr√∂m-standard-and-double","dir":"Articles","previous_headings":"","what":"Kernel PCA via Nystr√∂m (standard and double)","title":"Cross-validation for Dimensionality Reduction","text":"nystrom_approx() function provides two variants: method = \"standard\": Williams‚ÄìSeeger single-stage Nystr√∂m usual scaling method = \"double\": Lim‚ÄìJin‚ÄìZhang two-stage Nystr√∂m (efficient p large) centered linear kernel points landmarks (m = N), Nystr√∂m eigen-decomposition recovers exact top eigenpairs kernel matrix K = X_c X_c^T. reproducible snippet demonstrates shows project new data. large feature counts (p >> n), set method = \"double\" choose modest intermediate rank l reduce small problem size. Provide custom kernel_func need non-linear kernel (e.g., RBF).","code":"set.seed(123) X <- matrix(rnorm(80 * 10), 80, 10) ncomp <- 5  # Exact setting: linear kernel + centering + m = N fit_std <- nystrom_approx(   X, ncomp = ncomp, landmarks = 1:nrow(X), preproc = center(), method = \"standard\" )  # Compare kernel eigenvalues: eig(K) vs fit_std$sdev^2 Xc <- transform(fit_std$preproc, X) K  <- Xc %*% t(Xc) lam_K <- eigen(K, symmetric = TRUE)$values[1:ncomp]  data.frame(   component = 1:ncomp,   nystrom = sort(fit_std$sdev^2, decreasing = TRUE),   exact_K  = sort(lam_K,          decreasing = TRUE) ) #>   component   nystrom   exact_K #> 1         1 117.64481 117.64481 #> 2         2 112.66863 112.66863 #> 3         3 103.44825 103.44825 #> 4         4  83.17891  83.17891 #> 5         5  78.30886  78.30886  # Relationship with PCA: prcomp() returns singular values / sqrt(n - 1) p <- prcomp(Xc, center = FALSE, scale. = FALSE) lam_from_pca <- p$sdev[1:ncomp]^2 * (nrow(X) - 1) # equals eig(K)  data.frame(   component = 1:ncomp,   from_pca  = sort(lam_from_pca,  decreasing = TRUE),   exact_K   = sort(lam_K,         decreasing = TRUE) ) #>   component  from_pca   exact_K #> 1         1 117.64481 117.64481 #> 2         2 112.66863 112.66863 #> 3         3 103.44825 103.44825 #> 4         4  83.17891  83.17891 #> 5         5  78.30886  78.30886  # Out-of-sample projection for new rows new_rows <- 1:5 scores_new <- project(fit_std, X[new_rows, , drop = FALSE]) head(scores_new) #>            [,1]         [,2]        [,3]       [,4]       [,5] #> [1,] -0.5065700 -0.003782324 -0.89690602 -1.2402365 -0.2466715 #> [2,] -0.3673067  0.489430969 -1.23213982 -1.5330320  0.7247966 #> [3,]  1.9065578 -0.008104080 -0.61654002  1.5191661  1.2188904 #> [4,] -1.5843734 -0.908340577 -0.94045424 -2.8897545 -2.0328659 #> [5,]  0.5690207  0.002415067  0.09988366 -0.0194067  0.5888599  # Double Nystr√∂m collapses to standard when l = m = N fit_dbl <- nystrom_approx(   X, ncomp = ncomp, landmarks = 1:nrow(X), preproc = center(), method = \"double\", l = nrow(X) ) all.equal(sort(fit_std$sdev^2, decreasing = TRUE), sort(fit_dbl$sdev^2, decreasing = TRUE)) #> [1] TRUE # Example RBF kernel gaussian_kernel <- function(A, B, sigma = 1) {   # ||a-b||^2 = ||a||^2 + ||b||^2 - 2 a¬∑b   G  <- A %*% t(B)   a2 <- rowSums(A * A)   b2 <- rowSums(B * B)   D2 <- outer(a2, b2, \"+\") - 2 * G   exp(-D2 / (2 * sigma^2)) }  fit_rbf <- nystrom_approx(   X, ncomp = 8, nlandmarks = 40, preproc = center(), method = \"double\", l = 20,   kernel_func = gaussian_kernel ) scores_rbf <- project(fit_rbf, X[1:10, ])"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/CrossValidation.html","id":"test-coverage-for-nystr√∂m","dir":"Articles","previous_headings":"Kernel PCA via Nystr√∂m (standard and double)","what":"Test coverage for Nystr√∂m","title":"Cross-validation for Dimensionality Reduction","text":"package includes unit tests validate Nystr√∂m correctness: Standard Nystr√∂m recovers exact kernel eigenpairs m = N (centered linear kernel) Double Nystr√∂m matches standard l = m = N project() reproduces training scores matches manual formulas methods See tests/testthat/test_nystrom.R source details.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/articles/CrossValidation.html","id":"crossvalidated-kernel-rmse-nystr√∂m-vs-pca","dir":"Articles","previous_headings":"Kernel PCA via Nystr√∂m (standard and double)","what":"Cross‚Äëvalidated kernel RMSE: Nystr√∂m vs PCA","title":"Cross-validation for Dimensionality Reduction","text":"compare PCA Nystr√∂m (linear kernel) via kernel‚Äëspace RMSE held‚Äëfolds. test block preprocessed data X_test_c, true kernel K_true = X_test_c %*% t(X_test_c). rank‚Äëk model, approximated kernel K_hat = S %*% t(S), S component scores returned project().","code":"set.seed(202)  # PCA fit function (reuses earlier fit_pca) fit_pca <- function(train_data, ncomp) {   pca(train_data, ncomp = ncomp, preproc = center()) }  # Nystr√∂m fit function (standard variant, linear kernel, no RSpectra needed for small data) fit_nystrom <- function(train_data, ncomp, nlandmarks = 50) {   nystrom_approx(train_data, ncomp = ncomp, nlandmarks = nlandmarks,                  preproc = center(), method = \"standard\", use_RSpectra = FALSE) }  # Kernel-space RMSE metric for a test fold measure_kernel_rmse <- function(model, test_data) {   S <- project(model, test_data)   K_hat <- S %*% t(S)   Xc <- reprocess(model, test_data)   K_true <- Xc %*% t(Xc)   tibble::tibble(kernel_rmse = sqrt(mean((K_hat - K_true)^2))) }  # Use a local copy of iris data and local folds for this comparison X_cv <- as.matrix(scale(iris[, 1:4])) K <- 5 fold_ids <- sample(rep(1:K, length.out = nrow(X_cv))) folds_cv <- lapply(1:K, function(k) list(   train = which(fold_ids != k),   test  = which(fold_ids == k) ))  # Compare for k = 3 components k_sel <- 3 cv_pca_kernel <- cv_generic(   X_cv, folds_cv,   .fit_fun = fit_pca,   .measure_fun = measure_kernel_rmse,   fit_args = list(ncomp = k_sel) )  cv_nys_kernel <- cv_generic(   X_cv, folds_cv,   .fit_fun = fit_nystrom,   .measure_fun = measure_kernel_rmse,   fit_args = list(ncomp = k_sel, nlandmarks = 50) )  metrics_pca <- dplyr::bind_rows(cv_pca_kernel$metrics) metrics_nys <- dplyr::bind_rows(cv_nys_kernel$metrics) rmse_pca <- mean(metrics_pca$kernel_rmse, na.rm = TRUE) rmse_nys <- mean(metrics_nys$kernel_rmse, na.rm = TRUE)  cv_summary <- data.frame(   method = c(\"PCA\", \"Nystr√∂m (linear)\"),   kernel_rmse = c(rmse_pca, rmse_nys) ) print(cv_summary) #>             method kernel_rmse #> 1              PCA  0.02153248 #> 2 Nystr√∂m (linear)  0.02266859  # Simple bar plot ggplot(cv_summary, aes(x = method, y = kernel_rmse, fill = method)) +   geom_col(width = 0.6) +   guides(fill = \"none\") +   labs(title = \"Cross‚Äëvalidated kernel RMSE (k = 3)\", y = \"Kernel RMSE\", x = NULL)"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/CrossValidation.html","id":"summary","dir":"Articles","previous_headings":"","what":"Summary","title":"Cross-validation for Dimensionality Reduction","text":"multivarious CV framework provides: - Easy cross-validation dimensionality reduction method - Flexible metric calculation - Parallel execution support - Tidy output format easy analysis Use make informed decisions model complexity ensure dimensionality reduction generalizes well new data.","code":""},{"path":[]},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Extending.html","id":"data-setup","dir":"Articles","previous_headings":"1. Canonical Correlation Analysis with cross_projector","what":"1.1 Data Setup","title":"Extending multiblock: CCA and glmnet Examples","text":"use classic Iris dataset split features two blocks: X-block: Sepal.Length, Sepal.Width Y-block: Petal.Length, Petal.Width","code":"data(iris) X <- as.matrix(iris[, 1:2]) Y <- as.matrix(iris[, 3:4])  # Show first few rows of combined data head(cbind(X, Y)) #>      Sepal.Length Sepal.Width Petal.Length Petal.Width #> [1,]          5.1         3.5          1.4         0.2 #> [2,]          4.9         3.0          1.4         0.2 #> [3,]          4.7         3.2          1.3         0.2 #> [4,]          4.6         3.1          1.5         0.2 #> [5,]          5.0         3.6          1.4         0.2 #> [6,]          5.4         3.9          1.7         0.4"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Extending.html","id":"wrap-statscancor-into-a-cross_projector","dir":"Articles","previous_headings":"1. Canonical Correlation Analysis with cross_projector","what":"1.2 Wrap stats::cancor() into a cross_projector","title":"Extending multiblock: CCA and glmnet Examples","text":"create fitting function runs standard CCA using stats::cancor() stores resulting coefficients (loadings) preprocessing steps cross_projector object. cross_projector enable? Projection: Map new X Y data shared latent space defined CCA (project(cp_cca, newX, = \"X\")). Transfer/Prediction: Predict Y block X block, vice-versa (transfer(cp_cca, newX, = \"X\", = \"Y\")). Partial Features: Project transfer using subset features X Y (partial_project). Integration: Use standardized multiblock tools like cross-validation (cv) permutation testing (perm_test).","code":"fit_cca <- function(Xtrain, Ytrain, ncomp = 2, ...) {   # Step 1: Define and fit preprocessors with training data   # Use center()+z-score for both blocks (swap to center() only if preferred)   preproc_x <- fit(colscale(center(), type = \"z\"), Xtrain)   preproc_y <- fit(colscale(center(), type = \"z\"), Ytrain)    # Step 2: Transform training data with the fitted preprocessors   Xp <- transform(preproc_x, Xtrain)   Yp <- transform(preproc_y, Ytrain)    # Step 3: Run CCA on the preprocessed data (no additional centering here)   cc <- stats::cancor(Xp, Yp, xcenter = FALSE, ycenter = FALSE)    # Step 4: Store loadings and preprocessors in a cross_projector   cp <- cross_projector(     vx         = cc$xcoef[, 1:ncomp, drop = FALSE],     vy         = cc$ycoef[, 1:ncomp, drop = FALSE],     preproc_x  = preproc_x,     preproc_y  = preproc_y,     classes    = \"cca_cross_projector\"   )   attr(cp, \"can_cor\") <- cc$cor[1:ncomp]   cp }  # Fit the model cp_cca <- fit_cca(X, Y) print(cp_cca) #> cross projector:  cca_cross_projector cross_projector projector  #> input dim (X):  2  #> output dim (X):  2  #> input dim (Y):  2  #> output dim (Y):  2 attr(cp_cca, \"can_cor\") # Show canonical correlations #> [1] 0.9409690 0.1239369"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Extending.html","id":"bidirectional-prediction-transfer","dir":"Articles","previous_headings":"1. Canonical Correlation Analysis with cross_projector","what":"1.3 Bidirectional Prediction (Transfer)","title":"Extending multiblock: CCA and glmnet Examples","text":"Let‚Äôs predict Y-block (Petal measurements) using X-block (Sepal measurements).","code":"# Predict Y from X Y_hat <- transfer(cp_cca, X, from = \"X\", to = \"Y\") head(round(Y_hat, 2)) #>      [,1] [,2] #> [1,] 1.84 0.54 #> [2,] 1.91 0.32 #> [3,] 1.32 0.15 #> [4,] 1.21 0.05 #> [5,] 1.54 0.46 #> [6,] 2.06 0.85  # Evaluate reconstruction quality (comparing original Y to predicted Y) # Note: CCA maximizes correlation in the latent space, not prediction accuracy. # With only 2 components and weak relationships between sepal and petal features, # the R¬≤ may be modest. For prediction tasks, consider PLS instead of CCA. measure_reconstruction_error(Y, Y_hat, metrics = c(\"rmse\", \"r2\")) #> # A tibble: 1 √ó 2 #>    rmse    r2 #>   <dbl> <dbl> #> 1 0.588 0.900"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Extending.html","id":"using-partial-features","dir":"Articles","previous_headings":"1. Canonical Correlation Analysis with cross_projector","what":"1.4 Using Partial Features","title":"Extending multiblock: CCA and glmnet Examples","text":"Sepal.Length (first column X) prediction time?","code":"new_x_partial   <- X[, 1, drop = FALSE] # One column matrix col_index       <- 1                     # Its index in the original X block  # Project this partial data into the latent space # Note: partial_project needs 'source' for cross_projector scores_partial  <- partial_project(cp_cca, new_x_partial,                                    colind = col_index,                                    source = \"X\") # Specify source block head(round(scores_partial, 3)) #>        [,1]   [,2] #> [1,]  9.564 -5.187 #> [2,] 12.137 -6.582 #> [3,] 14.710 -7.978 #> [4,] 15.997 -8.676 #> [5,] 10.851 -5.885 #> [6,]  5.704 -3.093  # We could then map these scores back to the Y-block space if needed, # though interpretation might require care. Example using inverse_projection: # Assuming inverse_projection method exists for cross_projector # y_from_partial  <- scores_partial %*% inverse_projection(cp_cca, domain = \"Y\") # head(round(y_from_partial, 2))"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Extending.html","id":"cross-validated-component-selection","dir":"Articles","previous_headings":"1. Canonical Correlation Analysis with cross_projector","what":"1.5 Cross-validated Component Selection","title":"Extending multiblock: CCA and glmnet Examples","text":"can use cv_generic function (dedicated cv method available cross_projector) evaluate performance across components. , measure Root Mean Squared Error (RMSE) transferring blocks.","code":"set.seed(1) folds <- kfold_split(nrow(X), k = 5) # Create 5 folds  # Note: Using cv_generic requires careful handling of two-block data. # The following demonstrates the concept, assuming a cv method exists # that can handle X, Y inputs directly or that cv_generic is adapted. # For a real application, one might need helper functions within .fit_fun # and .measure_fun to split/combine the data blocks within each fold.  # Placeholder call assuming an appropriate `cv` method or adapted `cv_generic`: # cv_res <- cv( # Or cv_generic(...) #   X, Y, # Hypothetical interface accepting two blocks #   folds          = folds, #   max_comp       = 2, #   fit_fun        = fit_cca, #   measure_fun    = measure_interblock_transfer_error, #   measure_args   = list(metrics = c(\"x2y.rmse\", \"y2x.rmse\")) # ) # print(summary(cv_res)) # Would show average RMSE per component  # Example using cv_generic with wrappers (conceptual) # Define wrappers carefully based on how data/folds are structured # .fit_wrapper <- function(train_data_list, ncomp, ...) { #    fit_cca(train_data_list$X, train_data_list$Y, ncomp=ncomp, ...) # } # .measure_wrapper <- function(model, test_data_list, metrics) { #    measure_interblock_transfer_error(test_data_list$X, test_data_list$Y, model, metrics=metrics) # } # cv_generic_res <- cv_generic( #    data = list(X=X, Y=Y), # Requires folds based on row indices of X & Y #    folds = folds, #    .fit_fun = .fit_wrapper, #    fit_args = list(ncomp=2), # Pass ncomp here if fit_cca needs it #    .measure_fun = .measure_wrapper, #    measure_args = list(metrics=c(\"x2y.rmse\", \"y2x.rmse\")) # ) # print(summary(cv_generic_res)) # This would work if wrappers are correct  cat(\"Skipping CV execution in vignette for brevity/simplicity.\\n\") #> Skipping CV execution in vignette for brevity/simplicity. cat(\"Users should adapt cv/cv_generic call based on package structure.\\n\") #> Users should adapt cv/cv_generic call based on package structure."},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Extending.html","id":"permutation-test","dir":"Articles","previous_headings":"1. Canonical Correlation Analysis with cross_projector","what":"1.6 Permutation Test","title":"Extending multiblock: CCA and glmnet Examples","text":"can test significance relationship found CCA using perm_test. shuffles rows one block (e.g., Y) relative see observed transfer error lower expected chance.","code":"# Assuming perm_test.cross_projector method exists # perm_res <- perm_test( #   cp_cca, X, Y = Y, # Pass the cross_projector and original data blocks #   nperm = 100, # Use more perms (e.g., 1000) in practice #   alternative = \"less\", # Test if observed error is less than permuted error #   # Need to specify the statistic measured by perm_test for cross_projector #   # e.g., measure_fun = function(model, X, Y) { #   #    Yh <- transfer(model, X, from=\"X\", to=\"Y\"); measure_reconstruction_error(Y, Yh, \"rmse\")$rmse #   # } # ) # print(perm_res)  cat(\"Skipping permutation test execution in vignette.\\n\") #> Skipping permutation test execution in vignette. cat(\"Requires perm_test method for cross_projector, specifying the test statistic.\\n\") #> Requires perm_test method for cross_projector, specifying the test statistic."},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Extending.html","id":"cca-take-aways","dir":"Articles","previous_headings":"1. Canonical Correlation Analysis with cross_projector","what":"1.7 CCA Take-aways","title":"Extending multiblock: CCA and glmnet Examples","text":"cross_projector provides convenient wrapper two-block methods like CCA. enables using standard multiblock verbs (project, transfer, partial_project, cv, perm_test) wrapped model. Preprocessing handled internally, reducing risk data leakage. methods (PLS, O2PLS) can integrated providing different fit_fun.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Extending.html","id":"example-wrapping-glmnet-as-a-projector","dir":"Articles","previous_headings":"","what":"2. Example: Wrapping glmnet as a projector","title":"Extending multiblock: CCA and glmnet Examples","text":"projector object maps data original space lower-dimensional space defined components (v). useful dimensionality reduction (like PCA) can also represent coefficients supervised models like penalized regression. , fit LASSO using glmnet wrap resulting coefficients (excluding intercept) projector.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Extending.html","id":"data-and-model-fitting","dir":"Articles","previous_headings":"2. Example: Wrapping glmnet as a projector","what":"2.1 Data and Model Fitting","title":"Extending multiblock: CCA and glmnet Examples","text":"","code":"# Generate sample data set.seed(123) n_obs <- 100 n_pred <- 50 X_glm <- matrix(rnorm(n_obs * n_pred), n_obs, n_pred) # True coefficients (sparse) true_beta <- matrix(0, n_pred, 1) true_beta[1:10, 1] <- runif(10, -1, 1) # Response variable with noise y_glm <- X_glm %*% true_beta + rnorm(n_obs, sd = 0.5)  # Fit glmnet (LASSO, alpha=1) # Typically use cv.glmnet to find lambda, but using a fixed one for simplicity glm_fit <- glmnet::glmnet(X_glm, y_glm, alpha = 1) # alpha=1 is LASSO  # Choose a lambda (e.g., one near the end of the path) chosen_lambda <- glm_fit$lambda[length(glm_fit$lambda) * 0.8]  # Get coefficients for this lambda beta_hat <- coef(glm_fit, s = chosen_lambda) print(paste(\"Number of non-zero coefficients:\", sum(beta_hat != 0))) #> [1] \"Number of non-zero coefficients: 44\"  # Extract coefficients, excluding the intercept v_glm <- beta_hat[-1, 1, drop = FALSE] # Drop intercept, ensure it's a matrix dim(v_glm) # Should be n_pred x 1 #> [1] 50  1"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Extending.html","id":"create-the-projector","dir":"Articles","previous_headings":"2. Example: Wrapping glmnet as a projector","what":"2.2 Create the projector","title":"Extending multiblock: CCA and glmnet Examples","text":"define projector using coefficients. projection X %*% v gives single score per observation, representing LASSO linear predictor. also include centering scaling preprocessing, often recommended glmnet.","code":"# Define preprocessor # Define and fit preprocessor with training data preproc_glm <- fit(colscale(center(), type = \"z\"), X_glm)  # Create the projector proj_glm <- projector(   v = v_glm,   preproc = preproc_glm,   classes = \"glmnet_projector\" )  print(proj_glm) #> Projector object: #>   Input dimension: 50 #>   Output dimension: 1 #>   With pre-processing: #> A finalized pre-processing pipeline: #>  Step  1 : center #>  Step  2 : colscale"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Extending.html","id":"project-new-data","dir":"Articles","previous_headings":"2. Example: Wrapping glmnet as a projector","what":"2.3 Project New Data","title":"Extending multiblock: CCA and glmnet Examples","text":"can now use projector calculate LASSO linear predictor score new data.","code":"# Generate some new test data X_glm_test <- matrix(rnorm(20 * n_pred), 20, n_pred)  # Project the test data # project() handles applying the centering/scaling from preproc_glm lasso_scores <- project(proj_glm, X_glm_test)  head(round(lasso_scores, 3)) #>      s=0.004767049 #> [1,]         0.660 #> [2,]        -1.142 #> [3,]         4.503 #> [4,]         0.249 #> [5,]        -2.710 #> [6,]        -0.867 dim(lasso_scores) # Should be n_test x 1 (since v_glm has 1 column) #> [1] 20  1  # Compare with direct calculation using transform # Apply the same preprocessing used within project() X_glm_test_processed <- transform(preproc_glm, X_glm_test) # Calculate scores directly using the processed data and coefficients direct_scores <- X_glm_test_processed %*% v_glm head(round(direct_scores, 3)) #> 6 x 1 Matrix of class \"dgeMatrix\" #>      s=0.004767049 #> [1,]         0.660 #> [2,]        -1.142 #> [3,]         4.503 #> [4,]         0.249 #> [5,]        -2.710 #> [6,]        -0.867  # Check they are close all.equal(c(lasso_scores), c(direct_scores)) #> [1] \"Modes: numeric, list\"               \"Lengths: 20, 1\"                     #> [3] \"target is numeric, current is list\""},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Introduction.html","id":"the-goal-unified-dimensionality-reduction","dir":"Articles","previous_headings":"","what":"The Goal: Unified Dimensionality Reduction","title":"Introduction to the multivarious Package","text":"Multivariate data analysis often involves reducing dimensionality transforming data using techniques like Principal Component Analysis (PCA), Partial Least Squares (PLS), Contrastive PCA (cPCA), Nystr√∂m approximation Kernel PCA, representing data specific basis (e.g., Fourier, splines). method unique mathematical underpinnings, share common operational needs: Fitting model training data. Extracting key components (scores, loadings/coefficients). Projecting new data points reduced/transformed space. Reconstructing approximations original data reduced space. Integrating steps pre-processing (like centering scaling). Comparing tuning models using cross-validation. Handling tasks consistently across different algorithms can lead repetitive code complex workflows. multivarious package aims simplify providing unified interface centered around concept bi_projector.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Introduction.html","id":"the-bi_projector-a-two-way-map","dir":"Articles","previous_headings":"","what":"The bi_projector: A Two-Way Map","title":"Introduction to the multivarious Package","text":"bi_projector class cornerstone multivarious. represents linear transformation (approximation thereof) provides two-way mapping: Samples (Rows) ‚ÜîÔ∏é Scores: Maps data points original high-dimensional space lower-dimensional latent space (scores), potentially back. Variables (Columns) ‚ÜîÔ∏é Components/Loadings: Maps original variables representation latent space (loadings/components), potentially back. Think encapsulating core results dimensionality reduction technique (like U, S, V components SVD, scores loadings PCA/PLS) along necessary pre-processing information. Crucially, many functions within multivarious (e.g., pca(), pls(), cPCAplus(), nystrom_approx(), regress()) return objects inherit bi_projector.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Introduction.html","id":"key-actions-with-a-bi_projector","dir":"Articles","previous_headings":"","what":"Key Actions with a bi_projector","title":"Introduction to the multivarious Package","text":"different methods return bi_projector, can perform common tasks using consistent set verbs: scores(model): Get scores (latent space representation) training data. coef(model) loadings(model): Get loadings coefficients mapping variables components. project(model, newdata): Project new samples (rows newdata) latent space defined model. reconstruct(model, ...): Reconstruct approximation original data latent space (either training scores provided new scores/coefficients). truncate(model, ncomp): Reduce number components kept model. summary(model): Get concise summary model dimensions. consistent API simplifies writing generic analysis code makes easier swap different dimensionality reduction methods.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Introduction.html","id":"example-pca-workflow","dir":"Articles","previous_headings":"","what":"Example: PCA Workflow","title":"Introduction to the multivarious Package","text":"Let‚Äôs demonstrate typical workflow using PCA classic iris dataset. example shows fitting (pca), accessing results (scores, loadings), applying model new data (project) follow consistent pattern, regardless whether underlying method PCA, PLS, another technique returning bi_projector.","code":"# Load iris dataset and select numeric columns data(iris) X <- as.matrix(iris[, 1:4])  # 1. Define a pre-processor (center the data) preproc <- center()  # 2. Fit PCA using svd_wrapper, keeping 3 components #    The pre-processor is applied internally. fit <- pca(X, ncomp = 3, preproc = preproc)  # The result 'fit' is a bi_projector print(fit) #> PCA object  -- derived from SVD #>  #> Data: 150 observations x 4 variables #> Components retained: 3 #>  #> Variance explained (per component): #>  1 2 3  92.95  5.33  1.72%  (cumulative:  92.95 98.28   100%)  # 3. Access results iris_scores <- scores(fit) # Scores of the centered training data (150 x 3) iris_loadings <- loadings(fit) # Loadings (4 x 3) cat(\"\\nDimensions of Scores:\", dim(iris_scores), \"\\n\") #>  #> Dimensions of Scores: 150 3 cat(\"Dimensions of Loadings:\", dim(iris_loadings), \"\\n\") #> Dimensions of Loadings:  # 4. Project new data # Create some new iris-like samples (5 samples, 4 variables) set.seed(123) new_iris_data <- matrix(rnorm(5 * 4, mean = colMeans(X), sd = apply(X, 2, sd)),                          nrow = 5, byrow = TRUE)  # Project the new data into the PCA space defined by 'fit' # Pre-processing (centering using training data means) is applied automatically. projected_new_scores <- project(fit, new_iris_data) cat(\"\\nDimensions of Projected New Data Scores:\", dim(projected_new_scores), \"\\n\") #>  #> Dimensions of Projected New Data Scores: 5 3 print(head(projected_new_scores)) #>            [,1]       [,2]        [,3] #> [1,] -2.2172144  0.8590909 -0.44924532 #> [2,] -0.3270495 -0.5478369  0.07965279 #> [3,] -1.7602954  0.9106117 -0.52932939 #> [4,]  0.2367242 -0.3204326 -0.50433574 #> [5,] -1.1529598  0.5426518  0.85478044  # 5. Reconstruct approximated original data from scores # Reconstruct the first few original samples reconstructed_X_approx <- reconstruct(fit, comp=1:3) # uses scores(fit) by default cat(\"\\nReconstructed Approximation of Original Data (first 5 rows):\\n\") #>  #> Reconstructed Approximation of Original Data (first 5 rows): print(head(reconstructed_X_approx)) #>          [,1]     [,2]     [,3]      [,4] #> [1,] 5.099286 3.500723 1.401086 0.1982949 #> [2,] 4.868758 3.031661 1.447517 0.1253679 #> [3,] 4.693700 3.206384 1.309582 0.1849507 #> [4,] 4.623843 3.075837 1.463736 0.2569583 #> [5,] 5.019326 3.580414 1.370606 0.2461680 #> [6,] 5.407635 3.892262 1.688387 0.4182392  print(head(X)) # Original data for comparison #>      Sepal.Length Sepal.Width Petal.Length Petal.Width #> [1,]          5.1         3.5          1.4         0.2 #> [2,]          4.9         3.0          1.4         0.2 #> [3,]          4.7         3.2          1.3         0.2 #> [4,]          4.6         3.1          1.5         0.2 #> [5,]          5.0         3.6          1.4         0.2 #> [6,]          5.4         3.9          1.7         0.4"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Introduction.html","id":"beyond-basic-projection-the-multivarious-ecosystem","dir":"Articles","previous_headings":"","what":"Beyond Basic Projection: The multivarious Ecosystem","title":"Introduction to the multivarious Package","text":"unified bi_projector interface enables several powerful features within package: Pre-processing Pipelines: Define reusable pre-processing steps (see vignette(\"PreProcessing\")). Model Composition: Chain multiple bi_projector steps together (e.g., pre-processing ‚Üí PCA ‚Üí rotation) single composite projector (see vignette(\"Composing_Projectors\")). Cross-Validation: Easily perform cross-validation select hyperparameters (like number components) using helpers understand bi_projector structure (see vignette(\"CrossValidation\")).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Introduction.html","id":"projecting-variables-project_vars","dir":"Articles","previous_headings":"","what":"Projecting Variables (project_vars)","title":"Introduction to the multivarious Package","text":"project() operates new samples (rows), bi_projector also supports projecting new variables (columns) component space defined model‚Äôs scores (U vectors SVD terms). done using project_vars().","code":"# Using the 'fit' object from the PCA example above  # Create a new variable (column) with the same number of samples as original data set.seed(456) new_variable <- rnorm(nrow(X))  # Project this new variable into the component space defined by the PCA scores (fit$s) # Result shows how the new variable relates to the principal components. projected_variable_loadings <- project_vars(fit, new_variable) #> Warning in sweep(X, 2, cm, \"-\"): STATS is longer than the extent of #> 'dim(x)[MARGIN]' cat(\"\\nProjection of new variable onto components:\", projected_variable_loadings, \"\\n\") #>  #> Projection of new variable onto components: 0.0003296036 -0.0005098876 0.004254116"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Introduction.html","id":"conclusion","dir":"Articles","previous_headings":"","what":"Conclusion","title":"Introduction to the multivarious Package","text":"multivarious package provides consistent extensible framework common dimensionality reduction related linear transformation tasks. leveraging bi_projector class, offers unified API fitting models, projecting new data, reconstruction, accessing key model components. simplifies workflows, promotes code reuse, facilitates integration pre-processing, model composition, cross-validation tools within package ecosystem.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Multiblock.html","id":"why-multiblock","dir":"Articles","previous_headings":"","what":"1. Why multiblock?","title":"Multiblock basics: one projector, many tables","text":"Many studies collect several tables samples ‚Äì e.g. transcriptomics + metabolomics, multiple sensor blocks. single-table reductions (PCA, ICA, NMF, ‚Ä¶) ignore structure. multiblock_projector thin wrapper keeps track original columns belong block, can drop-existing decomposition (PCA, SVD, NMF, ‚Ä¶) still know ‚Äúfive loadings belong block , three block B‚Äù project reconstruct per block effortlessly. demonstrate minimal two-block toy-set.","code":"set.seed(1) n  <- 100 pA <- 7; pB <- 5                    # two blocks, different widths  XA <- matrix(rnorm(n * pA), n, pA) XB <- matrix(rnorm(n * pB), n, pB) X  <- cbind(XA, XB)                 # global data matrix blk_idx <- list(A = 1:pA, B = (pA + 1):(pA + pB)) # Named list is good practice"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Multiblock.html","id":"wrap-a-single-pca-as-a-multiblock-projector","dir":"Articles","previous_headings":"","what":"2. Wrap a single PCA as a multiblock projector","title":"Multiblock basics: one projector, many tables","text":"","code":"# 2-component centred PCA (using base SVD for brevity) preproc_fitted <- fit(center(), X) Xc        <- transform(preproc_fitted, X)          # Centered data svd_res   <- svd(Xc, nu = 0, nv = 2)               # only V (loadings) mb        <- multiblock_projector(   v             = svd_res$v,                       # p √ó k loadings   preproc       = preproc_fitted,                  # remembers centering   block_indices = blk_idx )  print(mb) #> Projector object: #>   Input dimension: 12 #>   Output dimension: 2 #>   With pre-processing: #> A finalized pre-processing pipeline: #>  Step  1 : center"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Multiblock.html","id":"project-the-whole-data","dir":"Articles","previous_headings":"2. Wrap a single PCA as a multiblock projector","what":"2.1 Project the whole data","title":"Multiblock basics: one projector, many tables","text":"","code":"scores_all <- project(mb, X)                       # n √ó 2 head(round(scores_all, 3)) #>        [,1]   [,2] #> [1,] -0.815 -1.159 #> [2,]  1.075 -3.326 #> [3,] -0.068  1.124 #> [4,] -0.055 -0.788 #> [5,] -0.554  1.005 #> [6,] -0.942  1.565"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Multiblock.html","id":"project-one-block-only","dir":"Articles","previous_headings":"2. Wrap a single PCA as a multiblock projector","what":"2.2 Project one block only","title":"Multiblock basics: one projector, many tables","text":"global PCA treats columns jointly, projecting block gives exactly latent coordinates whole matrix available ‚Äì useful block missing prediction time.","code":"# Project using only data from block A (requires original columns) scores_A <- project_block(mb, XA, block = 1)        # Project using only data from block B scores_B <- project_block(mb, XB, block = 2)         cor(scores_all[,1], scores_A[,1])                  # high (they coincide) #> [1] 0.7228449"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Multiblock.html","id":"partial-feature-projection","dir":"Articles","previous_headings":"2. Wrap a single PCA as a multiblock projector","what":"2.3 Partial feature projection","title":"Multiblock basics: one projector, many tables","text":"Need use just three variables block B?","code":"# Get the global indices for the first 3 columns of block B sel_cols_global <- blk_idx[[\"B\"]][1:3] # Extract the corresponding data columns from the full matrix or block B part_XB_data  <- X[, sel_cols_global, drop = FALSE] # Data must match global indices  scores_part <- partial_project(mb, part_XB_data,                                colind = sel_cols_global)  # Use global indices head(round(scores_part, 3)) #>        [,1]   [,2] #> [1,] -2.546 -0.723 #> [2,]  1.594 -3.584 #> [3,]  0.815  0.912 #> [4,] -0.329 -0.648 #> [5,] -2.223  1.394 #> [6,] -2.628  0.972"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Multiblock.html","id":"adding-scores-multiblock_biprojector","dir":"Articles","previous_headings":"","what":"3. Adding scores ‚Üí multiblock_biprojector","title":"Multiblock basics: one projector, many tables","text":"also keep sample scores (original fit) get two-way functionality: re-construct data, measure error, run permutation tests, etc. one extra line creating object: Now can, instance, test whether component-wise consensus blocks stronger chance. (perm_test method multiblock_biprojector typically uses eigen-based score consensus statistic; see help details.)","code":"bi <- multiblock_biprojector(   v             = svd_res$v,   s             = Xc %*% svd_res$v,    # Calculate scores: Xc %*% V   sdev          = svd_res$d[1:2] / sqrt(n-1), # SVD d are related to sdev   preproc       = preproc_fitted,   block_indices = blk_idx ) print(bi) #> Multiblock Bi-Projector object: #>   Projection matrix dimensions:  12 x 2  #>   Block indices: #>     Block 1: 1,2,3,4,5,6,7 #>     Block 2: 8,9,10,11,12 # Takes ~1-2 s with 99 perms; increase for real work # Ensure perm_test.multiblock_biprojector method exists and is loaded # perm_res <- perm_test(bi, Xlist = list(A=XA, B=XB), nperm = 99) # print(perm_res$component_results)"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Multiblock.html","id":"take-aways","dir":"Articles","previous_headings":"","what":"4. Take-aways","title":"Multiblock basics: one projector, many tables","text":"decomposition delivers loading matrix v (optionally scores s) can become multiblock-aware supplying block_indices. wrapper introduces zero new maths ‚Äì remembers column grouping plugs common verbs: light infrastructure lets prototype block-aware analyses quickly, still tapping entire multiblock toolkit (cross-validation, reconstruction metrics, composition compose_projector, etc.).","code":"sessionInfo() #> R version 4.5.2 (2025-10-31) #> Platform: x86_64-pc-linux-gnu #> Running under: Ubuntu 24.04.3 LTS #>  #> Matrix products: default #> BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3  #> LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.26.so;  LAPACK version 3.12.0 #>  #> locale: #>  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8        #>  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8    #>  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C           #> [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C    #>  #> time zone: UTC #> tzcode source: system (glibc) #>  #> attached base packages: #> [1] stats     graphics  grDevices utils     datasets  methods   base      #>  #> other attached packages: #> [1] multivarious_0.2.0 dplyr_1.1.4        #>  #> loaded via a namespace (and not attached): #>  [1] GPArotation_2025.3-1 sass_0.4.10          future_1.67.0        #>  [4] generics_0.1.4       shape_1.4.6.1        lattice_0.22-7       #>  [7] listenv_0.10.0       digest_0.6.37        magrittr_2.0.4       #> [10] evaluate_1.0.5       grid_4.5.2           RColorBrewer_1.1-3   #> [13] iterators_1.0.14     fastmap_1.2.0        foreach_1.5.2        #> [16] glmnet_4.1-10        jsonlite_2.0.0       Matrix_1.7-4         #> [19] ggrepel_0.9.6        RSpectra_0.16-2      survival_3.8-3       #> [22] scales_1.4.0         pls_2.8-5            codetools_0.2-20     #> [25] textshaping_1.0.4    jquerylib_0.1.4      cli_3.6.5            #> [28] crayon_1.5.3         rlang_1.1.6          chk_0.10.0           #> [31] parallelly_1.45.1    future.apply_1.20.0  splines_4.5.2        #> [34] cachem_1.1.0         yaml_2.3.10          tools_4.5.2          #> [37] parallel_4.5.2       corpcor_1.6.10       ggplot2_4.0.0        #> [40] globals_0.18.0       rsvd_1.0.5           assertthat_0.2.1     #> [43] vctrs_0.6.5          R6_2.6.1             lifecycle_1.0.4      #> [46] fs_1.6.6             irlba_2.3.5.1        ragg_1.5.0           #> [49] pkgconfig_2.0.3      desc_1.4.3           pkgdown_2.1.3        #> [52] pillar_1.11.1        bslib_0.9.0          geigen_2.3           #> [55] gtable_0.3.6         glue_1.8.0           Rcpp_1.1.0           #> [58] systemfonts_1.3.1    xfun_0.54            tibble_3.3.0         #> [61] tidyselect_1.2.1     svd_0.5.8            knitr_1.50           #> [64] farver_2.1.2         htmltools_0.5.8.1    rmarkdown_2.30       #> [67] compiler_4.5.2       S7_0.2.0"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Nystrom.html","id":"why-kernel-pca","dir":"Articles","previous_headings":"","what":"Why Kernel PCA?","title":"Kernel PCA Made Fast: The Nystr√∂m Approximation","text":"Standard PCA finds linear patterns data. data non-linear structure? Consider two concentric circles:  Standard PCA can‚Äôt separate circles ‚Äôre linearly separable. Kernel PCA solves implicitly mapping data higher-dimensional space linear separation becomes possible.","code":"set.seed(42) # Create two concentric circles n <- 200 theta <- runif(n, 0, 2*pi) inner <- cbind(3*cos(theta), 3*sin(theta)) + rnorm(2*n, sd=0.1) outer <- cbind(8*cos(theta), 8*sin(theta)) + rnorm(2*n, sd=0.1) X_circles <- rbind(inner, outer) colors <- c(rep(\"blue\", n), rep(\"red\", n))  par(mfrow = c(1, 2)) # Original data plot(X_circles, col = colors, pch = 19, cex = 0.5,      main = \"Original Data\", xlab = \"X\", ylab = \"Y\")  # Standard PCA fails pca_result <- pca(X_circles, ncomp = 2) plot(pca_result$s, col = colors, pch = 19, cex = 0.5,      main = \"Standard PCA\", xlab = \"PC1\", ylab = \"PC2\")"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Nystrom.html","id":"the-challenge-computational-cost","dir":"Articles","previous_headings":"","what":"The Challenge: Computational Cost","title":"Kernel PCA Made Fast: The Nystr√∂m Approximation","text":"Kernel PCA requires computing kernel matrix K K[,j] = k(x_i, x_j) kernel function k. N samples: - Memory: O(N¬≤) store K - Time: O(N¬≥) eigendecomposition becomes prohibitive large datasets (N > 10,000).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Nystrom.html","id":"the-solution-nystr√∂m-approximation","dir":"Articles","previous_headings":"","what":"The Solution: Nystr√∂m Approximation","title":"Kernel PCA Made Fast: The Nystr√∂m Approximation","text":"Nystr√∂m method approximates full kernel matrix using small subset ‚Äúlandmark‚Äù points: Select m << N landmark points Landmarks vs landmarks (m √ó m matrix) points vs landmarks (N √ó m matrix) Use approximate full eigendecomposition reduces complexity O(N¬≥) O(Nm¬≤), huge speedup m small!","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Nystrom.html","id":"quick-start-example","dir":"Articles","previous_headings":"","what":"Quick Start Example","title":"Kernel PCA Made Fast: The Nystr√∂m Approximation","text":"Let‚Äôs apply kernel PCA circles using Nystr√∂m approximation:  Success! Nystr√∂m approximation separated circles using 50 landmark points instead 400.","code":"# Define a simple RBF (Gaussian) kernel rbf_kernel <- function(X, Y = NULL, sigma = 1) {   if (is.null(Y)) Y <- X      # Compute squared distances efficiently   sumX2 <- rowSums(X^2)   sumY2 <- rowSums(Y^2)   sqdist <- outer(sumX2, sumY2, `+`) - 2 * tcrossprod(X, Y)   sqdist[sqdist < 0] <- 0  # Fix numerical issues      exp(-sqdist / (2*sigma^2)) }  # Apply Nystr√∂m approximation ny_result <- nystrom_approx(   X_circles,   kernel_func = rbf_kernel,   ncomp = 2,          # Number of components   nlandmarks = 50     # Only 50 landmarks for 400 points! )  # Plot the results plot(ny_result$s, col = colors, pch = 19, cex = 0.5,      main = \"Kernel PCA via Nystr√∂m\",       xlab = \"Component 1\", ylab = \"Component 2\")"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Nystrom.html","id":"using-nystrom_approx","dir":"Articles","previous_headings":"","what":"Using nystrom_approx()","title":"Kernel PCA Made Fast: The Nystr√∂m Approximation","text":"nystrom_approx() function returns standard bi_projector object:","code":"# Check what we got print(ny_result) #> A bi_projector object with the following properties: #>  #> Dimensions of the weights (v) matrix: #>   Rows:  400  Columns:  2  #>  #> Dimensions of the scores (s) matrix: #>   Rows:  400  Columns:  2  #>  #> Length of the standard deviations (sdev) vector: #>   Length:  2  #>  #> Preprocessing information: #> A finalized pre-processing pipeline: #>  Step  1 : pass  # Project new data new_points <- rbind(   c(4, 0),   # Should be inner circle   c(0, 8),   # Should be outer circle   c(5.5, 5.5) # Between circles ) new_scores <- project(ny_result, new_points) print(new_scores) #>               [,1]         [,2] #> [1,] -9.720225e-02 5.752583e-06 #> [2,] -3.821218e-10 3.006193e-13 #> [3,] -2.294905e-09 3.194746e-13"},{"path":[]},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Nystrom.html","id":"automatic-kernel-parameter-selection","dir":"Articles","previous_headings":"Advanced Options","what":"1. Automatic Kernel Parameter Selection","title":"Kernel PCA Made Fast: The Nystr√∂m Approximation","text":"kernel bandwidth (sigma) greatly affects results. ‚Äôs kernel automatic parameter selection:","code":"# RBF kernel with median heuristic for sigma auto_rbf_kernel <- function(X, Y = NULL, sigma = NULL) {   if (is.null(Y)) Y <- X      if (is.null(sigma)) {     # Use median distance heuristic on a sample     n_sample <- min(nrow(X), 100)     idx <- sample(nrow(X), n_sample)     dists <- as.vector(dist(X[idx, ]))     sigma <- median(dists[dists > 0]) / sqrt(2)     message(\"Auto-selected sigma = \", round(sigma, 3))   }      sumX2 <- rowSums(X^2)   sumY2 <- rowSums(Y^2)   sqdist <- outer(sumX2, sumY2, `+`) - 2 * tcrossprod(X, Y)   sqdist[sqdist < 0] <- 0      exp(-sqdist / (2*sigma^2)) }  # Use it ny_auto <- nystrom_approx(X_circles, kernel_func = auto_rbf_kernel,                           ncomp = 2, nlandmarks = 50) #> Auto-selected sigma = 5.927 #> Auto-selected sigma = 5.276"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Nystrom.html","id":"double-nystr√∂m-for-extra-speed","dir":"Articles","previous_headings":"Advanced Options","what":"2. Double Nystr√∂m for Extra Speed","title":"Kernel PCA Made Fast: The Nystr√∂m Approximation","text":"large datasets, ‚ÄúDouble Nystr√∂m‚Äù applies approximation twice:","code":"# Create a larger dataset set.seed(123) n_large <- 2000 theta_large <- runif(n_large, 0, 2*pi) radius_large <- sample(c(3, 8), n_large, replace = TRUE) X_large <- cbind(radius_large*cos(theta_large),                   radius_large*sin(theta_large)) + rnorm(2*n_large, sd=0.1)  # Standard Nystr√∂m system.time(   ny_standard <- nystrom_approx(X_large, kernel_func = auto_rbf_kernel,                                 ncomp = 5, nlandmarks = 200,                                  method = \"standard\") ) #> Auto-selected sigma = 5.45 #> Auto-selected sigma = 5.381 #>    user  system elapsed  #>   0.030   0.026   0.019  # Double Nystr√∂m (faster for same number of landmarks) system.time(   ny_double <- nystrom_approx(X_large, kernel_func = auto_rbf_kernel,                               ncomp = 5, nlandmarks = 200,                               method = \"double\", l = 50) ) #> Auto-selected sigma = 4.916 #> Auto-selected sigma = 4.851 #> Auto-selected sigma = 5.4 #>    user  system elapsed  #>   0.045   0.100   0.042"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Nystrom.html","id":"preprocessing-integration","dir":"Articles","previous_headings":"Advanced Options","what":"3. Preprocessing Integration","title":"Kernel PCA Made Fast: The Nystr√∂m Approximation","text":"can combine kernel PCA preprocessing:","code":"# Center and scale before kernel PCA ny_preprocessed <- nystrom_approx(   X_circles,   kernel_func = rbf_kernel,   ncomp = 2,   nlandmarks = 50,   preproc = colscale(center(), type = \"z\")  # Preprocessing pipeline: center then scale )"},{"path":[]},{"path":[]},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Nystrom.html","id":"method-selection","dir":"Articles","previous_headings":"Choosing Parameters","what":"Method Selection","title":"Kernel PCA Made Fast: The Nystr√∂m Approximation","text":"Standard Nystr√∂m: Use m < 2,000 highest accuracy needed Double Nystr√∂m: Use large datasets m > 2,000","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Nystrom.html","id":"common-kernels","dir":"Articles","previous_headings":"","what":"Common Kernels","title":"Kernel PCA Made Fast: The Nystr√∂m Approximation","text":"","code":"# Linear kernel (equivalent to standard PCA) linear_kernel <- function(X, Y = NULL) {   if (is.null(Y)) tcrossprod(X) else tcrossprod(X, Y) }  # Polynomial kernel poly_kernel <- function(X, Y = NULL, degree = 3, coef = 1) {   if (is.null(Y)) Y <- X   (tcrossprod(X, Y) + coef)^degree }  # Sigmoid kernel sigmoid_kernel <- function(X, Y = NULL, alpha = 1, coef = 0) {   if (is.null(Y)) Y <- X   tanh(alpha * tcrossprod(X, Y) + coef) }"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Nystrom.html","id":"when-to-use-nystr√∂m-approximation","dir":"Articles","previous_headings":"","what":"When to Use Nystr√∂m Approximation","title":"Kernel PCA Made Fast: The Nystr√∂m Approximation","text":"‚úì Use : - dataset > 5,000 samples - need non-linear dimensionality reduction - Full kernel PCA slow/memory-intensive - Approximate solutions acceptable ‚úó Don‚Äôt use : - < 1,000 samples (use full kernel PCA) - need exact results - Linear PCA suffices problem","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Nystrom.html","id":"technical-details","dir":"Articles","previous_headings":"","what":"Technical Details","title":"Kernel PCA Made Fast: The Nystr√∂m Approximation","text":"Nystr√∂m approximation uses fact positive semi-definite kernel matrix K can approximated : K‚âàKnmKmm‚àí1KmnK \\approx K_{nm} K_{mm}^{-1} K_{mn} : - KmmK_{mm} m √ó m kernel matrix landmarks - KnmK_{nm} N √ó m kernel matrix points landmarks eigendecomposition approximation can computed efficiently: 1. Compute eigendecomposition Kmm=UmŒõmUmTK_{mm} = U_m \\Lambda_m U_m^T 2. Approximate eigenvectors K : U‚âàKnmUmŒõm‚àí1/2U \\approx K_{nm} U_m \\Lambda_m^{-1/2} Double Nystr√∂m applies approximation recursively within landmark computation, reducing complexity O(Nm¬≤ + m¬≥) O(Nml + l¬≥) l << m.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Nystrom.html","id":"see-also","dir":"Articles","previous_headings":"","what":"See Also","title":"Kernel PCA Made Fast: The Nystr√∂m Approximation","text":"pca() standard linear PCA compose_partial_projector() chain kernel PCA methods Williams & Seeger (2001) standard Nystr√∂m Lim et al.¬†(2015) Double Nystr√∂m","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Partial_Projection.html","id":"why-partial-projection","dir":"Articles","previous_headings":"","what":"1. Why partial projection?","title":"Partial projection: working with incomplete feature sets","text":"Assume trained dimensionality-reduction model (PCA, PLS ‚Ä¶) p variables , prediction time, one sensor broken, block variables expensive measure, need quick first pass ‚Äúheavy‚Äù data arrive later. still want latent scores component space, downstream models, dashboards, alarms, ‚Ä¶ keep running. ‚Äôs exactly : new_data_subset (n √ó q) ‚îÄ‚ñ∫ project latent space (n √ó k) q ‚â§ p. loading vectors orthonormal simple dot product; otherwise ridge-regularised least-squares solve used.","code":"partial_project(model, new_data_subset, colind = which.columns)"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Partial_Projection.html","id":"walk-through-with-a-toy-pca","dir":"Articles","previous_headings":"","what":"2. Walk-through with a toy PCA","title":"Partial projection: working with incomplete feature sets","text":"","code":"set.seed(1) n  <- 100 p  <- 8 X  <- matrix(rnorm(n * p), n, p)  # Fit a centred 3-component PCA (via SVD) # Manually center the data and create fitted preprocessor Xc <- scale(X, center = TRUE, scale = FALSE) svd_res <- svd(Xc, nu = 0, nv = 3)  # Create a fitted centering preprocessor preproc_fitted <- fit(center(), X)  pca <- bi_projector(   v     = svd_res$v,   s     = Xc %*% svd_res$v,   sdev  = svd_res$d[1:3] / sqrt(n-1), # Correct scaling for sdev   preproc = preproc_fitted )"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Partial_Projection.html","id":"normal-projection-all-variables","dir":"Articles","previous_headings":"2. Walk-through with a toy PCA","what":"2.1 Normal projection (all variables)","title":"Partial projection: working with incomplete feature sets","text":"","code":"scores_full <- project(pca, X)        # n √ó 3 head(round(scores_full, 2)) #>       [,1]  [,2]  [,3] #> [1,] -0.02  1.20  0.49 #> [2,] -2.77 -0.18  1.25 #> [3,]  0.57  0.99 -0.06 #> [4,] -0.36 -0.81  0.58 #> [5,]  0.91 -0.60 -0.28 #> [6,]  1.81  2.50  0.35"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Partial_Projection.html","id":"missing-two-variables-partial-projection","dir":"Articles","previous_headings":"2. Walk-through with a toy PCA","what":"2.2 Missing two variables ‚ûú partial projection","title":"Partial projection: working with incomplete feature sets","text":"Suppose columns 7 8 unavailable new batch.  Even two variables missing, ridge LS step recovers latent scores lie almost 1:1 line.","code":"X_miss      <- X[, 1:6]               # keep only first 6 columns col_subset  <- 1:6                    # their positions in the **original** X  scores_part <- partial_project(pca, X_miss, colind = col_subset)  # How close are the results? plot_df <- tibble(   full = scores_full[,1],   part = scores_part[,1] )  ggplot(plot_df, aes(full, part)) +   geom_point() +   geom_abline(col = \"red\") +   coord_equal() +   labs(title = \"Component 1: full vs. partial projection\") +   theme_minimal()"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Partial_Projection.html","id":"caching-the-operation-with-a-partial-projector","dir":"Articles","previous_headings":"","what":"3. Caching the operation with a partial projector","title":"Partial projection: working with incomplete feature sets","text":"expect many rows subset features, create specialised projector reuse : Internally, partial_projector() stores mapping v[1:6, ] pre-computed inverse, calls project() cheap matrix multiplication.","code":"# Assuming partial_projector is available pca_1to6 <- partial_projector(pca, 1:6)   # keeps a reference + cache  # project 1000 new observations that only have the first 6 vars new_batch <- matrix(rnorm(1000 * 6), 1000, 6) scores_fast <- project(pca_1to6, new_batch) dim(scores_fast)   # 1000 √ó 3 #> [1] 1000    3"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Partial_Projection.html","id":"block-wise-convenience","dir":"Articles","previous_headings":"","what":"4. Block-wise convenience","title":"Partial projection: working with incomplete feature sets","text":"multiblock fits (created multiblock_projector()), can instead write just wrapper around partial_project() using block‚Äôs column indices.","code":"# Assuming mb is a multiblock_projector and data_blockB is the data for block B # project_block(mb, data_blockB, block = \"B\") # Or block = 2"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Partial_Projection.html","id":"not-only-missing-data-regions-of-interest-nested-designs","dir":"Articles","previous_headings":"","what":"5. Not only ‚Äúmissing data‚Äù: regions-of-interest & nested designs","title":"Partial projection: working with incomplete feature sets","text":"Partial projection handy even measurements exist: Region interest (ROI). neuro-imaging might 50,000 voxels care motor cortex. Projecting just columns shows participant scores within anatomical region without refitting whole PCA/PLS. Nested / multi-subject studies. multi-block PCA (e.g.¬†‚Äúparticipant √ó sensor‚Äù), can ask ‚Äúsubject lie looked block B ?‚Äù Simply supply block project_block(). Feature probes ‚Äú-‚Äù analysis. Engineers often ask ‚Äúlatent position vary temperature hold everything else blank?‚Äù Pass matrix contains chosen variables zeros elsewhere.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Partial_Projection.html","id":"mini-demo-projecting-an-roi","dir":"Articles","previous_headings":"5. Not only ‚Äúmissing data‚Äù: regions-of-interest & nested designs","what":"5.1 Mini-demo: projecting an ROI","title":"Partial projection: working with incomplete feature sets","text":"Assume columns 1‚Äì5 (instead 50 brevity) X form ROI.  Interpretation: two sets scores align tightly, ROI variables driving component. strong deviation reveal variables dominate global pattern.","code":"roi_cols   <- 1:5                 # pretend these are the ROI voxels X_roi      <- X[, roi_cols]       # same matrix from Section 2  roi_scores <- partial_project(pca, X_roi, colind = roi_cols)  # Compare component 1 from full vs ROI df_roi <- tibble(   full = scores_full[,1],   roi  = roi_scores[,1] )  ggplot(df_roi, aes(full, roi)) +   geom_point(alpha = .6) +   geom_abline(col = \"red\") +   coord_equal() +   labs(title = \"Component 1 scores: full data vs ROI\") +   theme_minimal()"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Partial_Projection.html","id":"single-subject-positioning-in-a-multiblock-design-conceptual","dir":"Articles","previous_headings":"5. Not only ‚Äúmissing data‚Äù: regions-of-interest & nested designs","what":"5.2 Single-subject positioning in a multiblock design (Conceptual)","title":"Partial projection: working with incomplete feature sets","text":"can now overlay scores map built subjects‚Äô global scores see whether subject 7‚Äôs behavioural profile consistent psychometrics, outlier viewed angle alone.","code":"# imagine `mb_pca` is a multiblock_biprojector with 2 blocks: #   Block 1 = questionnaire (Q1‚ÄìQ30) #   Block 2 = reaction-time curves (RT1‚ÄìRT120)  # Assume data_subject7_block2 contains only the reaction time data for subject 7 # subject_7_scores <- project_block(mb_pca, #                                   new_data   = data_subject7_block2, #                                   block      = 2)   # only RT variables  # cat(\"Subject 7, component scores derived *solely* from reaction times:\\n\") # print(round(subject_7_scores, 2))"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Partial_Projection.html","id":"cheat-sheet-why-you-might-call-partial_project","dir":"Articles","previous_headings":"","what":"6. Cheat-sheet: why you might call partial_project()","title":"Partial projection: working with incomplete feature sets","text":"component space stays identical throughout, downstream analytics, classifiers, control charts continue work re-training.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Partial_Projection.html","id":"session-info","dir":"Articles","previous_headings":"","what":"Session info","title":"Partial projection: working with incomplete feature sets","text":"","code":"sessionInfo() #> R version 4.5.2 (2025-10-31) #> Platform: x86_64-pc-linux-gnu #> Running under: Ubuntu 24.04.3 LTS #>  #> Matrix products: default #> BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3  #> LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.26.so;  LAPACK version 3.12.0 #>  #> locale: #>  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8        #>  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8    #>  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C           #> [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C    #>  #> time zone: UTC #> tzcode source: system (glibc) #>  #> attached base packages: #> [1] stats     graphics  grDevices utils     datasets  methods   base      #>  #> other attached packages: #> [1] ggplot2_4.0.0      dplyr_1.1.4        multivarious_0.2.0 #>  #> loaded via a namespace (and not attached): #>  [1] GPArotation_2025.3-1 sass_0.4.10          future_1.67.0        #>  [4] generics_0.1.4       shape_1.4.6.1        lattice_0.22-7       #>  [7] listenv_0.10.0       digest_0.6.37        magrittr_2.0.4       #> [10] evaluate_1.0.5       grid_4.5.2           RColorBrewer_1.1-3   #> [13] iterators_1.0.14     fastmap_1.2.0        foreach_1.5.2        #> [16] jsonlite_2.0.0       Matrix_1.7-4         glmnet_4.1-10        #> [19] ggrepel_0.9.6        RSpectra_0.16-2      survival_3.8-3       #> [22] scales_1.4.0         pls_2.8-5            codetools_0.2-20     #> [25] textshaping_1.0.4    jquerylib_0.1.4      cli_3.6.5            #> [28] rlang_1.1.6          chk_0.10.0           parallelly_1.45.1    #> [31] future.apply_1.20.0  splines_4.5.2        withr_3.0.2          #> [34] cachem_1.1.0         yaml_2.3.10          tools_4.5.2          #> [37] parallel_4.5.2       corpcor_1.6.10       globals_0.18.0       #> [40] rsvd_1.0.5           assertthat_0.2.1     vctrs_0.6.5          #> [43] R6_2.6.1             lifecycle_1.0.4      fs_1.6.6             #> [46] irlba_2.3.5.1        ragg_1.5.0           pkgconfig_2.0.3      #> [49] desc_1.4.3           pkgdown_2.1.3        pillar_1.11.1        #> [52] bslib_0.9.0          geigen_2.3           gtable_0.3.6         #> [55] glue_1.8.0           Rcpp_1.1.0           systemfonts_1.3.1    #> [58] xfun_0.54            tibble_3.3.0         tidyselect_1.2.1     #> [61] svd_0.5.8            knitr_1.50           farver_2.1.2         #> [64] htmltools_0.5.8.1    labeling_0.4.3       rmarkdown_2.30       #> [67] compiler_4.5.2       S7_0.2.0"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/PermutationTesting.html","id":"why-permutation-tests","dir":"Articles","previous_headings":"","what":"1. Why Permutation Tests?","title":"Permutation Testing in multivarious","text":"Many dimensionality reduction techniques involve selecting number components retain (e.g., PCA PLS) assessing overall significance model (e.g., relationship found CCA stronger chance?). Classical heuristics like scree plots variance explained thresholds useful lack formal statistical basis hypothesis testing. Permutation testing provides non-parametric way assess statistical significance building empirical null distribution data . core idea : Calculate statistic interest original data (e.g., variance explained PC1, classification accuracy, canonical correlation). Shuffle data way breaks relationship tested (e.g., shuffle column values independently PCA, shuffle class labels discriminant analysis, shuffle rows one block CCA/PLS). Re-fit model re-calculate statistic shuffled data. Compare originally observed statistic distribution statistics obtained shuffled data. observed value extreme relative permutation distribution, suggests observed structure unlikely arisen chance. multivarious package provides generic function perm_test() methods various model types streamline process.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/articles/PermutationTesting.html","id":"generic-workflow","dir":"Articles","previous_headings":"","what":"2. Generic Workflow","title":"Permutation Testing in multivarious","text":"basic workflow involves fitting model passing , along original data, perm_test().","code":"# 1. Fit the model of interest (e.g., PCA) data(iris) X_iris <- as.matrix(iris[, 1:4]) # Center the data before PCA preproc <- center() # Fit PCA (ensure enough components for testing) mod_pca <- pca(X_iris, ncomp = 4, preproc = preproc)  # 2. Call perm_test() #    It dispatches based on the class of 'mod_pca' (here, 'pca'). set.seed(1) # for reproducibility pt_pca <- perm_test(mod_pca, X = X_iris,        # Original data matrix is often needed                     nperm = 199,               # Number of permutations (use more in practice, e.g., 999)                     comps = 3,                 # Test up to 3 components sequentially                     parallel = FALSE)          # Set TRUE to use future backend  # 3. Inspect the results # The result object contains detailed information print(pt_pca) #>  #> PCA Permutation Test Results #>  #> Method:  Permutation test for PCA (Vitale et al. 2017 P3) (statistic: F_a (Fraction of Remaining Variance), stepwise: TRUE, shuffle: column-wise)  #> Alternative:  greater  #>  #> Component Results: #>   comp  observed  pval  lower_ci  upper_ci #> 1    1 0.9246187 0.005 0.6816137 0.6893677 #> 2    2 0.7039743 0.010 0.6086950 0.6890558 #> 3    3 0.7664247 0.055 0.6676700 0.7849276 #>  #> Number of successful permutations per component: 199, 199, 199  # Access the results table directly print(pt_pca$component_results) #> # A tibble: 3 √ó 5 #>    comp observed  pval lower_ci upper_ci #>   <int>    <dbl> <dbl>    <dbl>    <dbl> #> 1     1    0.925 0.005    0.682    0.689 #> 2     2    0.704 0.01     0.609    0.689 #> 3     3    0.766 0.055    0.668    0.785  # plot() method shows observed statistic vs. permutation distribution (if applicable) # plot(pt_pca) # Plot method might need specific implementation or data structure"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/PermutationTesting.html","id":"method-specific-defaults","dir":"Articles","previous_headings":"2. Generic Workflow","what":"Method-Specific Defaults","title":"Permutation Testing in multivarious","text":"perm_test function behaves differently depending class fitted model object. ‚Äôs summary defaults common model types: Sequential Stopping (PCA & Multiblock Methods): default (alpha = 0.05), testing stops sequentially component found non-significant (p-value > alpha). Set alpha = 1 force testing requested components specified comps argument.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/articles/PermutationTesting.html","id":"customising-the-engine","dir":"Articles","previous_headings":"","what":"3. Customising the Engine","title":"Permutation Testing in multivarious","text":"can override default behavior providing custom functions shuffling, fitting (methods), measuring statistic. measure_fun(model_perm, ...): Calculates statistic interest model fitted permuted data. typically return single numeric value (vector values testing multiple components simultaneously, though sequential testing common). shuffle_fun(data, ...): Permutes relevant part data (e.g., labels, specific block, columns). Must preserve data structure expected fitting/measuring function. fit_fun(Xtrain, ...): (Used cross_projector, discriminant_projector) Re-fits model permuted data. Required default fitting (e.g., stats::cancor, MASS::lda) suitable.","code":"# Example: Custom statistic for PCA - total variance explained by first TWO PCs my_pca_stat <- function(model_perm, comp_idx, ...) {   # This function is called sequentially for each component 'comp_idx' by perm_test.pca   # To get total variance for first 2, we calculate it only when comp_idx=2   if (comp_idx == 2 && length(model_perm$sdev) >= 2) {      sum(model_perm$sdev[1:2]^2) / sum(model_perm$sdev^2)   } else if (comp_idx == 1 && length(model_perm$sdev) >= 1) {      # Need to return something for comp 1, e.g., variance of PC1      model_perm$sdev[1]^2 / sum(model_perm$sdev^2)   } else {      NA_real_ # Return NA if component doesn't exist or doesn't match target   } }  # Note: The default sequential testing expects one stat per component. # To test a single combined statistic, you might set comps=1 and have # measure_fun calculate the combined stat regardless of comp_idx. # Or, analyze pt_pca$perm_values manually after running with default measure.  # Example call (illustrative - using default measure for simplicity here) pt_pca_custom <- perm_test(mod_pca, X = X_iris, nperm = 50, comps = 2,                          # measure_fun = my_pca_stat, # Uncomment to use custom stat                          parallel = FALSE) #> Pre-calculating reconstructions for stepwise testing... #> Running 50 permutations sequentially for up to 2 PCA components (alpha=0.050, serial)... #>   Testing Component 1/2... #>   Testing Component 2/2... print(pt_pca_custom$component_results) #> # A tibble: 2 √ó 5 #>    comp observed   pval lower_ci upper_ci #>   <int>    <dbl>  <dbl>    <dbl>    <dbl> #> 1     1    0.925 0.0196    0.682    0.692 #> 2     2    0.704 0.0196    0.619    0.690"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/PermutationTesting.html","id":"parallelisation","dir":"Articles","previous_headings":"","what":"4. Parallelisation","title":"Permutation Testing in multivarious","text":"Permutation tests can computationally intensive. perm_test methods leverage future future.apply packages parallel execution. enable parallelism: Load future package. Choose parallel plan (e.g., multisession background R processes). Set parallel = TRUE perm_test call.","code":"library(future) plan(multisession, workers = 4) # Use 4 background R sessions  pt_pca_parallel <- perm_test(mod_pca, X = X_iris, nperm = 499, comps = 3,                            parallel = TRUE)  # Always good practice to revert plan when done, e.g.: # plan(sequential)"},{"path":[]},{"path":"https://bbuchsbaum.github.io/multivarious/articles/PermutationTesting.html","id":"internal-checks-developer-focus","dir":"Articles","previous_headings":"","what":"6. Internal Checks (Developer Focus)","title":"Permutation Testing in multivarious","text":"chunk runs brief checks mainly package development continuous integration (CI) testing. uses small nperm speed.","code":"message(\"Running internal checks for perm_test methods...\") #> Running internal checks for perm_test methods...  # PCA Check set.seed(42) mtcars_mat <- as.matrix(scale(mtcars)) pca_test_mod <- pca(mtcars_mat, ncomp = 3) pt_check_pca <- perm_test(pca_test_mod, mtcars_mat, nperm = 19, comps=2, parallel=FALSE) #> Pre-calculating reconstructions for stepwise testing... #> Running 19 permutations sequentially for up to 2 PCA components (alpha=0.050, serial)... #>   Testing Component 1/2... #>   Testing Component 2/2... stopifnot(nrow(pt_check_pca$component_results) == 2,           !is.na(pt_check_pca$component_results$pval[1]))   # Multiblock Check (requires a multiblock model) tryCatch({   # Example assumes mb_pca exists and works   # mb_test_mod <- mb_pca(list(a = USArrests[,1:2], b = USArrests[,3:4]), ncomp = 2)   # pt_check_mb <- perm_test(mb_test_mod, nperm = 9, comps=1, parallel=FALSE)   # stopifnot(nrow(pt_check_mb$component_results) == 1)   message(\"Multiblock perm_test check skipped (requires mb_pca example).\") }, error = function(e) {   warning(\"Multiblock perm_test check failed: \", e$message) }) #> Multiblock perm_test check skipped (requires mb_pca example).  message(\"Internal checks for perm_test finished.\") #> Internal checks for perm_test finished."},{"path":"https://bbuchsbaum.github.io/multivarious/articles/PermutationTesting.html","id":"references","dir":"Articles","previous_headings":"","what":"7. References","title":"Permutation Testing in multivarious","text":"Vitale, R., Westerhuis, J. ., N√¶s, T., Smilde, . K., de Noord, O. E., & Ferrer, . (2017). Selecting number factors principal component analysis permutation testing‚Äî Numerical practical aspects. Journal Chemometrics, 31(10), e2937. Good, P. . (2005). Permutation, Parametric, Bootstrap Tests Hypotheses. Springer Series Statistics. Springer. Bengtsson, H. (2021). future: Unified Parallel Distributed Processing R Everyone. R package version 1.21.0. https://future.futureverse.org/ providing unified perm_test interface, multivarious allows researchers apply robust, data-driven significance testing across range multivariate modeling techniques.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/articles/PreProcessing.html","id":"why-a-pipeline-at-all","dir":"Articles","previous_headings":"","what":"1. Why a pipeline at all?","title":"Pre-processing pipelines in multiblock","text":"chemometrics / ML code mutates data place (e.g.¬†scale(X)), convenient script dangerous inside reusable functions: Data-leak avoidance: Fitted means/SDs live inside pre-processor object, calculated (typically training data). Reversibility: inverse_transform() gives proper back-transforms (handy reconstruction error publication plots). Composability: can nest simple steps together (e.g., colscale(center())). Partial input: pipeline can process just columns pass (transform(..., colind = 1:3)), perfect region--interest block workflows. grammar tiny: fit() verb bridge defining preprocessing steps (recipe) actually applying . call fit() recipe, providing training dataset. fit() calculates stores necessary parameters (e.g., column means, standard deviations) data, returning fitted pre-processor object. fitted preprocessor object, exposes three key methods:","code":""},{"path":[]},{"path":"https://bbuchsbaum.github.io/multivarious/articles/PreProcessing.html","id":"no-op-and-sanity-check","dir":"Articles","previous_headings":"2. The 60-second tour","what":"2.1 No-op and sanity check","title":"Pre-processing pipelines in multiblock","text":"","code":"set.seed(0) X <- matrix(rnorm(10*4), 10, 4)  pp_pass <- fit(pass(), X)        # == do nothing Xp_pass <- transform(pp_pass, X) # applies nothing, just copies X all.equal(Xp_pass, X)            # TRUE #> [1] TRUE"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/PreProcessing.html","id":"centre-standardise","dir":"Articles","previous_headings":"2. The 60-second tour","what":"2.2 Centre ‚Üí standardise","title":"Pre-processing pipelines in multiblock","text":"","code":"# Fit the preprocessor (calculates means & SDs from X) and transform pp_std <- fit(standardize(), X) Xs     <- transform(pp_std, X)  # Check results all(abs(colMeans(Xs)) < 1e-12)   # TRUE: data is centered #> [1] TRUE round(apply(Xs, 2, sd), 6)       # ~1: data is scaled #> [1] 1 1 1 1  # Check back-transform all.equal(inverse_transform(pp_std, Xs), X) # TRUE #> [1] TRUE"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/PreProcessing.html","id":"partial-input-region-of-interest","dir":"Articles","previous_headings":"2. The 60-second tour","what":"2.3 Partial input (region-of-interest)","title":"Pre-processing pipelines in multiblock","text":"Imagine sensor fails observe columns 2 4:","code":"X_cols24 <- X[, c(2,4), drop=FALSE] # Keep as matrix  # Apply the *already fitted* standardizer using only columns 2 & 4 Xs_cols24 <- transform(pp_std, X_cols24, colind = c(2,4))  # Compare original columns 2, 4 with their transformed versions head(cbind(X_cols24, Xs_cols24)) #>            [,1]       [,2]        [,3]       [,4] #> [1,]  0.7635935 -0.2357066  1.65874473 -0.5049144 #> [2,] -0.7990092 -0.5428883 -0.64301984 -0.9030207 #> [3,] -1.1476570 -0.4333103 -1.15658932 -0.7610081 #> [4,] -0.2894616 -0.6494716  0.10756045 -1.0411523 #> [5,] -0.2992151  0.7267507  0.09319316  0.7424264 #> [6,] -0.4115108  1.1519118 -0.07222208  1.2934334  # Back-transform works too X_rev_cols24 <- inverse_transform(pp_std, Xs_cols24, colind = c(2,4)) all.equal(X_rev_cols24, X_cols24) # TRUE #> [1] TRUE"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/PreProcessing.html","id":"composing-preprocessing-steps","dir":"Articles","previous_headings":"","what":"3. Composing preprocessing steps","title":"Pre-processing pipelines in multiblock","text":"preprocessing steps nest, can build pipelines composing :","code":"# Define a pipeline: center, then scale to unit variance # Fit the pipeline to the data pp_pipe <- fit(standardize(), X)  # Apply the pipeline Xp_pipe <- transform(pp_pipe, X)"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/PreProcessing.html","id":"quick-visual","dir":"Articles","previous_headings":"3. Composing preprocessing steps","what":"3.1 Quick visual","title":"Pre-processing pipelines in multiblock","text":"","code":"# Compare first column before and after pipeline df_pipe <- tibble(raw = X[,1],   processed = Xp_pipe[,1])  ggplot(df_pipe) +   geom_density(aes(raw), colour = \"red\", linewidth = 1) +   geom_density(aes(processed), colour = \"blue\", linewidth = 1) +   ggtitle(\"Column 1 Density: Before (red) and After (blue) Pipeline\") +   theme_minimal()"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/PreProcessing.html","id":"block-wise-concatenation","dir":"Articles","previous_headings":"","what":"4. Block-wise concatenation","title":"Pre-processing pipelines in multiblock","text":"Large multiblock models often want different preprocessing per block. concat_pre_processors() glues several already fitted pipelines one wide transformer understands global column indices.","code":"# Two fake blocks with distinct scales X1 <- matrix(rnorm(10*5 , 10 , 5), 10, 5)   # block 1: high mean X2 <- matrix(rnorm(10*7 ,  2 , 7), 10, 7)   # block 2: low mean  # Fit separate preprocessors for each block p1 <- fit(center(), X1) p2 <- fit(standardize(), X2)  # Transform each block X1p <- transform(p1, X1) X2p <- transform(p2, X2)  # Concatenate the *fitted* preprocessors block_indices_list = list(1:5, 6:12) pp_concat <- concat_pre_processors(   list(p1, p2),   block_indices = block_indices_list )  # Apply the concatenated preprocessor to the combined data X_combined <- cbind(X1, X2) X_combined_p <- transform(pp_concat, X_combined)  # Check means (block 1 only centered, block 2 standardized) round(colMeans(X_combined_p), 2) #>  [1] 0 0 0 0 0 0 0 0 0 0 0 0  # Need only block 1 processed later? Use colind with global indices X1_later_p <- transform(pp_concat, X1, colind = block_indices_list[[1]]) #> Warning: `apply_transform()` was deprecated in multivarious 0.3.0. #> ‚Ñπ Please use `transform()` instead. #> ‚Ñπ apply_transform() is deprecated. Use transform() for a more standard #>   interface. #> ‚Ñπ The deprecated feature was likely used in the multivarious package. #>   Please report the issue to the authors. #> This warning is displayed once every 8 hours. #> Call `lifecycle::last_lifecycle_warnings()` to see where this warning was #> generated. all.equal(X1_later_p, X1p) # TRUE #> [1] TRUE  # Need block 2 processed? X2_later_p <- transform(pp_concat, X2, colind = block_indices_list[[2]]) all.equal(X2_later_p, X2p) # TRUE #> [1] TRUE"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/PreProcessing.html","id":"check-reversibility-of-concatenated-pipeline","dir":"Articles","previous_headings":"4. Block-wise concatenation","what":"Check reversibility of concatenated pipeline","title":"Pre-processing pipelines in multiblock","text":"First 3 rows, columns 1-6: Original vs Reconstructed","code":"back_combined <- inverse_transform(pp_concat, X_combined_p)  # Compare first few rows/cols of original vs round-trip knitr::kable(   head(cbind(orig = X_combined[, 1:6], recon = back_combined[, 1:6]), 3),   digits = 2,   caption = \"First 3 rows, columns 1-6: Original vs Reconstructed\" ) all.equal(X_combined, back_combined) # TRUE #> [1] TRUE"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/PreProcessing.html","id":"inside-the-weeds-for-authors-power-users","dir":"Articles","previous_headings":"","what":"5. Inside the weeds (for authors & power users)","title":"Pre-processing pipelines in multiblock","text":"rarely need interact helpers directly; exist model-writers (e.g.¬†new PCA flavours) can avoid boiler-plate.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/articles/PreProcessing.html","id":"key-take-aways","dir":"Articles","previous_headings":"","what":"6. Key take-aways","title":"Pre-processing pipelines in multiblock","text":"Write : Define preprocessing recipe (e.g., colscale(center())) reuse safely across CV folds using fit() fold‚Äôs training data. data leakage: Parameters live inside fitted preprocessor object, calculated training data. Composable & reversible: Nest preprocessing steps, extract original recipe fresh(), back-transform whenever need results original units using inverse_transform(). Block-aware: mechanism powers multiblock PCA, CCA, ComDim‚Ä¶ Happy projecting!","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/articles/PreProcessing.html","id":"session-info","dir":"Articles","previous_headings":"","what":"Session info","title":"Pre-processing pipelines in multiblock","text":"","code":"sessionInfo() #> R version 4.5.2 (2025-10-31) #> Platform: x86_64-pc-linux-gnu #> Running under: Ubuntu 24.04.3 LTS #>  #> Matrix products: default #> BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3  #> LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.26.so;  LAPACK version 3.12.0 #>  #> locale: #>  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8        #>  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8    #>  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C           #> [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C    #>  #> time zone: UTC #> tzcode source: system (glibc) #>  #> attached base packages: #> [1] stats     graphics  grDevices utils     datasets  methods   base      #>  #> other attached packages: #> [1] ggplot2_4.0.0      tibble_3.3.0       dplyr_1.1.4        multivarious_0.2.0 #>  #> loaded via a namespace (and not attached): #>  [1] GPArotation_2025.3-1 sass_0.4.10          future_1.67.0        #>  [4] generics_0.1.4       shape_1.4.6.1        lattice_0.22-7       #>  [7] listenv_0.10.0       digest_0.6.37        magrittr_2.0.4       #> [10] evaluate_1.0.5       grid_4.5.2           RColorBrewer_1.1-3   #> [13] iterators_1.0.14     fastmap_1.2.0        foreach_1.5.2        #> [16] jsonlite_2.0.0       Matrix_1.7-4         glmnet_4.1-10        #> [19] ggrepel_0.9.6        RSpectra_0.16-2      survival_3.8-3       #> [22] scales_1.4.0         pls_2.8-5            codetools_0.2-20     #> [25] textshaping_1.0.4    jquerylib_0.1.4      cli_3.6.5            #> [28] crayon_1.5.3         rlang_1.1.6          chk_0.10.0           #> [31] parallelly_1.45.1    future.apply_1.20.0  splines_4.5.2        #> [34] withr_3.0.2          cachem_1.1.0         yaml_2.3.10          #> [37] tools_4.5.2          parallel_4.5.2       corpcor_1.6.10       #> [40] globals_0.18.0       rsvd_1.0.5           assertthat_0.2.1     #> [43] vctrs_0.6.5          R6_2.6.1             matrixStats_1.5.0    #> [46] lifecycle_1.0.4      fs_1.6.6             irlba_2.3.5.1        #> [49] ragg_1.5.0           pkgconfig_2.0.3      desc_1.4.3           #> [52] pkgdown_2.1.3        pillar_1.11.1        bslib_0.9.0          #> [55] geigen_2.3           gtable_0.3.6         glue_1.8.0           #> [58] Rcpp_1.1.0           systemfonts_1.3.1    xfun_0.54            #> [61] tidyselect_1.2.1     svd_0.5.8            knitr_1.50           #> [64] farver_2.1.2         htmltools_0.5.8.1    labeling_0.4.3       #> [67] rmarkdown_2.30       compiler_4.5.2       S7_0.2.0"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Regress.html","id":"build-a-design-matrix-of-basis-functions","dir":"Articles","previous_headings":"","what":"1. Build a design matrix of basis functions","title":"Linear Re-representation with regress()","text":"First, let‚Äôs define basis. ‚Äôll use sines cosines.","code":"set.seed(42) n  <- 128                       # Number of observations (e.g., signals) p  <- 32                        # Original variables per observation (e.g., time points) k  <- 20                        # Number of basis functions (<= p often, <= n for lm)  ## Create toy data: smooth signals + noise t   <- seq(0, 1, length.out = p) Y   <- replicate(n,  3*sin(2*pi*3*t) + 2*cos(2*pi*5*t) ) +         matrix(rnorm(n*p, sd = 0.3), p, n) # Note: Y is p x n here  ## Orthonormal Fourier basis (columns = basis functions) # We create k/2 sine and k/2 cosine terms, plus an intercept freqs <- 1:(k %/% 2) # Integer division for number of frequencies B <- cbind(rep(1, p), # Intercept column            do.call(cbind, lapply(freqs, function(f) sin(2*pi*f*t))),            do.call(cbind, lapply(freqs, function(f) cos(2*pi*f*t)))) colnames(B) <- c(\"Intercept\", paste0(\"sin\", freqs), paste0(\"cos\", freqs))  # Make columns orthonormal (length 1, orthogonal to each other) B <- scale(B, center = FALSE, scale = sqrt(colSums(B^2)))   cat(paste(\"Dimensions: Y is\", nrow(Y), \"x\", ncol(Y),            \", Basis B is\", nrow(B), \"x\", ncol(B), \"\\n\")) #> Dimensions: Y is 32 x 128 , Basis B is 32 x 21 # We want coefficients C (k x n) such that Y ‚âà B %*% C."},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Regress.html","id":"fit-multi-output-regression","dir":"Articles","previous_headings":"","what":"2. Fit multi-output regression","title":"Linear Re-representation with regress()","text":"Now, use regress() find coefficients CC best represent signal YY using basis BB. bi_projector structure provides consistent way access core components: basis (fit$s) coefficients (fit$v).","code":"library(multivarious)  # Fit using standard linear models (lm) # Y is p x n (32 x 128): 32 time points x 128 signals # B is p x k (32 x 21): 32 time points x 21 basis functions # regress will fit 128 separate regressions, each with 32 observations and 21 predictors fit <- regress(X = B,          # Predictors = basis functions (p x k)                Y = Y,          # Response = signals (p x n)                method    = \"lm\",                intercept = FALSE) # Basis B already includes an intercept column  # The result is a bi_projector object print(fit) #> Regression bi_projector object: #>   Method: lm #>   Input dimension: 128 #>   Output dimension: 21 #>   Coefficients dimension:  128 x 21  ## Conceptual mapping to bi_projector slots: # fit$v : Coefficients (n x k) - Basis coefficients for each signal. # fit$s : Design Matrix (p x k) - The basis matrix B. #         Stored for reconstruction."},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Regress.html","id":"go-back-and-forth-between-spaces","dir":"Articles","previous_headings":"","what":"3. Go back and forth between spaces","title":"Linear Re-representation with regress()","text":"fitted bi_projector, projecting reconstructing straightforward.","code":"## Get the coefficients for the first 3 signals coef_matrix_first3 <- fit$v[1:3, ] # 3 x k matrix (first 3 signals x basis functions) cat(\"Coefficients for signal 1:\\n\") #> Coefficients for signal 1: print(coef_matrix_first3[1, ]) #>    Intercept         sin1         sin2         sin3         sin4         sin5  #>  0.135054901  0.587137215 -0.183816033 12.150464524 -0.007984793 -0.162281276  #>         sin6         sin7         sin8         sin9        sin10         cos1  #> -0.593723657  0.581637564 -0.370023776 -0.108499186  0.173654284  0.394261726  #>         cos2         cos3         cos4         cos5         cos6         cos7  #> -0.590122835  0.288835048  0.448031764  8.196393043  0.080690010 -0.612238653  #>         cos8         cos9        cos10  #>  0.678547189 -0.030446715  0.088104811  ## Reconstruct the original fitted data # The bi_projector stores: s (design matrix B) and v (coefficients) # Reconstruction: Y_hat = s %*% t(v) = B %*% t(coefficients) Y_hat <- fit$s %*% t(fit$v) # Returns p x n matrix (same shape as Y) max_reconstruction_error <- max(abs(Y_hat - Y)) cat(\"\\nMaximum reconstruction error for fitted data:\", format(max_reconstruction_error, digits=3), \"\\n\") #>  #> Maximum reconstruction error for fitted data: 0.7 # Note: With noise and limited basis functions, error won't be exactly zero cat(\"This error is acceptable given the noise and basis limitations.\\n\") #> This error is acceptable given the noise and basis limitations.  ## Project a *new* signal onto the basis # Create a new signal (using the same underlying pattern + noise) Y_new_signal <- 3*sin(2*pi*3*t) + 2*cos(2*pi*5*t) + rnorm(p, sd=0.3) Y_new_matrix <- matrix(Y_new_signal, nrow = p, ncol = 1)  # For an orthonormal basis B, projection is simply: coef = t(B) %*% Y_new # This finds the coefficients that best represent Y_new in the basis coef_new <- t(fit$s) %*% Y_new_matrix  # k x 1 (basis coefficients) cat(\"\\nBasis coefficients for new signal:\\n\") #>  #> Basis coefficients for new signal: print(coef_new[, 1]) #>   Intercept        sin1        sin2        sin3        sin4        sin5  #> -0.16459096  0.35921181 -0.09452109 11.90760497  0.37429968 -0.13899361  #>        sin6        sin7        sin8        sin9       sin10        cos1  #>  0.44535459 -0.16769033  0.02891241  0.54613517 -0.41145969  0.53832581  #>        cos2        cos3        cos4        cos5        cos6        cos7  #>  0.45371511  0.24009459  0.81766812  8.25333978  0.75410708 -0.42128770  #>        cos8        cos9       cos10  #>  0.49377610  0.45618692  0.79379189  # Reconstruct: Y_recon = B %*% coef Y_new_recon <- fit$s %*% coef_new  # p x 1 reconstruction_error <- sqrt(mean((Y_new_matrix - Y_new_recon)^2)) cat(\"\\nReconstruction RMSE for new signal:\", format(reconstruction_error, digits=3), \"\\n\") #>  #> Reconstruction RMSE for new signal: 0.362  # Note: Because B is orthonormal, projection and reconstruction are exact inverses # The reconstruction error comes from the noise in the signal and limited basis functions"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Regress.html","id":"regularisation-pls","dir":"Articles","previous_headings":"","what":"4. Regularisation & PLS","title":"Linear Re-representation with regress()","text":"basis ill-conditioned need feature selection/shrinkage, simply change method argument. regress() wraps common regularized models.","code":"# Ridge regression (requires glmnet) fit_ridge <- regress(X = B, Y = Y, method = \"mridge\", lambda = 0.01, intercept = FALSE)  # Elastic Net (requires glmnet) fit_enet  <- regress(X = B, Y = Y, method = \"enet\", alpha = 0.5, lambda = 0.02, intercept = FALSE)  # Partial Least Squares (requires pls package) - useful if k > p or multicollinearity fit_pls   <- regress(X = B, Y = Y, method = \"pls\", ncomp = 15, intercept = FALSE)  # All these return bi_projector objects, so downstream code using  # project(), reconstruct(), coef() etc. remains the same."},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Regress.html","id":"partial-custom-mappings","dir":"Articles","previous_headings":"","what":"5. Partial / custom mappings","title":"Linear Re-representation with regress()","text":"bi_projector interface allows flexible manipulation:","code":"# Truncate: Keep only the first 5 basis functions (Intercept + 2 sine + 2 cosine) fit5   <- truncate(fit, ncomp = 5)  cat(\"Dimensions after truncating to 5 components:\",      \"Basis (s):\", paste(dim(fit5$s), collapse=\"x\"),      \", Coefs (v):\", paste(dim(fit5$v), collapse=\"x\"), \"\\n\") #> Dimensions after truncating to 5 components: Basis (s): 32x5 , Coefs (v): 128x5 # Reconstruction using only first 5 basis functions (manual) # Equivalent to: scores(fit5) %*% t(coef(fit5)) for the selected components Y_hat5 <- fit5$s %*% t(fit5$v)  # Partial inverse projection: Map only a subset of coefficients back # e.g., reconstruct using only components 2 through 6 (skip intercept) # Note: partial_inverse_projection is not a standard bi_projector method,  # this might require manual slicing of the basis matrix B (fit$s) or coefs (fit$v). # Manual reconstruction example for components 2:6 coef_subset <- fit$v[2:6, , drop=FALSE] # k_sub x n basis_subset <- fit$s[, 2:6, drop=FALSE] # p x k_sub Y_lowHat <- basis_subset %*% coef_subset # p x n reconstruction  # Variable usage helpers (Conceptual - actual functions might differ) # `variables_used(fit)` could show which basis functions have non-zero coefficients (esp. for 'enet'). # `vars_for_component(fit, k)` isn't directly applicable here as components are the basis functions themselves."},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Regress.html","id":"under-the-hood-matrix-view","dir":"Articles","previous_headings":"","what":"6. Under-the-hood: Matrix View","title":"Linear Re-representation with regress()","text":"core idea represent p√ónp \\times n data matrix YY product p√ókp \\times k basis matrix (stored s) k√ónk \\times n coefficient matrix (stored v): Y‚èüp√ón‚âàs‚èüp√ókv‚èük√ón \\underbrace{Y}_{p\\times n} \\approx \\underbrace{s}_{p\\times k} \\underbrace{v}_{k\\times n} regress() estimates vv (coefficients) based chosen method: resulting object stores: * v: estimated coefficient matrix (k√ónk \\times n). * s: basis/design matrix BB (p√ókp \\times k), possibly centered scaled underlying solver. * sdev, center: Potentially stores scaling/centering info related ss. bi_projector methods (project, reconstruct, inverse_projection) derived core matrices.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Regress.html","id":"internal-checks-developer-focus","dir":"Articles","previous_headings":"","what":"7. Internal Checks (Developer Focus)","title":"Linear Re-representation with regress()","text":"section contains internal consistency checks, primarily package development CI testing. code chunk runs environment variable _MULTIVARIOUS_DEV_COVERAGE set.","code":"# This chunk only runs if _MULTIVARIOUS_DEV_COVERAGE is non-empty message(\"Running internal consistency checks for regress()...\") #> Running internal consistency checks for regress()... tryCatch({   stopifnot(     # Check reconstruction fidelity for lm     max(abs(reconstruct(fit) - Y)) < 1e-10,     # Check dimensions of inverse projection matrix (n x p)     # inverse_projection maps coefficients (k x n) back to data (p x n)     # The matrix itself maps k -> p implicitly. Let's check coef matrix dims.     nrow(fit$v) == ncol(B), # k rows     ncol(fit$v) == ncol(Y)  # n columns     # Add checks for other methods if evaluated   )   message(\"Regress internal checks passed.\") }, error = function(e) {   warning(\"Regress internal checks failed: \", e$message) }) #> Warning in value[[3L]](cond): Regress internal checks failed: #> max(abs(reconstruct(fit) - Y)) < 1e-10 is not TRUE"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/Regress.html","id":"take-aways","dir":"Articles","previous_headings":"","what":"8. Take-aways","title":"Linear Re-representation with regress()","text":"regress() provides convenient way fit multiple linear models simultaneously expressing data YY known basis BB. returns bi_projector, giving immediate access projection, reconstruction, truncation, coefficient extraction. Supports standard OLS (lm), Ridge (mridge), Elastic Net (enet), PLS (pls) ---box. Works basis dictionary (orthonormal ). Can integrated larger analysis pipelines using composition (%>>%) cross-validation helpers. Happy re-representing!","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/articles/SVD_PCA.html","id":"why-wrap-svd-at-all","dir":"Articles","previous_headings":"","what":"1. Why wrap SVD at all?","title":"SVD wrapper, PCA and the bi_projector","text":"six popular SVD engines R (base::svd, corpcor, RSpectra, irlba, rsvd, svd (PROPACK)) ‚Äì argument list, naming conventions edge-cases (refuse return full rank, others crash tall-skinny matrices). svd_wrapper() smooths : identical call-signature matter backend, automatic pre-processing (centre / standardise) via pipeline interface shown previous vignette, returns bi_projector ‚Äì S3 class stores loadings v, scores s, singular values sdev plus fitted pre-processor. means immediate access verbs project(), reconstruct(), truncate(), partial_project().","code":"set.seed(1); X <- matrix(rnorm(35*10), 35, 10)   # 35 obs √ó 10 vars  sv_fast  <- svd_wrapper(X, ncomp = 5, preproc = center(), method = \"fast\") # Ensure irlba is installed if testing this method if (requireNamespace(\"irlba\", quietly=TRUE)) {   sv_irlba <- svd_wrapper(X, ncomp = 5, preproc = center(), method = \"irlba\") } else {   sv_irlba <- NULL # Skip if irlba not available } #> Warning in irlba::irlba(Xp, nu = k, nv = k, ...): You're computing too large a #> percentage of total singular values, use a standard svd instead.  # Same downstream code works for both objects: head(scores(sv_fast)) # 35 √ó 5 #>            [,1]       [,2]       [,3]        [,4]        [,5] #> [1,] -2.9415181 -1.6140167  0.2117456  0.12109736 -0.46419317 #> [2,]  0.4743086  0.3458298 -0.8467096 -1.21167498  0.02074819 #> [3,] -1.6999172 -1.1535717 -1.0276227 -0.33535843  0.37155930 #> [4,]  0.1131790  0.7789166 -0.7394153  0.43625966  2.24260205 #> [5,]  0.8437314 -1.7600608 -0.8939140  0.77861595  0.81936957 #> [6,]  0.6063990 -1.8810077  1.2246519  0.03652504 -1.40433408  if (!is.null(sv_irlba)) {   all.equal(scores(sv_fast), scores(sv_irlba)) # TRUE for this random X } #> [1] \"Mean relative difference: 0.7895446\""},{"path":"https://bbuchsbaum.github.io/multivarious/articles/SVD_PCA.html","id":"a-one-liner-pca","dir":"Articles","previous_headings":"","what":"2. A one-liner pca()","title":"SVD wrapper, PCA and the bi_projector","text":"people really want PCA, pca() thin wrapper calls svd_wrapper() sane defaults, adds S3 class ‚Äúpca‚Äù (printing, screeplot, biplot, permutation test, ‚Ä¶).","code":"data(iris) X_iris <- as.matrix(iris[, 1:4])  pca_fit <- pca(X_iris, ncomp = 4)    # defaults to method = \"fast\", preproc=center() print(pca_fit) #> PCA object  -- derived from SVD #>  #> Data: 150 observations x 4 variables #> Components retained: 4 #>  #> Variance explained (per component): #>  1 2 3 4  92.46  5.31  1.71  0.52%  (cumulative:  92.46 97.77 99.48   100%)"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/SVD_PCA.html","id":"scree-plot-and-cumulative-variance","dir":"Articles","previous_headings":"2. A one-liner pca()","what":"2.1 Scree-plot and cumulative variance","title":"SVD wrapper, PCA and the bi_projector","text":"","code":"screeplot(pca_fit, type = \"lines\", main = \"Iris PCA ‚Äì scree plot\")"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/SVD_PCA.html","id":"quick-biplot","dir":"Articles","previous_headings":"2. A one-liner pca()","what":"2.2 Quick biplot","title":"SVD wrapper, PCA and the bi_projector","text":"(ggrepel installed text placed without repulsion.)","code":"# Requires ggrepel for repulsion, but works without it biplot(pca_fit, repel_points = TRUE, repel_vars = TRUE, group_var = iris$Species) #> Warning in ggrepel::geom_text_repel(aes(label = .data$labels), color = \"black\", #> : Ignoring unknown parameters: `group_var` #> Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0. #> ‚Ñπ Please use `linewidth` instead. #> ‚Ñπ The deprecated feature was likely used in the multivarious package. #>   Please report the issue to the authors. #> This warning is displayed once every 8 hours. #> Call `lifecycle::last_lifecycle_warnings()` to see where this warning was #> generated. #> Warning in ggrepel::geom_text_repel(data = loadings_df, aes(x = .data$PCx, : #> Ignoring unknown parameters: `group_var` #> Warning: ggrepel: 105 unlabeled data points (too many overlaps). Consider #> increasing max.overlaps"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/SVD_PCA.html","id":"what-is-a-bi_projector","dir":"Articles","previous_headings":"","what":"3. What is a bi_projector?","title":"SVD wrapper, PCA and the bi_projector","text":"Think bidirectional mapping: bi_projector therefore carries pca() returns bi_projector, get methods free:","code":"data space  (p variables)  ‚Üî  component space  (d ‚â§ p)         new samples:  project()        ‚Üê scores        new variables: project_vars()   ‚Üê loadings                      reconstruction ‚Üî  (scores %*% t(loadings)) # rank-2 reconstruction of the iris data Xhat2 <- reconstruct(pca_fit, comp = 1:2) print(paste(\"MSE (rank 2):\", round(mean((X_iris - Xhat2)^2), 4))) # MSE ~ 0.076 #> [1] \"MSE (rank 2): 0.0253\"  # drop to 2 PCs everywhere pca2 <- truncate(pca_fit, 2) shape(pca2)            # 4 vars √ó 2 comps #> [1] 4 2"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/SVD_PCA.html","id":"fast-code-coverage-cameo","dir":"Articles","previous_headings":"","what":"4. Fast code-coverage cameo","title":"SVD wrapper, PCA and the bi_projector","text":"next chunk quietly touches branches used unit tests (std_scores(), perm_test(), rotate()), keeps printing minimum: (Running vignette means also executed R CMD check, bumping test-coverage without extra scaffolding.)","code":"# std scores head(std_scores(svd_wrapper(X, ncomp = 3))) # Use the earlier X data #>            [,1]       [,2]         [,3] #> [1,] -2.1517996 -1.2898029 -0.009068656 #> [2,]  0.2706758  0.3540074 -0.658705409 #> [3,] -1.3315759 -0.7788579 -1.206524820 #> [4,] -0.0595748  0.7971995 -0.971493443 #> [5,]  0.5035052 -1.2105838 -1.291893170 #> [6,]  0.4441909 -1.5304768  0.866038002  # tiny permutation test (10 perms; obviously too few for science) # This requires perm_test.pca method # Make sure X_iris is centered if perm_test needs centered data perm_res <- perm_test(pca_fit, X_iris, nperm = 10, comps = 2) #> Pre-calculating reconstructions for stepwise testing... #> Running 10 permutations sequentially for up to 2 PCA components (alpha=0.050, serial)... #>   Testing Component 1/2... #>   Component 1 p-value (0.09091) > alpha (0.050). Stopping sequential testing. print(perm_res$component_results) #> # A tibble: 1 √ó 5 #>    comp observed   pval lower_ci upper_ci #>   <int>    <dbl>  <dbl>    <dbl>    <dbl> #> 1     1    0.925 0.0909    0.682    0.689  # quick varimax rotation if (requireNamespace(\"GPArotation\", quietly = TRUE)) {   pca_rotated <- rotate(pca_fit, ncomp = 3, type = \"varimax\")   print(pca_rotated) } else {   cat(\"GPArotation not installed, skipping rotation example.\\n\") } #> PCA object  -- derived from SVD #>  #> Data: 150 observations x 4 variables #> Components retained: 4 #>  #> Variance explained (per component): #>  1 2 3 4  46.56  3.92  5.68 43.84%  (cumulative:  46.56 50.48 56.16   100%) #>  #> Explained variance from rotation: #> 82.9 % #>  6.98 % #>  10.12 % #>   #>  #> Rotation details: #>   Type: varimax  #>   Loadings type: N/A (orthogonal)"},{"path":"https://bbuchsbaum.github.io/multivarious/articles/SVD_PCA.html","id":"take-aways","dir":"Articles","previous_headings":"","what":"5. Take-aways","title":"SVD wrapper, PCA and the bi_projector","text":"svd_wrapper() gives unified front end half--dozen SVD engines. pca() piggy-backs , returning fully featured bi_projector. bi_projector contract means verbs & plotting utilities work decomposition wrap framework later.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/articles/SVD_PCA.html","id":"session-info","dir":"Articles","previous_headings":"","what":"Session info","title":"SVD wrapper, PCA and the bi_projector","text":"","code":"sessionInfo() #> R version 4.5.2 (2025-10-31) #> Platform: x86_64-pc-linux-gnu #> Running under: Ubuntu 24.04.3 LTS #>  #> Matrix products: default #> BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3  #> LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.26.so;  LAPACK version 3.12.0 #>  #> locale: #>  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8        #>  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8    #>  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C           #> [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C    #>  #> time zone: UTC #> tzcode source: system (glibc) #>  #> attached base packages: #> [1] stats     graphics  grDevices utils     datasets  methods   base      #>  #> other attached packages: #> [1] ggplot2_4.0.0      multivarious_0.2.0 #>  #> loaded via a namespace (and not attached): #>  [1] GPArotation_2025.3-1 sass_0.4.10          future_1.67.0        #>  [4] generics_0.1.4       shape_1.4.6.1        lattice_0.22-7       #>  [7] listenv_0.10.0       digest_0.6.37        magrittr_2.0.4       #> [10] evaluate_1.0.5       grid_4.5.2           RColorBrewer_1.1-3   #> [13] iterators_1.0.14     fastmap_1.2.0        foreach_1.5.2        #> [16] jsonlite_2.0.0       Matrix_1.7-4         glmnet_4.1-10        #> [19] ggrepel_0.9.6        RSpectra_0.16-2      survival_3.8-3       #> [22] scales_1.4.0         pls_2.8-5            codetools_0.2-20     #> [25] textshaping_1.0.4    jquerylib_0.1.4      cli_3.6.5            #> [28] crayon_1.5.3         rlang_1.1.6          chk_0.10.0           #> [31] parallelly_1.45.1    future.apply_1.20.0  splines_4.5.2        #> [34] withr_3.0.2          cachem_1.1.0         yaml_2.3.10          #> [37] tools_4.5.2          parallel_4.5.2       dplyr_1.1.4          #> [40] corpcor_1.6.10       globals_0.18.0       rsvd_1.0.5           #> [43] assertthat_0.2.1     vctrs_0.6.5          R6_2.6.1             #> [46] lifecycle_1.0.4      fs_1.6.6             irlba_2.3.5.1        #> [49] ragg_1.5.0           pkgconfig_2.0.3      desc_1.4.3           #> [52] pkgdown_2.1.3        pillar_1.11.1        bslib_0.9.0          #> [55] geigen_2.3           gtable_0.3.6         glue_1.8.0           #> [58] Rcpp_1.1.0           systemfonts_1.3.1    xfun_0.54            #> [61] tibble_3.3.0         tidyselect_1.2.1     svd_0.5.8            #> [64] knitr_1.50           farver_2.1.2         htmltools_0.5.8.1    #> [67] labeling_0.4.3       rmarkdown_2.30       compiler_4.5.2       #> [70] S7_0.2.0"},{"path":"https://bbuchsbaum.github.io/multivarious/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Bradley Buchsbaum. Author, maintainer.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Buchsbaum B (2025). multivarious: Extensible Data Structures Multivariate Analysis. R package version 0.2.0, https://bbuchsbaum.github.io/multivarious/.","code":"@Manual{,   title = {multivarious: Extensible Data Structures for Multivariate Analysis},   author = {Bradley Buchsbaum},   year = {2025},   note = {R package version 0.2.0},   url = {https://bbuchsbaum.github.io/multivarious/}, }"},{"path":"https://bbuchsbaum.github.io/multivarious/index.html","id":"multivarious","dir":"","previous_headings":"","what":"Extensible Data Structures for Multivariate Analysis","title":"Extensible Data Structures for Multivariate Analysis","text":"package intended provide basic abstractions default implementations basic computational infrastructure multivariate component-based modeling principal components analysis. main idea model multivariate decompositions involving projections input data space lower dimensional component space. idea encapsulated projector class project function. Support two-way mapping (row projection column projection) provided derived class bi-projector. Generic functions common operations included: project mapping input space (usually) reduced-dimensional output space partial_project mapping subset input space output space project_vars mapping new variables (‚Äúsupplementary variables‚Äù) output space reconstruct reconstructing input data low-dimensional representation residuals extracting residuals fit n components.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Extensible Data Structures for Multivariate Analysis","text":"can install development version GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"bbuchsbaum/multivarious\")"},{"path":"https://bbuchsbaum.github.io/multivarious/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Extensible Data Structures for Multivariate Analysis","text":"basic example shows solve common problem:","code":"library(multivarious) #>  #> Attaching package: 'multivarious' #> The following object is masked from 'package:stats': #>  #>     residuals #> The following object is masked from 'package:base': #>  #>     truncate ## basic example code"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/add_node.html","id":null,"dir":"Reference","previous_headings":"","what":"add a pre-processing stage ‚Äî add_node","title":"add a pre-processing stage ‚Äî add_node","text":"add pre-processing stage","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/add_node.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"add a pre-processing stage ‚Äî add_node","text":"","code":"add_node(x, step, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/add_node.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"add a pre-processing stage ‚Äî add_node","text":"x processing pipeline step pre-processing step add ... extra args","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/add_node.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"add a pre-processing stage ‚Äî add_node","text":"new pre-processing pipeline added step","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/add_node.prepper.html","id":null,"dir":"Reference","previous_headings":"","what":"Add a pre-processing node to a pipeline ‚Äî add_node.prepper","title":"Add a pre-processing node to a pipeline ‚Äî add_node.prepper","text":"Add pre-processing node pipeline","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/add_node.prepper.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add a pre-processing node to a pipeline ‚Äî add_node.prepper","text":"","code":"# S3 method for class 'prepper' add_node(x, step, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/add_node.prepper.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add a pre-processing node to a pipeline ‚Äî add_node.prepper","text":"x prepper pipeline step pre-processing step add ... Additional arguments","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/apply_rotation.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply rotation ‚Äî apply_rotation","title":"Apply rotation ‚Äî apply_rotation","text":"Apply specified rotation fitted model","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/apply_rotation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply rotation ‚Äî apply_rotation","text":"","code":"apply_rotation(x, rotation_matrix, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/apply_rotation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Apply rotation ‚Äî apply_rotation","text":"x model object, possibly created using pca() function. rotation_matrix matrix reprsenting rotation. ... extra args","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/apply_rotation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Apply rotation ‚Äî apply_rotation","text":"modified object updated components scores applying specified rotation.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/apply_transform.html","id":null,"dir":"Reference","previous_headings":"","what":"apply a pre-processing transform ‚Äî apply_transform","title":"apply a pre-processing transform ‚Äî apply_transform","text":"apply pre-processing transform","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/apply_transform.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"apply a pre-processing transform ‚Äî apply_transform","text":"","code":"apply_transform(x, X, colind, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/apply_transform.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"apply a pre-processing transform ‚Äî apply_transform","text":"x pre_processor X data matrix colind column indices ... extra args","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/apply_transform.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"apply a pre-processing transform ‚Äî apply_transform","text":"transformed data","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/bi_projector.html","id":null,"dir":"Reference","previous_headings":"","what":"Construct a bi_projector instance ‚Äî bi_projector","title":"Construct a bi_projector instance ‚Äî bi_projector","text":"bi_projector offers two-way mapping samples (rows) scores variables (columns) components. Thus, one can project D-dimensional input space d-dimensional subspace. one can project (project_vars) n-dimensional variable space d-dimensional component space. singular value decomposition canonical example two-way mapping.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/bi_projector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Construct a bi_projector instance ‚Äî bi_projector","text":"","code":"bi_projector(v, s, sdev, preproc = prep(pass()), classes = NULL, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/bi_projector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Construct a bi_projector instance ‚Äî bi_projector","text":"v matrix coefficients dimensions nrow(v) ncol(v) (columns = components) s score matrix sdev standard deviations score matrix preproc (optional) pre-processing pipeline, default prep(pass()) classes (optional) character vector specifying class attributes object, default NULL ... Extra arguments stored projector object.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/bi_projector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Construct a bi_projector instance ‚Äî bi_projector","text":"bi_projector object","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/bi_projector.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Construct a bi_projector instance ‚Äî bi_projector","text":"","code":"X <- matrix(rnorm(200), 10, 20) svdfit <- svd(X)  p <- bi_projector(svdfit$v, s = svdfit$u %*% diag(svdfit$d), sdev=svdfit$d) #> Warning: `prep()` was deprecated in multivarious 0.3.0. #> ‚Ñπ Please use `fit()` instead. #> ‚Ñπ The prep() function is deprecated. Use fit() for a more standard interface. #> ‚Ñπ The deprecated feature was likely used in the multivarious package. #>   Please report the issue to the authors."},{"path":"https://bbuchsbaum.github.io/multivarious/reference/bi_projector_union.html","id":null,"dir":"Reference","previous_headings":"","what":"A Union of Concatenated bi_projector Fits ‚Äî bi_projector_union","title":"A Union of Concatenated bi_projector Fits ‚Äî bi_projector_union","text":"function combines set bi_projector fits single bi_projector instance. new instance's weights associated scores obtained concatenating weights scores input fits.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/bi_projector_union.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"A Union of Concatenated bi_projector Fits ‚Äî bi_projector_union","text":"","code":"bi_projector_union(fits, outer_block_indices = NULL)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/bi_projector_union.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"A Union of Concatenated bi_projector Fits ‚Äî bi_projector_union","text":"fits list bi_projector instances row space. instances combined create new bi_projector instance. outer_block_indices optional list indices outer blocks. provided, function compute indices based dimensions input fits.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/bi_projector_union.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"A Union of Concatenated bi_projector Fits ‚Äî bi_projector_union","text":"new bi_projector instance concatenated weights, scores, properties input bi_projector instances.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/bi_projector_union.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"A Union of Concatenated bi_projector Fits ‚Äî bi_projector_union","text":"","code":"X1 <- matrix(rnorm(5*5), 5, 5) X2 <- matrix(rnorm(5*5), 5, 5)  bpu <- bi_projector_union(list(pca(X1), pca(X2)))"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/biplot.pca.html","id":null,"dir":"Reference","previous_headings":"","what":"Biplot for PCA Objects (Enhanced with ggrepel) ‚Äî biplot.pca","title":"Biplot for PCA Objects (Enhanced with ggrepel) ‚Äî biplot.pca","text":"Creates 2D biplot pca object, using ggplot2 ggrepel show sample scores (observations) variable loadings (arrows).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/biplot.pca.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Biplot for PCA Objects (Enhanced with ggrepel) ‚Äî biplot.pca","text":"","code":"# S3 method for class 'pca' biplot(   x,   y = NULL,   dims = c(1, 2),   scale_arrows = 2,   alpha_points = 0.6,   point_size = 2,   point_labels = NULL,   var_labels = NULL,   arrow_color = \"red\",   text_color = \"red\",   repel_points = TRUE,   repel_vars = FALSE,   ... )"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/biplot.pca.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Biplot for PCA Objects (Enhanced with ggrepel) ‚Äî biplot.pca","text":"x pca object returned pca. y (ignored) Placeholder match biplot(x, y, ...) signature. dims length-2 integer vector specifying principal components plot x y axes. Defaults c(1, 2). scale_arrows numeric factor scale variable loadings (arrows). Default 2. alpha_points Transparency level sample points. Default 0.6. point_size Size sample points. Default 2. point_labels Optional character vector labels sample points. NULL, rownames scores matrix used available; otherwise numeric indices. var_labels Optional character vector variable names (columns original data). NULL, rownames x\\$v used available; otherwise \"Var1\", \"Var2\", etc. arrow_color Color loading arrows. Default \"red\". text_color Color variable label text. Default \"red\". repel_points Logical; TRUE, repel sample labels using geom_text_repel. Default TRUE. repel_vars Logical; TRUE, repel variable labels using geom_text_repel. Default FALSE. ... Additional arguments passed ggplot2 ggrepel functions (needed).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/biplot.pca.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Biplot for PCA Objects (Enhanced with ggrepel) ‚Äî biplot.pca","text":"ggplot object.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/biplot.pca.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Biplot for PCA Objects (Enhanced with ggrepel) ‚Äî biplot.pca","text":"function constructs scatterplot PCA scores (observations) two chosen components overlays arrows loadings (variables). arrow length direction indicate variable contributes principal components. can control arrow scaling scale_arrows. pca object includes $explained_variance field (e.g., proportion variance per component), values appear axis labels. Otherwise, axes labeled simply \"PC1\", \"PC2\", etc. Note: ggrepel installed, can set repel_points=FALSE repel_vars=FALSE, install ggrepel.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/biplot.pca.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Biplot for PCA Objects (Enhanced with ggrepel) ‚Äî biplot.pca","text":"","code":"if (FALSE) { # \\dontrun{ data(iris) X <- as.matrix(iris[,1:4]) pca_res <- pca(X, ncomp=2)  # Enhanced biplot with repelled text biplot(pca_res, repel_points=TRUE, repel_vars=TRUE) } # }"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/block_indices.html","id":null,"dir":"Reference","previous_headings":"","what":"get block_indices ‚Äî block_indices","title":"get block_indices ‚Äî block_indices","text":"extract list indices associated block multiblock object","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/block_indices.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"get block_indices ‚Äî block_indices","text":"","code":"block_indices(x, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/block_indices.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"get block_indices ‚Äî block_indices","text":"x object ... extra args","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/block_indices.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"get block_indices ‚Äî block_indices","text":"list block indices","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/block_indices.multiblock_projector.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract the Block Indices from a Multiblock Projector ‚Äî block_indices.multiblock_projector","title":"Extract the Block Indices from a Multiblock Projector ‚Äî block_indices.multiblock_projector","text":"Extract Block Indices Multiblock Projector","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/block_indices.multiblock_projector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract the Block Indices from a Multiblock Projector ‚Äî block_indices.multiblock_projector","text":"","code":"# S3 method for class 'multiblock_projector' block_indices(x, i, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/block_indices.multiblock_projector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract the Block Indices from a Multiblock Projector ‚Äî block_indices.multiblock_projector","text":"x multiblock_projector object. Ignored. ... Ignored.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/block_indices.multiblock_projector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract the Block Indices from a Multiblock Projector ‚Äî block_indices.multiblock_projector","text":"list block indices.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/block_lengths.html","id":null,"dir":"Reference","previous_headings":"","what":"get block_lengths ‚Äî block_lengths","title":"get block_lengths ‚Äî block_lengths","text":"extract lengths block multiblock object","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/block_lengths.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"get block_lengths ‚Äî block_lengths","text":"","code":"block_lengths(x)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/block_lengths.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"get block_lengths ‚Äî block_lengths","text":"x object","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/block_lengths.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"get block_lengths ‚Äî block_lengths","text":"block lengths","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/bootstrap.html","id":null,"dir":"Reference","previous_headings":"","what":"Bootstrap Resampling for Multivariate Models ‚Äî bootstrap","title":"Bootstrap Resampling for Multivariate Models ‚Äî bootstrap","text":"Perform bootstrap resampling multivariate model estimate variability components scores.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/bootstrap.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Bootstrap Resampling for Multivariate Models ‚Äî bootstrap","text":"","code":"bootstrap(x, nboot, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/bootstrap.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Bootstrap Resampling for Multivariate Models ‚Äî bootstrap","text":"x fitted model object, projector, fit training dataset. nboot integer specifying number bootstrap resamples perform. ... Additional arguments passed specific model implementation bootstrap.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/bootstrap.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Bootstrap Resampling for Multivariate Models ‚Äî bootstrap","text":"list containing bootstrap resampled components scores model.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/bootstrap_pca.html","id":null,"dir":"Reference","previous_headings":"","what":"Fast, Exact Bootstrap for PCA Results from pca function ‚Äî bootstrap_pca","title":"Fast, Exact Bootstrap for PCA Results from pca function ‚Äî bootstrap_pca","text":"Performs bootstrap resampling Principal Component Analysis (PCA) based method described Fisher et al. (2016), optimized high-dimensional data (p >> n). version specifically adapted work output object generated provided pca function (returns bi_projector object class 'pca').","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/bootstrap_pca.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fast, Exact Bootstrap for PCA Results from pca function ‚Äî bootstrap_pca","text":"","code":"bootstrap_pca(   x,   nboot = 100,   k = NULL,   parallel = FALSE,   cores = NULL,   seed = NULL,   epsilon = 1e-15,   ... )"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/bootstrap_pca.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fast, Exact Bootstrap for PCA Results from pca function ‚Äî bootstrap_pca","text":"x object class 'pca' returned provided pca function. expected contain loadings (v), scores (s), singular values (sdev), left singular vectors (u), pre-processing info (preproc). nboot number bootstrap resamples perform. Must positive integer (default: 100). k number principal components bootstrap (default: components available fitted PCA model x). Must less equal number components x. parallel Logical flag indicating whether use parallel processing via future framework (default: FALSE). Requires future.apply package configured future backend (e.g., future::plan(future::multisession)). cores number cores use parallel processing parallel = TRUE (default: future::availableCores()). used future plan set. seed integer value random number generator seed reproducibility (default: NULL, seed set). epsilon small positive value added standard deviations division prevent division zero instability (default: 1e-15). ... Additional arguments (currently ignored).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/bootstrap_pca.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fast, Exact Bootstrap for PCA Results from pca function ‚Äî bootstrap_pca","text":"list object class bootstrap_pca_result containing: E_Vb Matrix (p x k) estimated bootstrap means principal components (loadings V^b = coefficients). sd_Vb Matrix (p x k) estimated bootstrap standard deviations principal components (loadings V^b). z_loadings Matrix (p x k) bootstrap Z-scores loadings, calculated E_Vb / sd_Vb. E_Scores Matrix (n x k) estimated bootstrap means principal component scores (S^b). sd_Scores Matrix (n x k) estimated bootstrap standard deviations principal component scores (S^b). z_scores Matrix (n x k) bootstrap Z-scores scores, calculated E_Scores / sd_Scores. E_Ab Matrix (k x k) estimated bootstrap means internal rotation matrices ^b. Ab_array Array (k x k x nboot) containing bootstrap rotation matrices ^b. Scores_array Array (n x k x nboot) containing bootstrap score matrices (S^b, NAs non-sampled subjects). nboot number bootstrap samples used (successful ones). k number components bootstrapped. call matched call function.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/bootstrap_pca.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Fast, Exact Bootstrap for PCA Results from pca function ‚Äî bootstrap_pca","text":"function implements fast bootstrap PCA algorithm proposed Fisher et al. (2016), adapted output structure provided pca function. pca function returns object containing: v: Loadings (coefficients, p x k) - equivalent V SVD Y = U D V'. Note transpose difference prcomp. s: Scores (n x k) - calculated U %*% D. sdev: Singular values (vector length k) - equivalent d. u: Left singular vectors (n x k). bootstrap algorithm works resampling subjects (rows) recomputing SVD low-dimensional representation. Specifically, computes SVD resampled matrix D U' P^b, Y = U D V' SVD original (pre-processed) data, P^b resampling matrix operating subjects (columns U'). SVD resampled low-dimensional matrix svd(D U' P^b) = ^b S^b (R^b)'. bootstrap principal components (loadings) calculated V^b = V ^b, bootstrap scores Scores^b = R^b S^b. Z-scores provided mean / sd. Important Note: algorithm assumes data Y used original SVD (Y = U D V') appropriately centered (pre-processed according x$preproc). bootstrap samples generated based components derived pre-processed data.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/bootstrap_pca.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Fast, Exact Bootstrap for PCA Results from pca function ‚Äî bootstrap_pca","text":"Fisher, Aaron, Brian Caffo, Brian Schwartz, Vadim Zipunnikov. 2016. \"Fast, Exact Bootstrap Principal Component Analysis P > 1 Million.\" Journal American Statistical Association 111 (514): 846‚Äì60. doi:10.1080/01621459.2015.1062383 .","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/bootstrap_pca.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fast, Exact Bootstrap for PCA Results from pca function ‚Äî bootstrap_pca","text":"","code":"# Simulate data (p=50, n=20) set.seed(123) p_dim <- 50 n_obs <- 20 Y_mat <- matrix(rnorm(p_dim * n_obs), nrow = p_dim, ncol = n_obs) # Transpose for pca function input (n x p) X_mat <- t(Y_mat)  # Perform PCA using the provided pca function # Use center() pre-processing pca_res <- pca(X_mat, ncomp = 5, preproc = center(), method = \"fast\")  # Run bootstrap on the pca result boot_res <- bootstrap_pca(pca_res, nboot = 5, k = 5, seed = 456)  # Explore results print(dim(boot_res$z_loadings)) # p x k Z-scores for loadings (coefficients) #> [1] 50  5 print(dim(boot_res$z_scores))   # n x k Z-scores for scores #> [1] 20  5"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/cPCAplus.html","id":null,"dir":"Reference","previous_headings":"","what":"Contrastive PCA++ (cPCA++) Performs Contrastive PCA++ (cPCA++) to find directions that capture variation enriched in a ","title":"Contrastive PCA++ (cPCA++) Performs Contrastive PCA++ (cPCA++) to find directions that capture variation enriched in a ","text":"Contrastive PCA++ (cPCA++) Performs Contrastive PCA++ (cPCA++) find directions capture variation enriched \"foreground\" dataset relative \"background\" dataset. implementation follows cPCA++ approach directly solves generalized eigenvalue problem Rf v = lambda Rb v, Rf Rb covariance matrices foreground background data, centered using background mean.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/cPCAplus.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Contrastive PCA++ (cPCA++) Performs Contrastive PCA++ (cPCA++) to find directions that capture variation enriched in a ","text":"","code":"cPCAplus(   X_f,   X_b,   ncomp = NULL,   center_background = TRUE,   lambda = 0,   method = c(\"geigen\", \"primme\", \"sdiag\", \"corpcor\"),   strategy = c(\"auto\", \"feature\", \"sample\"),   verbose = getOption(\"multivarious.verbose\", TRUE),   sample_rank = NULL,   sample_oversample = 10L,   ... )"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/cPCAplus.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Contrastive PCA++ (cPCA++) Performs Contrastive PCA++ (cPCA++) to find directions that capture variation enriched in a ","text":"X_f numeric matrix representing foreground dataset (samples x features). X_b numeric matrix representing background dataset (samples x features). X_f X_b must number features (columns). ncomp Integer. number contrastive components compute. Defaults min(ncol(X_f), nrow(X_f), nrow(X_b)), may capped effective background rank (especially sample-space strategy). center_background Logical. TRUE (default), X_f X_b centered using column means X_b. FALSE, assumes data already appropriately centered. lambda Shrinkage intensity covariance estimation (0 <= lambda <= 1). Defaults 0 (shrinkage). Uses corpcor::cov.shrink. Can help stabilize results Rb ill-conditioned singular. method character string specifying primary computation method. Options include: \"geigen\" (Default): Use geneig geigen package. \"primme\": Use geneig PRIMME library backend (requires special geigen build). \"sdiag\": Use geneig spectral decomposition method. \"corpcor\": Use corpcor-based whitening approach followed standard PCA. strategy Controls GEVD approach method \"corpcor\". Options include: \"auto\" (Default): Chooses based dimensions (feature vs. sample space). \"feature\": Forces direct computation via p x p covariance matrices. \"sample\": Forces sample-space computation via SVD smaller GEVD (efficient large p). verbose Logical; TRUE (default), prints brief status messages strategy selection defaults. Set FALSE silence messages. sample_rank Optional integer controlling background subspace rank used sample-space strategy. NULL (default), uses full background rank min(n_b-1, p). provided, solver target approximately sample_rank + sample_oversample bounded full background rank. sample_oversample Integer oversampling margin (default 10) applied sample_rank given. Ignored sample_rank NULL. ... Additional arguments passed underlying computation functions (geigen::geneig irlba::irlba based method strategy).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/cPCAplus.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Contrastive PCA++ (cPCA++) Performs Contrastive PCA++ (cPCA++) to find directions that capture variation enriched in a ","text":"bi_projector-like object classes c(\"cPCAplus\", \"<method_class>\", \"bi_projector\") containing: v Loadings matrix (features x ncomp). Interpretation depends method (see Details). s Scores matrix (samples_f x ncomp). sdev Vector (length ncomp). Standard deviations (sqrt generalized eigenvalues geigen methods, PCA std devs corpcor). values Vector (length ncomp). Generalized eigenvalues (geigen methods) PCA eigenvalues (corpcor). strategy strategy used (\"feature\" \"sample\") method \"corpcor\". preproc initialized preprocessor object used. method computation method used. ncomp number components computed. nfeatures number features.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/cPCAplus.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Contrastive PCA++ (cPCA++) Performs Contrastive PCA++ (cPCA++) to find directions that capture variation enriched in a ","text":"Preprocessing: Following cPCA++ paper, center_background = TRUE, X_f X_b centered subtracting column means calculated background data X_b. crucial isolating variance specific X_f. Core Algorithm (methods \"geigen\", \"primme\", \"sdiag\", strategy=\"feature\"): Center X_f X_b using mean X_b. Compute potentially shrunk \\(p \\times p\\) covariance matrices Rf (centered X_f) Rb (centered X_b) using corpcor::cov.shrink. Solve generalized eigenvalue problem Rf v = lambda Rb v top ncomp eigenvectors v using geigen::geneig. eigenvectors contrastive principal components (loadings). Compute scores projecting centered foreground data onto eigenvectors: S = X_f_centered %*% v. Core Algorithm (Large-D / Sample Space Strategy, strategy=\"sample\"): \\(p \\gg n\\), forming \\(p \\times p\\) matrices Rf Rb infeasible. \"sample\" strategy follows cPCA++ ¬ß3.2: Center X_f X_b using mean X_b. Compute SVD centered \\(X_b = Ub Sb Vb^T\\) (using irlba efficiency). Project centered X_f background's principal subspace: Zf = X_f_centered %*% Vb. Form small \\(r \\times r\\) matrices: Rf_small = cov(Zf) Rb_small = (1/(n_b-1)) * Sb^2. Solve small \\(r \\times r\\) GEVD: Rf_small w = lambda Rb_small w using geigen::geneig. Lift eigenvectors back feature space: v = Vb %*% w. Compute scores: S = X_f_centered %*% v. Alternative Algorithm (method \"corpcor\"): Center X_f X_b using mean X_b. Compute Rb inverse square root Rb_inv_sqrt. Whiten foreground data: X_f_whitened = X_f_centered %*% Rb_inv_sqrt. Perform standard PCA (stats::prcomp) X_f_whitened. returned v s loadings scores whitened space. loadings generalized eigenvectors v. specific class corpcor_pca added signal .","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/cPCAplus.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Contrastive PCA++ (cPCA++) Performs Contrastive PCA++ (cPCA++) to find directions that capture variation enriched in a ","text":"Salloum, R., Kuo, C. C. J. (2022). cPCA++: efficient method contrastive feature learning. Pattern Recognition, 124, 108378. (Algorithm 1)","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/cPCAplus.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Contrastive PCA++ (cPCA++) Performs Contrastive PCA++ (cPCA++) to find directions that capture variation enriched in a ","text":"","code":"# Simulate data where foreground has extra variance in first few dimensions set.seed(123) n_f <- 100 n_b <- 150 n_features <- 50  # Background: standard normal noise X_b <- matrix(rnorm(n_b * n_features), nrow=n_b, ncol=n_features) colnames(X_b) <- paste0(\"Feat_\", 1:n_features)  # Foreground: background noise + extra variance in first 5 features X_f_signal <- matrix(rnorm(n_f * 5, mean=0, sd=2), nrow=n_f, ncol=5) X_f_noise <- matrix(rnorm(n_f * (n_features-5)), nrow=n_f, ncol=n_features-5) X_f <- cbind(X_f_signal, X_f_noise) + matrix(rnorm(n_f * n_features), nrow=n_f, ncol=n_features) colnames(X_f) <- paste0(\"Feat_\", 1:n_features) rownames(X_f) <- paste0(\"SampleF_\", 1:n_f)  # Apply cPCA++ (requires geigen and corpcor packages) # install.packages(c(\"geigen\", \"corpcor\")) if (requireNamespace(\"geigen\", quietly = TRUE) && requireNamespace(\"corpcor\", quietly = TRUE)) {   # Assuming helper constructors like bi_projector are available   # library(multivarious)     res_cpca_plus <- cPCAplus(X_f, X_b, ncomp = 5, method = \"geigen\")    # Scores for the foreground data (samples x components)   print(head(res_cpca_plus$s))    # Loadings (contrastive directions) (features x components)   print(head(res_cpca_plus$v)) } #> Using feature-space strategy... #>                 cPC1       cPC2       cPC3       cPC4       cPC5 #> SampleF_1  0.6973216 -0.9298861 -2.4890872 -1.1068083  0.7499051 #> SampleF_2  5.3814450  3.7903387 -1.0576106 -1.5806685 -0.6569618 #> SampleF_3  1.0732526  0.7042730 -2.1782781  0.2180881  3.7225401 #> SampleF_4 -2.4616309 -3.5851637  3.9806244 -0.3335771 -0.1837763 #> SampleF_5  2.2755087  0.8559051 -0.1064592 -0.3198966  2.4177053 #> SampleF_6 -2.2642836  1.9850255  1.5783660 -0.9690632  1.3477944 #>               cPC1        cPC2        cPC3        cPC4       cPC5 #> Feat_1  0.12938667  0.35443654 -0.27401589  0.23486767 -0.1665203 #> Feat_2  0.28086477  0.01166486 -0.16767050  0.28665253  0.2750788 #> Feat_3  0.32662862  0.10800109  0.24508903  0.06522056 -0.1403823 #> Feat_4  0.28416270 -0.01924305 -0.01876914 -0.16614791  0.1280966 #> Feat_5 -0.05633953  0.15857353  0.42986961  0.03909660 -0.1655489 #> Feat_6  0.06099437  0.09724319  0.02361012 -0.01815817 -0.1194691  if (FALSE) { # \\dontrun{ # Plot example (not run to avoid graphics device issues) if (requireNamespace(\"geigen\", quietly = TRUE) && requireNamespace(\"corpcor\", quietly = TRUE)) {   set.seed(123)   X_b <- matrix(rnorm(150 * 50), nrow=150, ncol=50)   X_f <- cbind(matrix(rnorm(100*5, sd=2), 100, 5), matrix(rnorm(100*45), 100, 45))   res <- cPCAplus(X_f, X_b, ncomp = 5, method = \"geigen\")   plot(res$s[, 1], res$s[, 2],        xlab = \"Contrastive Component 1\", ylab = \"Contrastive Component 2\",        main = \"cPCA++ Scores\") } } # }"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/center.html","id":null,"dir":"Reference","previous_headings":"","what":"center a data matrix ‚Äî center","title":"center a data matrix ‚Äî center","text":"remove mean columns matrix","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/center.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"center a data matrix ‚Äî center","text":"","code":"center(preproc = prepper(), cmeans = NULL)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/center.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"center a data matrix ‚Äî center","text":"preproc pre-processing pipeline cmeans optional vector precomputed column means","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/center.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"center a data matrix ‚Äî center","text":"prepper list","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/check_fitted.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if preprocessor is fitted and error if not ‚Äî check_fitted","title":"Check if preprocessor is fitted and error if not ‚Äî check_fitted","text":"Internal helper provide consistent error messages attempting transform unfitted preprocessors.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/check_fitted.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if preprocessor is fitted and error if not ‚Äî check_fitted","text":"","code":"check_fitted(object, action = \"transform\")"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/check_fitted.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if preprocessor is fitted and error if not ‚Äî check_fitted","text":"object preprocessing object action Character string describing attempted action","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/classifier.discriminant_projector.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a k-NN classifier for a discriminant projector ‚Äî classifier.discriminant_projector","title":"Create a k-NN classifier for a discriminant projector ‚Äî classifier.discriminant_projector","text":"Create k-NN classifier discriminant projector","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/classifier.discriminant_projector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a k-NN classifier for a discriminant projector ‚Äî classifier.discriminant_projector","text":"","code":"# S3 method for class 'discriminant_projector' classifier(x, colind = NULL, knn = 1, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/classifier.discriminant_projector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a k-NN classifier for a discriminant projector ‚Äî classifier.discriminant_projector","text":"x discriminant projector object colind optional vector specifying column indices components knn number nearest neighbors (default=1) ... extra arguments","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/classifier.discriminant_projector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a k-NN classifier for a discriminant projector ‚Äî classifier.discriminant_projector","text":"classifier object","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/classifier.discriminant_projector.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a k-NN classifier for a discriminant projector ‚Äî classifier.discriminant_projector","text":"","code":"# Assume dp is a fitted discriminant_projector object # classifier(dp, knn = 5) # Basic example"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/classifier.html","id":null,"dir":"Reference","previous_headings":"","what":"Construct a Classifier ‚Äî classifier","title":"Construct a Classifier ‚Äî classifier","text":"Create classifier given model object (e.g., projector). classifier can generate predictions new data points.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/classifier.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Construct a Classifier ‚Äî classifier","text":"","code":"classifier(x, colind, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/classifier.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Construct a Classifier ‚Äî classifier","text":"x model object, projector, fit training dataset. colind Optional vector column indices used prediction. provided, columns used. ... Additional arguments passed specific model implementation classifier.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/classifier.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Construct a Classifier ‚Äî classifier","text":"classifier function can used make predictions new data points.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/classifier.multiblock_biprojector.html","id":null,"dir":"Reference","previous_headings":"","what":"Multiblock Bi-Projector Classifier ‚Äî classifier.multiblock_biprojector","title":"Multiblock Bi-Projector Classifier ‚Äî classifier.multiblock_biprojector","text":"Constructs k-Nearest Neighbors (k-NN) classifier based fitted multiblock_biprojector model object. classifier uses projected scores feature space k-NN.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/classifier.multiblock_biprojector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Multiblock Bi-Projector Classifier ‚Äî classifier.multiblock_biprojector","text":"","code":"# S3 method for class 'multiblock_biprojector' classifier(   x,   colind = NULL,   labels,   new_data = NULL,   block = NULL,   global_scores = TRUE,   knn = 1,   ... )"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/classifier.multiblock_biprojector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Multiblock Bi-Projector Classifier ‚Äî classifier.multiblock_biprojector","text":"x fitted multiblock_biprojector object. colind optional numeric vector specifying column indices original data space. provided global_scores=FALSE, indices used perform partial projection reference scores. provided global_scores=TRUE, value stored affect reference scores (remain global); however, may influence default projection behavior prediction unless overridden . See predict.classifier. labels factor vector class labels training data. new_data optional data matrix used generate reference scores global_scores=FALSE, global_scores=TRUE colind block also provided (overriding global_scores). Must provided global_scores=FALSE. block optional integer specifying predefined block index. Used partial projection global_scores=FALSE new_data also provided. used simultaneously colind. global_scores Logical. DEPRECATED argument deprecated behavior changed. Reference scores now determined automatically: new_data NULL: Uses globally projected scores stored x (scores(x)). new_data provided: Always projects new_data generate reference scores (using partial_project/project_block colind/block given, project otherwise). knn integer number nearest neighbors (k) k-NN algorithm (default: 1). ... Additional arguments (currently ignored).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/classifier.multiblock_biprojector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Multiblock Bi-Projector Classifier ‚Äî classifier.multiblock_biprojector","text":"object class multiblock_classifier, also inherits classifier.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/classifier.multiblock_biprojector.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Multiblock Bi-Projector Classifier ‚Äî classifier.multiblock_biprojector","text":"Users can specify whether use globally projected scores stored within model (global_scores = TRUE) generate reference scores projecting provided new_data (global_scores = FALSE). Partial projections based colind block can used global_scores = FALSE new_data provided alongside colind/block. Prediction behavior controlled arguments passed predict.classifier.","code":""},{"path":[]},{"path":"https://bbuchsbaum.github.io/multivarious/reference/classifier.projector.html","id":null,"dir":"Reference","previous_headings":"","what":"create classifier from a projector ‚Äî classifier.projector","title":"create classifier from a projector ‚Äî classifier.projector","text":"create classifier projector","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/classifier.projector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"create classifier from a projector ‚Äî classifier.projector","text":"","code":"# S3 method for class 'projector' classifier(   x,   colind = NULL,   labels,   new_data = NULL,   knn = 1,   global_scores = TRUE,   ... )"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/classifier.projector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"create classifier from a projector ‚Äî classifier.projector","text":"x projector colind ... labels ... new_data ... knn ... global_scores ... ... extra args","code":""},{"path":[]},{"path":"https://bbuchsbaum.github.io/multivarious/reference/classifier.projector.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"create classifier from a projector ‚Äî classifier.projector","text":"","code":"# Assume proj is a fitted projector object # Assume lbls are labels and dat is new data # classifier(proj, labels = lbls, new_data = dat, knn = 3)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/coef.composed_projector.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Coefficients of a Composed Projector ‚Äî coef.composed_projector","title":"Get Coefficients of a Composed Projector ‚Äî coef.composed_projector","text":"Calculates effective coefficient matrix maps original input space (first projector) final output space (last projector). done multiplying coefficient matrices projectors sequence.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/coef.composed_projector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Coefficients of a Composed Projector ‚Äî coef.composed_projector","text":"","code":"# S3 method for class 'composed_projector' coef(object, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/coef.composed_projector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Coefficients of a Composed Projector ‚Äî coef.composed_projector","text":"object composed_projector object. ... Currently unused.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/coef.composed_projector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Coefficients of a Composed Projector ‚Äî coef.composed_projector","text":"matrix representing combined coefficients.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/coef.cross_projector.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract coefficients from a cross_projector object ‚Äî coef.cross_projector","title":"Extract coefficients from a cross_projector object ‚Äî coef.cross_projector","text":"Extract coefficients cross_projector object","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/coef.cross_projector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract coefficients from a cross_projector object ‚Äî coef.cross_projector","text":"","code":"# S3 method for class 'cross_projector' coef(object, source = c(\"X\", \"Y\"), ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/coef.cross_projector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract coefficients from a cross_projector object ‚Äî coef.cross_projector","text":"object model fit source source data (X Y block), either \"X\" \"Y\" ... extra args","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/coef.cross_projector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract coefficients from a cross_projector object ‚Äî coef.cross_projector","text":"coefficients","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/coef.multiblock_projector.html","id":null,"dir":"Reference","previous_headings":"","what":"Coefficients for a Multiblock Projector ‚Äî coef.multiblock_projector","title":"Coefficients for a Multiblock Projector ‚Äî coef.multiblock_projector","text":"Extracts components (loadings) given block entire projector.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/coef.multiblock_projector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Coefficients for a Multiblock Projector ‚Äî coef.multiblock_projector","text":"","code":"# S3 method for class 'multiblock_projector' coef(object, block, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/coef.multiblock_projector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Coefficients for a Multiblock Projector ‚Äî coef.multiblock_projector","text":"object multiblock_projector object. block Optional block index. missing, returns loadings variables. ... Additional arguments.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/coef.multiblock_projector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Coefficients for a Multiblock Projector ‚Äî coef.multiblock_projector","text":"matrix loadings.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/colscale.html","id":null,"dir":"Reference","previous_headings":"","what":"scale a data matrix ‚Äî colscale","title":"scale a data matrix ‚Äî colscale","text":"normalize column scale factor.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/colscale.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"scale a data matrix ‚Äî colscale","text":"","code":"colscale(preproc = prepper(), type = c(\"unit\", \"z\", \"weights\"), weights = NULL)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/colscale.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"scale a data matrix ‚Äî colscale","text":"preproc pre-processing pipeline type kind scaling, unit norm, z-scoring, precomputed weights weights optional precomputed weights","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/colscale.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"scale a data matrix ‚Äî colscale","text":"prepper list","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/components.html","id":null,"dir":"Reference","previous_headings":"","what":"get the components ‚Äî components","title":"get the components ‚Äî components","text":"Extract component matrix fit.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/components.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"get the components ‚Äî components","text":"","code":"components(x, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/components.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"get the components ‚Äî components","text":"x model fit ... extra args","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/components.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"get the components ‚Äî components","text":"component matrix","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/compose_partial_projector.html","id":null,"dir":"Reference","previous_headings":"","what":"Compose Multiple Partial Projectors ‚Äî compose_partial_projector","title":"Compose Multiple Partial Projectors ‚Äî compose_partial_projector","text":"Creates composed_partial_projector object applies partial projections sequentially. multiple projectors composed, column indices (colind) used stage must considered. infix operator provides syntactic sugar composing projectors sequentially. alias compose_partial_projector.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/compose_partial_projector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compose Multiple Partial Projectors ‚Äî compose_partial_projector","text":"","code":"compose_partial_projector(...)  lhs %>>% rhs"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/compose_partial_projector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compose Multiple Partial Projectors ‚Äî compose_partial_projector","text":"... sequence projectors implement partial_project(), optionally named. lhs left-hand side projector (composed projector). rhs right-hand side projector add sequence.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/compose_partial_projector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compose Multiple Partial Projectors ‚Äî compose_partial_projector","text":"composed_partial_projector object. composed_partial_projector object representing combined sequence.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/compose_projector.html","id":null,"dir":"Reference","previous_headings":"","what":"Compose Two Projectors ‚Äî compose_projector","title":"Compose Two Projectors ‚Äî compose_projector","text":"Combine two projector models single projector sequentially applying first projector second projector.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/compose_projector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compose Two Projectors ‚Äî compose_projector","text":"","code":"compose_projector(x, y, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/compose_projector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compose Two Projectors ‚Äî compose_projector","text":"x fitted model object (e.g., projector) fit dataset applied first composition. y second fitted model object (e.g., projector) fit dataset applied first projector. ... Additional arguments passed specific model implementation compose_projector.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/compose_projector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compose Two Projectors ‚Äî compose_projector","text":"new projector object representing composed projector, can used project data onto combined subspace.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/concat_pre_processors.html","id":null,"dir":"Reference","previous_headings":"","what":"bind together blockwise pre-processors ‚Äî concat_pre_processors","title":"bind together blockwise pre-processors ‚Äî concat_pre_processors","text":"concatenate sequence pre-processors, applied block data.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/concat_pre_processors.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"bind together blockwise pre-processors ‚Äî concat_pre_processors","text":"","code":"concat_pre_processors(preprocs, block_indices)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/concat_pre_processors.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"bind together blockwise pre-processors ‚Äî concat_pre_processors","text":"preprocs list initialized pre_processor objects block_indices list integer vectors specifying global column indices block","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/concat_pre_processors.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"bind together blockwise pre-processors ‚Äî concat_pre_processors","text":"new pre_processor object applies correct transformations blockwise","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/concat_pre_processors.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"bind together blockwise pre-processors ‚Äî concat_pre_processors","text":"","code":"p1 <- center() |> prep() p2 <- center() |> prep()  x1 <- rbind(1:10, 2:11) x2 <- rbind(1:10, 2:11)  p1a <- init_transform(p1,x1) p2a <- init_transform(p2,x2)  clist <- concat_pre_processors(list(p1,p2), list(1:10, 11:20)) t1 <- apply_transform(clist, cbind(x1,x2))  t2 <- apply_transform(clist, cbind(x1,x2[,1:5]), colind=1:15) #> Warning: `apply_transform()` was deprecated in multivarious 0.3.0. #> ‚Ñπ Please use `transform()` instead. #> ‚Ñπ apply_transform() is deprecated. Use transform() for a more standard #>   interface. #> ‚Ñπ The deprecated feature was likely used in the multivarious package. #>   Please report the issue to the authors."},{"path":"https://bbuchsbaum.github.io/multivarious/reference/cross_projector.html","id":null,"dir":"Reference","previous_headings":"","what":"Two-way (cross) projection to latent components ‚Äî cross_projector","title":"Two-way (cross) projection to latent components ‚Äî cross_projector","text":"projector reduces two blocks data, X Y, yielding pair weights component. structure can used, example, store weights derived canonical correlation analysis.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/cross_projector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Two-way (cross) projection to latent components ‚Äî cross_projector","text":"","code":"cross_projector(   vx,   vy,   preproc_x = prep(pass()),   preproc_y = prep(pass()),   ...,   classes = NULL )"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/cross_projector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Two-way (cross) projection to latent components ‚Äî cross_projector","text":"vx X coefficients. Must number columns vy. vy Y coefficients. Must number columns vx. preproc_x X pre-processor preproc_y Y pre-processor ... extra parameters results store classes additional class names","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/cross_projector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Two-way (cross) projection to latent components ‚Äî cross_projector","text":"cross_projector object","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/cross_projector.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Two-way (cross) projection to latent components ‚Äî cross_projector","text":"class extends projector therefore basic operations project, shape, reprocess, coef work, default, assumed X block primary. access Y block operations, additional argument source must supplied relevant functions, e.g., coef(fit, source = \"Y\")","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/cross_projector.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Two-way (cross) projection to latent components ‚Äî cross_projector","text":"","code":"# Create two scaled matrices X and Y X <- scale(matrix(rnorm(10 * 5), 10, 5)) Y <- scale(matrix(rnorm(10 * 5), 10, 5))  # Perform canonical correlation analysis on X and Y cres <- cancor(X, Y) sx <- X %*% cres$xcoef sy <- Y %*% cres$ycoef  # Create a cross_projector object using the canonical correlation analysis results canfit <- cross_projector(cres$xcoef, cres$ycoef, cor = cres$cor,                           sx = sx, sy = sy, classes = \"cancor\")"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/cv.html","id":null,"dir":"Reference","previous_headings":"","what":"Cross-validation Framework ‚Äî cv","title":"Cross-validation Framework ‚Äî cv","text":"Generic function performing cross-validation various objects data. Specific methods implemented different data types model types.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/cv.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Cross-validation Framework ‚Äî cv","text":"","code":"cv(x, folds, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/cv.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Cross-validation Framework ‚Äî cv","text":"x object perform cross-validation (e.g., data matrix, formula, model object). folds list defining cross-validation folds, typically containing train test indices fold. ... Additional arguments passed specific methods.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/cv.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Cross-validation Framework ‚Äî cv","text":"structure return value depends specific S3 method. Typically, object containing results cross-validation, performance metrics per fold aggregated metrics.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/cv.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Cross-validation Framework ‚Äî cv","text":"specific implementation details, default functions, relevant arguments vary method. Bi-Projector Method (cv.bi_projector): Relevant arguments: x, folds, max_comp, fit_fun, measure, measure_fun, return_models, .... method performs cross-validation specifically bi_projector models (models intended used like , typically unsupervised methods like PCA SVD). fold, fits single model using training data maximum number components specified (max_comp). iterates 1 max_comp components: truncates full model k components using truncate(). (Requires truncate method fitted model class). reconstructs held-test data using k-component truncated model via reconstruct_new(). calculates reconstruction performance metrics (e.g., MSE, R2) comparing original test data reconstruction using measure argument custom measure_fun. fit_fun must accept argument ncomp. Additional arguments ... passed fit_fun measure_fun. return value cv_fit object (list class cv_fit), $results element tibble. row corresponds fold, containing fold index (fold) nested tibble (component_metrics). component_metrics tibble rows component evaluated (1 max_comp) columns component index (comp) plus calculated metrics (e.g., mse, r2, mae) error messages (comp_error). return_models=TRUE, full model fitted training data fold included list column model_full.","code":""},{"path":[]},{"path":"https://bbuchsbaum.github.io/multivarious/reference/cv_generic.html","id":null,"dir":"Reference","previous_headings":"","what":"Generic cross-validation engine ‚Äî cv_generic","title":"Generic cross-validation engine ‚Äî cv_generic","text":"fold (train/test indices): Subset data[train, ] Fit model .fit_fun(train_data, ...) Evaluate .measure_fun(model, test_data, ...)","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/cv_generic.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generic cross-validation engine ‚Äî cv_generic","text":"","code":"cv_generic(   data,   folds,   .fit_fun,   .measure_fun,   fit_args = list(),   measure_args = list(),   backend = c(\"serial\", \"future\"),   ... )"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/cv_generic.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generic cross-validation engine ‚Äî cv_generic","text":"data matrix data.frame shape (n x p). folds list folds, list $train $test. .fit_fun Function: signature function(train_data, ...){}. Returns fitted model. .measure_fun Function: signature function(model, test_data, ...){}. Returns tibble named list/vector metrics. fit_args list additional named arguments passed .fit_fun. measure_args list additional named arguments passed .measure_fun. backend Character string: \"serial\" (default) \"future\" parallel execution using future framework. ... Currently ignored (arguments passed via fit_args measure_args).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/cv_generic.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generic cross-validation engine ‚Äî cv_generic","text":"tibble columns: fold integer fold index model list fitted models metrics list metric tibbles/lists","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/discriminant_projector.html","id":null,"dir":"Reference","previous_headings":"","what":"Construct a Discriminant Projector ‚Äî discriminant_projector","title":"Construct a Discriminant Projector ‚Äî discriminant_projector","text":"discriminant_projector instance extends bi_projector projection maximizes class separation. can useful dimensionality reduction techniques take class labels account, Linear Discriminant Analysis (LDA).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/discriminant_projector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Construct a Discriminant Projector ‚Äî discriminant_projector","text":"","code":"discriminant_projector(   v,   s,   sdev,   preproc = prep(pass()),   labels,   classes = NULL,   ... )"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/discriminant_projector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Construct a Discriminant Projector ‚Äî discriminant_projector","text":"v projection matrix (often X %*% v). Rows correspond observations, columns components. s score matrix (often X %*% v). Rows correspond observations, columns components. sdev standard deviations associated scores components (e.g., singular values LDA). preproc prepper pre_processor object, pre-processing function (e.g., center, pass). labels factor character vector class labels corresponding rows X (s). classes Additional S3 classes prepend. ... Extra arguments passed bi_projector.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/discriminant_projector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Construct a Discriminant Projector ‚Äî discriminant_projector","text":"discriminant_projector object.","code":""},{"path":[]},{"path":"https://bbuchsbaum.github.io/multivarious/reference/discriminant_projector.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Construct a Discriminant Projector ‚Äî discriminant_projector","text":"","code":"# Simulate data and labels set.seed(123) X <- matrix(rnorm(100 * 10), 100, 10) labels <- factor(rep(1:2, each = 50))  # Perform LDA and create a discriminant projector lda_fit <- MASS::lda(X, labels)  dp <- discriminant_projector(lda_fit$scaling, X %*% lda_fit$scaling, sdev = lda_fit$svd,  labels = labels)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/feature_importance.classifier.html","id":null,"dir":"Reference","previous_headings":"","what":"Evaluate Feature Importance for a Classifier ‚Äî feature_importance.classifier","title":"Evaluate Feature Importance for a Classifier ‚Äî feature_importance.classifier","text":"Estimates importance features blocks features classification performance using either \"marginal\" (leave-one-block-) \"standalone\" (use--one-block) approach.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/feature_importance.classifier.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Evaluate Feature Importance for a Classifier ‚Äî feature_importance.classifier","text":"","code":"# S3 method for class 'classifier' feature_importance(   x,   new_data,   true_labels,   ncomp = NULL,   blocks = NULL,   metric = c(\"cosine\", \"euclidean\", \"ejaccard\"),   fun = rank_score,   fun_direction = c(\"lower_is_better\", \"higher_is_better\"),   approach = c(\"marginal\", \"standalone\"),   ... )"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/feature_importance.classifier.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Evaluate Feature Importance for a Classifier ‚Äî feature_importance.classifier","text":"x fitted classifier object. new_data data matrix used evaluating importance (typically validation test data). true_labels true class labels corresponding rows new_data. ncomp Optional integer; number components use projector classification (default: components used classifier creation). blocks list element numeric vector feature indices (columns original data space) defining block. NULL, feature treated block. metric Character string specifying similarity distance metric k-NN. Choices: \"euclidean\", \"cosine\", \"ejaccard\". fun function compute performance metric (e.g., rank_score, topk, custom function). function take probability matrix observed labels return data frame first column metric value per observation. fun_direction Character string, either \"lower_is_better\" \"higher_is_better\", indicating whether lower higher values metric calculated fun signify better performance. used interpret importance score correctly. approach Character string: \"marginal\" (calculates importance change baseline block removed) \"standalone\" (calculates importance performance using block). ... Additional arguments passed predict.classifier internal predictions.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/feature_importance.classifier.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Evaluate Feature Importance for a Classifier ‚Äî feature_importance.classifier","text":"data.frame columns block (character representation feature indices block) importance (numeric importance score). Higher importance values generally indicate influential blocks, considering fun_direction.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/feature_importance.classifier.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Evaluate Feature Importance for a Classifier ‚Äî feature_importance.classifier","text":"Importance measured change performance metric (fun) features removed (marginal) used exclusively (standalone).","code":""},{"path":[]},{"path":"https://bbuchsbaum.github.io/multivarious/reference/feature_importance.classifier.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Evaluate Feature Importance for a Classifier ‚Äî feature_importance.classifier","text":"","code":"# Assume clf is a fitted classifier object, dat is new data, true_lbls are correct labels for dat # Assume blocks_list defines feature groups e.g., list(1:5, 6:10) # feature_importance(clf, new_data = dat, true_labels = true_lbls, blocks = blocks_list)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/feature_importance.html","id":null,"dir":"Reference","previous_headings":"","what":"Evaluate feature importance ‚Äî feature_importance","title":"Evaluate feature importance ‚Äî feature_importance","text":"Calculate importance features model","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/feature_importance.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Evaluate feature importance ‚Äî feature_importance","text":"","code":"feature_importance(x, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/feature_importance.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Evaluate feature importance ‚Äî feature_importance","text":"x model fit ... extra args","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/feature_importance.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Evaluate feature importance ‚Äî feature_importance","text":"feature importance scores","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/fit.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit a preprocessing pipeline ‚Äî fit","title":"Fit a preprocessing pipeline ‚Äî fit","text":"Learn preprocessing parameters training data. function fits preprocessing pipeline provided data matrix, learning parameters means, standard deviations, transformation parameters.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/fit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit a preprocessing pipeline ‚Äî fit","text":"","code":"fit(object, X, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/fit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit a preprocessing pipeline ‚Äî fit","text":"object preprocessing object (e.g., prepper pre_processor) X matrix data frame fit preprocessing pipeline ... Additional arguments passed methods","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/fit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fit a preprocessing pipeline ‚Äî fit","text":"fitted preprocessing object can used transform() inverse_transform()","code":""},{"path":[]},{"path":"https://bbuchsbaum.github.io/multivarious/reference/fit.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fit a preprocessing pipeline ‚Äî fit","text":"","code":"# Fit a centering preprocessor X <- matrix(rnorm(100), 10, 10) preproc <- center() fitted_preproc <- fit(preproc, X)  # Transform new data X_new <- matrix(rnorm(50), 5, 10) X_transformed <- transform(fitted_preproc, X_new)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/fit_transform.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit and transform data in one step ‚Äî fit_transform","title":"Fit and transform data in one step ‚Äî fit_transform","text":"Convenience function fits preprocessing pipeline data immediately applies transformation. equivalent calling fit() followed transform() efficient convenient.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/fit_transform.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit and transform data in one step ‚Äî fit_transform","text":"","code":"fit_transform(object, X, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/fit_transform.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit and transform data in one step ‚Äî fit_transform","text":"object preprocessing object (e.g., prepper pre_processor) X matrix data frame fit transform ... Additional arguments passed methods","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/fit_transform.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fit and transform data in one step ‚Äî fit_transform","text":"list two elements: preproc (fitted preprocessor) transformed (transformed data)","code":""},{"path":[]},{"path":"https://bbuchsbaum.github.io/multivarious/reference/fit_transform.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fit and transform data in one step ‚Äî fit_transform","text":"","code":"# Fit and transform in one step X <- matrix(rnorm(100), 10, 10) preproc <- center() result <- fit_transform(preproc, X) fitted_preproc <- result$preproc X_transformed <- result$transformed"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/fresh.html","id":null,"dir":"Reference","previous_headings":"","what":"Get a fresh pre-processing node cleared of any cached data ‚Äî fresh","title":"Get a fresh pre-processing node cleared of any cached data ‚Äî fresh","text":"Get fresh pre-processing node cleared cached data","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/fresh.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get a fresh pre-processing node cleared of any cached data ‚Äî fresh","text":"","code":"fresh(x, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/fresh.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get a fresh pre-processing node cleared of any cached data ‚Äî fresh","text":"x processing pipeline ... extra args","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/fresh.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get a fresh pre-processing node cleared of any cached data ‚Äî fresh","text":"fresh pre-processing pipeline","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/geneig.html","id":null,"dir":"Reference","previous_headings":"","what":"Generalized Eigenvalue Decomposition ‚Äî geneig","title":"Generalized Eigenvalue Decomposition ‚Äî geneig","text":"Computes generalized eigenvalues eigenvectors problem: x = Œª B x. Supports multiple dense iterative solvers unified eigenpair selection interface.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/geneig.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generalized Eigenvalue Decomposition ‚Äî geneig","text":"","code":"geneig(   A = NULL,   B = NULL,   ncomp = 2,   preproc = prep(pass()),   method = c(\"robust\", \"sdiag\", \"geigen\", \"primme\", \"rspectra\", \"subspace\"),   which = \"LA\",   ... )"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/geneig.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generalized Eigenvalue Decomposition ‚Äî geneig","text":"left-hand side square matrix. B right-hand side square matrix, dimension . ncomp Number eigenpairs return. preproc preprocessing function apply matrices solving generalized eigenvalue problem. method One : \"robust\": Uses stable decomposition via whitening transform (B must symmetric PD). \"sdiag\":  Uses spectral decomposition B (must symmetric PD). Requires symmetric meaningful results. \"geigen\": Uses geigen package general solution (B can non-symmetric). \"primme\": Uses PRIMME package large/sparse symmetric problems (B must symmetric). \"rspectra\": Uses RSpectra; B SPD calls eigs_sym(, B, ...) directly, otherwise applies reciprocal transform support targets. \"subspace\": Block subspace iteration symmetric pairs SPD B (iterative, external package required). eigenpairs return. One \"LA\" (largest algebraic), \"SA\" (smallest algebraic), \"LM\" (largest magnitude), \"SM\" (smallest magnitude). Aliases: \"top\"/\"largest\" ‚Üí \"LA\", \"bottom\"/\"smallest\" ‚Üí \"SA\". Dense backends select eigenpairs post hoc; \"primme\" supports \"LA\", \"SA\", \"SM\" (\"LM\"); \"rspectra\" honors four options. Default \"LA\". ... Additional arguments pass underlying solver.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/geneig.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generalized Eigenvalue Decomposition ‚Äî geneig","text":"projector object generalized eigenvectors eigenvalues.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/geneig.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Generalized Eigenvalue Decomposition ‚Äî geneig","text":"Golub, G. H. & Van Loan, C. F. (2013) Matrix Computations, 4th ed., ¬ß 8.7 ‚Äì textbook derivation \"robust\" (Cholesky) \"sdiag\" (spectral) transforms. Moler, C. & Stewart, G. (1973) \"Algorithm Generalized Matrix Eigenvalue Problems\". SIAM J. Numer. Anal., 10 (2): 241‚Äë256 ‚Äì QZ algorithm behind geigen backend. Stathopoulos, . & McCombs, J. R. (2010) \"PRIMME: PReconditioned Iterative Multi‚ÄëMethod Eigensolver\". ACM TOMS 37 (2): 21:1‚Äë21:30 ‚Äì algorithmic core primme backend. See also geigen (CRAN) PRIMME documentation.","code":""},{"path":[]},{"path":"https://bbuchsbaum.github.io/multivarious/reference/geneig.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generalized Eigenvalue Decomposition ‚Äî geneig","text":"","code":"# \\donttest{ # Simulate two matrices set.seed(123) A <- matrix(rnorm(50 * 50), 50, 50) B <- matrix(rnorm(50 * 50), 50, 50) A <- A %*% t(A) # Make A symmetric B <- B %*% t(B) + diag(50) * 0.1 # Make B symmetric positive definite  # Solve generalized eigenvalue problem result <- geneig(A = A, B = B, ncomp = 3) # }"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/get_fitted_state.html","id":null,"dir":"Reference","previous_headings":"","what":"Get fitted state from attributes ‚Äî get_fitted_state","title":"Get fitted state from attributes ‚Äî get_fitted_state","text":"Get fitted state attributes","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/get_fitted_state.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get fitted state from attributes ‚Äî get_fitted_state","text":"","code":"get_fitted_state(object)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/get_fitted_state.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get fitted state from attributes ‚Äî get_fitted_state","text":"object preprocessing object","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/get_fitted_state.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get fitted state from attributes ‚Äî get_fitted_state","text":"Logical indicating fitted state, NULL tracked","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/group_means.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute column-wise mean in X for each factor level of Y ‚Äî group_means","title":"Compute column-wise mean in X for each factor level of Y ‚Äî group_means","text":"function computes group means factor level Y provided data matrix X.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/group_means.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute column-wise mean in X for each factor level of Y ‚Äî group_means","text":"","code":"group_means(Y, X)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/group_means.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute column-wise mean in X for each factor level of Y ‚Äî group_means","text":"Y vector labels compute means disjoint sets X data matrix compute means","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/group_means.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute column-wise mean in X for each factor level of Y ‚Äî group_means","text":"matrix row names corresponding factor levels Y column-wise means factor level","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/group_means.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute column-wise mean in X for each factor level of Y ‚Äî group_means","text":"","code":"# Example data X <- matrix(rnorm(50), 10, 5) Y <- factor(rep(1:2, each = 5))  # Compute group means gm <- group_means(Y, X)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/init_transform.html","id":null,"dir":"Reference","previous_headings":"","what":"initialize a transform ‚Äî init_transform","title":"initialize a transform ‚Äî init_transform","text":"initialize transform","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/init_transform.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"initialize a transform ‚Äî init_transform","text":"","code":"init_transform(x, X, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/init_transform.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"initialize a transform ‚Äî init_transform","text":"x pre_processor X data matrix","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/init_transform.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"initialize a transform ‚Äî init_transform","text":"initialized pre-processor","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/inverse_projection.composed_projector.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute the Inverse Projection for a Composed Projector ‚Äî inverse_projection.composed_projector","title":"Compute the Inverse Projection for a Composed Projector ‚Äî inverse_projection.composed_projector","text":"Calculates pseudo-inverse composed projector, mapping final output space back towards original input space. computed multiplying pseudo-inverses individual projector stages reverse order: V_k+ %*% ... %*% V_2+ %*% V_1+.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/inverse_projection.composed_projector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute the Inverse Projection for a Composed Projector ‚Äî inverse_projection.composed_projector","text":"","code":"# S3 method for class 'composed_projector' inverse_projection(x, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/inverse_projection.composed_projector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute the Inverse Projection for a Composed Projector ‚Äî inverse_projection.composed_projector","text":"x composed_projector object. ... Additional arguments passed underlying inverse_projection methods.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/inverse_projection.composed_projector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute the Inverse Projection for a Composed Projector ‚Äî inverse_projection.composed_projector","text":"matrix representing combined pseudo-inverse.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/inverse_projection.composed_projector.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Compute the Inverse Projection for a Composed Projector ‚Äî inverse_projection.composed_projector","text":"Requires stage implements inverse_projection method.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/inverse_projection.cross_projector.html","id":null,"dir":"Reference","previous_headings":"","what":"Default inverse_projection method for cross_projector ‚Äî inverse_projection.cross_projector","title":"Default inverse_projection method for cross_projector ‚Äî inverse_projection.cross_projector","text":"function obtains matrix maps factor scores latent space back original domain (X Y). default, assume v_domain necessarily orthonormal invertible, use pseudoinverse approach (e.g. MASS::ginv).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/inverse_projection.cross_projector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Default inverse_projection method for cross_projector ‚Äî inverse_projection.cross_projector","text":"","code":"# S3 method for class 'cross_projector' inverse_projection(x, domain = c(\"X\", \"Y\"), ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/inverse_projection.cross_projector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Default inverse_projection method for cross_projector ‚Äî inverse_projection.cross_projector","text":"x cross_projector object. domain Either \"X\" \"Y\", indicating block's inverse loading matrix want (.e., want reconstruct data X space Y space). ... Additional arguments (currently unused, may used subclasses).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/inverse_projection.cross_projector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Default inverse_projection method for cross_projector ‚Äî inverse_projection.cross_projector","text":"matrix , multiplied factor scores, yields reconstruction specified domain's original space.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/inverse_projection.cross_projector.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Default inverse_projection method for cross_projector ‚Äî inverse_projection.cross_projector","text":"","code":"# Suppose 'cp' is a cross_projector object. If we want the # inverse for the Y domain: #   inv_mat <- inverse_projection(cp, domain=\"Y\") # Then reconstruct:  Yhat <- Fscores %*% inv_mat"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/inverse_projection.html","id":null,"dir":"Reference","previous_headings":"","what":"Inverse of the Component Matrix ‚Äî inverse_projection","title":"Inverse of the Component Matrix ‚Äî inverse_projection","text":"Return inverse projection matrix, can used map back data space. component matrix orthogonal, inverse projection transpose component matrix.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/inverse_projection.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Inverse of the Component Matrix ‚Äî inverse_projection","text":"","code":"inverse_projection(x, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/inverse_projection.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Inverse of the Component Matrix ‚Äî inverse_projection","text":"x model fit. ... Extra arguments.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/inverse_projection.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Inverse of the Component Matrix ‚Äî inverse_projection","text":"inverse projection matrix.","code":""},{"path":[]},{"path":"https://bbuchsbaum.github.io/multivarious/reference/inverse_transform.html","id":null,"dir":"Reference","previous_headings":"","what":"Inverse transform data using a fitted preprocessing pipeline ‚Äî inverse_transform","title":"Inverse transform data using a fitted preprocessing pipeline ‚Äî inverse_transform","text":"Reverse preprocessing transformation, converting transformed data back original scale. preprocessing object must fitted calling function.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/inverse_transform.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Inverse transform data using a fitted preprocessing pipeline ‚Äî inverse_transform","text":"","code":"inverse_transform(object, X, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/inverse_transform.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Inverse transform data using a fitted preprocessing pipeline ‚Äî inverse_transform","text":"object fitted preprocessing object X matrix data frame transformed data reverse ... Additional arguments passed methods","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/inverse_transform.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Inverse transform data using a fitted preprocessing pipeline ‚Äî inverse_transform","text":"data matrix original scale","code":""},{"path":[]},{"path":"https://bbuchsbaum.github.io/multivarious/reference/inverse_transform.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Inverse transform data using a fitted preprocessing pipeline ‚Äî inverse_transform","text":"","code":"# Inverse transform data back to original scale X <- matrix(rnorm(100), 10, 10) preproc <- center() fitted_preproc <- fit(preproc, X) X_transformed <- transform(fitted_preproc, X) X_reconstructed <- inverse_transform(fitted_preproc, X_transformed)  # X and X_reconstructed should be approximately equal all.equal(X, X_reconstructed) #> [1] TRUE"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/is_fitted.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if a preprocessing object is fitted ‚Äî is_fitted","title":"Check if a preprocessing object is fitted ‚Äî is_fitted","text":"Determine whether preprocessing object fitted data. used internally provide helpful error messages users try transform data unfitted preprocessor.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/is_fitted.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if a preprocessing object is fitted ‚Äî is_fitted","text":"","code":"is_fitted(object)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/is_fitted.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if a preprocessing object is fitted ‚Äî is_fitted","text":"object preprocessing object check","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/is_fitted.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if a preprocessing object is fitted ‚Äî is_fitted","text":"Logical: TRUE fitted, FALSE otherwise","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/is_orthogonal.html","id":null,"dir":"Reference","previous_headings":"","what":"is it orthogonal ‚Äî is_orthogonal","title":"is it orthogonal ‚Äî is_orthogonal","text":"test whether components orthogonal","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/is_orthogonal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"is it orthogonal ‚Äî is_orthogonal","text":"","code":"is_orthogonal(x, tol = 1e-06)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/is_orthogonal.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"is it orthogonal ‚Äî is_orthogonal","text":"x object tol tolerance checking orthogonality","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/is_orthogonal.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"is it orthogonal ‚Äî is_orthogonal","text":"logical value indicating whether transformation orthogonal","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/is_orthogonal.projector.html","id":null,"dir":"Reference","previous_headings":"","what":"Stricter check for true orthogonality ‚Äî is_orthogonal.projector","title":"Stricter check for true orthogonality ‚Äî is_orthogonal.projector","text":"test v^T * v = (rows >= cols) v * v^T = (cols > rows).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/is_orthogonal.projector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Stricter check for true orthogonality ‚Äî is_orthogonal.projector","text":"","code":"# S3 method for class 'projector' is_orthogonal(x, tol = 1e-06)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/is_orthogonal.projector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Stricter check for true orthogonality ‚Äî is_orthogonal.projector","text":"x projector object tol tolerance checking orthogonality","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/mark_fitted.html","id":null,"dir":"Reference","previous_headings":"","what":"Enhanced fitted state tracking ‚Äî mark_fitted","title":"Enhanced fitted state tracking ‚Äî mark_fitted","text":"Adds fitted flag preprocessing objects track state. used new API ensure proper workflow.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/mark_fitted.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Enhanced fitted state tracking ‚Äî mark_fitted","text":"","code":"mark_fitted(object, fitted = TRUE)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/mark_fitted.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Enhanced fitted state tracking ‚Äî mark_fitted","text":"object preprocessing object fitted Logical indicating fitted state","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/mark_fitted.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Enhanced fitted state tracking ‚Äî mark_fitted","text":"object fitted state marked","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/measure_interblock_transfer_error.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute inter-block transfer error metrics for a cross_projector ‚Äî measure_interblock_transfer_error","title":"Compute inter-block transfer error metrics for a cross_projector ‚Äî measure_interblock_transfer_error","text":"measure well model can transfer X->Y Y->X, e.g. \"x2y.mse\".","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/measure_interblock_transfer_error.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute inter-block transfer error metrics for a cross_projector ‚Äî measure_interblock_transfer_error","text":"","code":"measure_interblock_transfer_error(Xtrue, Ytrue, model, metrics = c(\"x2y.mse\"))"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/measure_interblock_transfer_error.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute inter-block transfer error metrics for a cross_projector ‚Äî measure_interblock_transfer_error","text":"Xtrue X block test data Ytrue Y block test data model fitted cross_projector metrics character vector like c(\"x2y.mse\",\"y2x.r2\")","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/measure_interblock_transfer_error.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute inter-block transfer error metrics for a cross_projector ‚Äî measure_interblock_transfer_error","text":"1-row tibble columns requested metric","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/measure_interblock_transfer_error.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Compute inter-block transfer error metrics for a cross_projector ‚Äî measure_interblock_transfer_error","text":"metric names form \"x2y.mse\", \"x2y.rmse\", \"y2x.r2\", etc.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/measure_reconstruction_error.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute reconstruction-based error metrics ‚Äî measure_reconstruction_error","title":"Compute reconstruction-based error metrics ‚Äî measure_reconstruction_error","text":"Given two numeric matrices Xtrue Xrec, compute: MSE  (\"mse\") RMSE (\"rmse\") R^2  (\"r2\") MAE  (\"mae\")","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/measure_reconstruction_error.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute reconstruction-based error metrics ‚Äî measure_reconstruction_error","text":"","code":"measure_reconstruction_error(   Xtrue,   Xrec,   metrics = c(\"mse\", \"rmse\", \"r2\"),   by_column = FALSE )"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/measure_reconstruction_error.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute reconstruction-based error metrics ‚Äî measure_reconstruction_error","text":"Xtrue Original data matrix, shape (n x p). Xrec Reconstructed data matrix, shape (n x p). metrics Character vector metric names, e.g. c(\"mse\",\"rmse\",\"r2\",\"mae\"). by_column Logical, TRUE calculate R2 metric per column average (default: FALSE).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/measure_reconstruction_error.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute reconstruction-based error metrics ‚Äî measure_reconstruction_error","text":"one-row tibble columns matching metrics.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/multiblock_biprojector.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a Multiblock Bi-Projector ‚Äî multiblock_biprojector","title":"Create a Multiblock Bi-Projector ‚Äî multiblock_biprojector","text":"Constructs multiblock bi-projector using given component matrix (v), score matrix (s), singular values (sdev), preprocessing function, list block indices. allows two-way mapping multiblock data.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/multiblock_biprojector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a Multiblock Bi-Projector ‚Äî multiblock_biprojector","text":"","code":"multiblock_biprojector(   v,   s,   sdev,   preproc = prep(pass()),   ...,   block_indices,   classes = NULL )"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/multiblock_biprojector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a Multiblock Bi-Projector ‚Äî multiblock_biprojector","text":"v matrix components (nrow = number variables, ncol = number components). s matrix scores (nrow = samples, ncol = components). sdev numeric vector singular values standard deviations. preproc pre-processing object (default: prep(pass())). ... Extra arguments. block_indices list numeric vectors specifying data block variable indices. classes Additional class attributes (default NULL).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/multiblock_biprojector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a Multiblock Bi-Projector ‚Äî multiblock_biprojector","text":"multiblock_biprojector object.","code":""},{"path":[]},{"path":"https://bbuchsbaum.github.io/multivarious/reference/multiblock_projector.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a Multiblock Projector ‚Äî multiblock_projector","title":"Create a Multiblock Projector ‚Äî multiblock_projector","text":"Constructs multiblock projector using given component matrix (v), preprocessing function, list block indices. allows projection multiblock data, block represents different set variables features.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/multiblock_projector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a Multiblock Projector ‚Äî multiblock_projector","text":"","code":"multiblock_projector(   v,   preproc = prep(pass()),   ...,   block_indices,   classes = NULL )"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/multiblock_projector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a Multiblock Projector ‚Äî multiblock_projector","text":"v matrix components dimensions nrow(v) ncol(v) (columns = number components). preproc pre-processing function data (default: prep(pass())). ... Extra arguments. block_indices list numeric vectors specifying indices data block. classes (optional) character vector specifying additional class attributes object, default NULL.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/multiblock_projector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a Multiblock Projector ‚Äî multiblock_projector","text":"multiblock_projector object.","code":""},{"path":[]},{"path":"https://bbuchsbaum.github.io/multivarious/reference/multiblock_projector.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a Multiblock Projector ‚Äî multiblock_projector","text":"","code":"# Generate some example data X1 <- matrix(rnorm(10 * 5), 10, 5) X2 <- matrix(rnorm(10 * 5), 10, 5) X <- cbind(X1, X2)  # Compute PCA on the combined data pc <- pca(X, ncomp = 8)  # Create a multiblock projector using PCA components and block indices mb_proj <- multiblock_projector(pc$v, block_indices = list(1:5, 6:10))  # Project multiblock data using the multiblock projector mb_scores <- project(mb_proj, X)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/nblocks.html","id":null,"dir":"Reference","previous_headings":"","what":"get the number of blocks ‚Äî nblocks","title":"get the number of blocks ‚Äî nblocks","text":"number data blocks multiblock element","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/nblocks.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"get the number of blocks ‚Äî nblocks","text":"","code":"nblocks(x)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/nblocks.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"get the number of blocks ‚Äî nblocks","text":"x object","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/nblocks.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"get the number of blocks ‚Äî nblocks","text":"number blocks","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/ncomp.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the number of components ‚Äî ncomp","title":"Get the number of components ‚Äî ncomp","text":"function returns total number components fitted model.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/ncomp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the number of components ‚Äî ncomp","text":"","code":"ncomp(x)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/ncomp.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get the number of components ‚Äî ncomp","text":"x fitted model object.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/ncomp.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get the number of components ‚Äî ncomp","text":"number components fitted model.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/ncomp.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get the number of components ‚Äî ncomp","text":"","code":"# Example using the svd_wrapper function data(iris) X <- iris[, 1:4] fit <- svd_wrapper(X, ncomp = 3, preproc = center(), method = \"base\") #> Error in init_transform.pre_processor(fitted_proc, X): `X` must be an matrix. ncomp(fit) # Should return 3 #> Error in UseMethod(\"ncomp\"): no applicable method for 'ncomp' applied to an object of class \"function\""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/nystrom_approx.html","id":null,"dir":"Reference","previous_headings":"","what":"Nystr√∂m approximation for kernel-based decomposition (Unified Version) ‚Äî nystrom_approx","title":"Nystr√∂m approximation for kernel-based decomposition (Unified Version) ‚Äî nystrom_approx","text":"Approximate eigen-decomposition large kernel matrix K using either standard Nystr√∂m method (Williams & Seeger, 2001) Double Nystr√∂m method (Lim et al., 2015, Algorithm 3).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/nystrom_approx.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Nystr√∂m approximation for kernel-based decomposition (Unified Version) ‚Äî nystrom_approx","text":"","code":"nystrom_approx(   X,   kernel_func = NULL,   ncomp = NULL,   landmarks = NULL,   nlandmarks = 10,   preproc = pass(),   method = c(\"standard\", \"double\"),   center = FALSE,   l = NULL,   use_RSpectra = TRUE,   ... )"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/nystrom_approx.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Nystr√∂m approximation for kernel-based decomposition (Unified Version) ‚Äî nystrom_approx","text":"X numeric matrix data frame size (N x D), N number samples. kernel_func kernel function signature kernel_func(X, Y, ...). NULL, defaults linear kernel: X %*% t(Y). ncomp Number components (eigenvectors/eigenvalues) return. exceed number landmarks. Default capped length(landmarks). landmarks vector row indices (1-based, X) specifying landmark points. NULL, nlandmarks points sampled uniformly random. nlandmarks number landmark points sample landmarks NULL. Default 10. preproc pre-processing pipeline object (e.g., prep()) pre-processing function (default pass()) apply computing kernel. method Either \"standard\" (classic single-stage Nystr√∂m) \"double\" (two-stage Double Nystr√∂m method). center Logical. TRUE, attempts kernel centering. Default FALSE. Note: True kernel centering (required equivalence Kernel PCA) computationally expensive fully implemented. Setting center=TRUE currently issues warning. results equivalent standard PCA, use linear kernel center input data X (e.g., via preproc). See Details. l Intermediate rank double Nystr√∂m method. Ignored method=\"standard\". Typically, l < length(landmarks) reduce complexity. use_RSpectra Logical. TRUE, use RSpectra::svds partial SVD. Recommended large problems. ... Additional arguments passed kernel_func.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/nystrom_approx.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Nystr√∂m approximation for kernel-based decomposition (Unified Version) ‚Äî nystrom_approx","text":"bi_projector object class \"nystrom_approx\" additional fields: v eigenvectors (N x ncomp) approximating kernel eigenbasis. s scores (N x ncomp) = v * diag(sdev), analogous principal component scores. sdev square roots eigenvalues. preproc pre-processing pipeline used. meta list containing parameters intermediate results used (method, landmarks, kernel_func, etc.).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/nystrom_approx.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Nystr√∂m approximation for kernel-based decomposition (Unified Version) ‚Äî nystrom_approx","text":"Double Nystr√∂m method introduces intermediate step reduces size decomposition problem, potentially improving efficiency scalability. Kernel Centering: Standard Kernel PCA requires kernel matrix K centered feature space (Sch√∂lkopf et al., 1998). implementation currently perform kernel centering default (center=FALSE) due computational complexity. Consequently, non-linear kernels, results approximate eigen-decomposition uncentered kernel matrix, strictly equivalent Kernel PCA. using linear kernel, centering input data X (e.g., using preproc=prep(center())) yields results equivalent standard PCA, often sufficient. Standard Nystr√∂m: Uses method Williams & Seeger (2001), including sqrt(m/N) scaling eigenvectors N/m eigenvalues (m landmarks, N samples). Double Nystr√∂m: Implements Algorithm 3 Lim et al. (2015).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/nystrom_approx.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Nystr√∂m approximation for kernel-based decomposition (Unified Version) ‚Äî nystrom_approx","text":"Sch√∂lkopf, B., Smola, ., & M√ºller, K. R. (1998). Nonlinear component analysis kernel eigenvalue problem. Neural computation, 10(5), 1299-1319. Williams, C. K. ., & Seeger, M. (2001). Using Nystr√∂m Method Speed Kernel Machines. Advances Neural Information Processing Systems 13 (pp. 682-688). Lim, D., Jin, R., & Zhang, L. (2015). Efficient Accurate Nystrom Scheme Large-Scale Data Sets. Proceedings Twenty-Ninth AAAI Conference Artificial Intelligence (pp. 2765-2771).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/nystrom_approx.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Nystr√∂m approximation for kernel-based decomposition (Unified Version) ‚Äî nystrom_approx","text":"","code":"set.seed(123) # Smaller example matrix X <- matrix(rnorm(1000*300), 1000, 300)  # Standard Nystr√∂m res_std <- nystrom_approx(X, ncomp=5, nlandmarks=50, method=\"standard\") print(res_std) #> A bi_projector object with the following properties: #>  #> Dimensions of the weights (v) matrix: #>   Rows:  1000  Columns:  5  #>  #> Dimensions of the scores (s) matrix: #>   Rows:  1000  Columns:  5  #>  #> Length of the standard deviations (sdev) vector: #>   Length:  5  #>  #> Preprocessing information: #> A finalized pre-processing pipeline: #>  Step  1 : pass  # Double Nystr√∂m res_db <- nystrom_approx(X, ncomp=5, nlandmarks=50, method=\"double\", l=20) print(res_db) #> A bi_projector object with the following properties: #>  #> Dimensions of the weights (v) matrix: #>   Rows:  1000  Columns:  5  #>  #> Dimensions of the scores (s) matrix: #>   Rows:  1000  Columns:  5  #>  #> Length of the standard deviations (sdev) vector: #>   Length:  5  #>  #> Preprocessing information: #> A finalized pre-processing pipeline: #>  Step  1 : pass  # Projection (using standard result as example) scores_new <- project(res_std, X[1:10,]) head(scores_new) #>            [,1]       [,2]       [,3]        [,4]       [,5] #> [1,] -0.3464966 -2.4798337  0.6040714 -0.62223962  0.5059013 #> [2,] -0.1623986 -0.4074079 -0.8435420 -1.38722424 -0.3488808 #> [3,]  0.6435716 -0.2531178 -0.7252837  0.35537372 -0.7208270 #> [4,]  0.1593062 -0.2865374  0.5394600 -0.02853512 -0.5659083 #> [5,] -1.5810568 -6.8534098  3.2928589 -0.59725008 -0.8724898 #> [6,] -0.6895022  1.3136927  1.0744290 -0.93430486 -1.5582248"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/partial_inverse_projection.cross_projector.html","id":null,"dir":"Reference","previous_headings":"","what":"Partial Inverse Projection of a Subset of the Loading Matrix in cross_projector ‚Äî partial_inverse_projection.cross_projector","title":"Partial Inverse Projection of a Subset of the Loading Matrix in cross_projector ‚Äî partial_inverse_projection.cross_projector","text":"function obtains \"inverse\" mapping columnwise subset loading matrix specified domain. practice, v_mat orthonormal square, use pseudoinverse approach (via MASS::ginv).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/partial_inverse_projection.cross_projector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Partial Inverse Projection of a Subset of the Loading Matrix in cross_projector ‚Äî partial_inverse_projection.cross_projector","text":"","code":"# S3 method for class 'cross_projector' partial_inverse_projection(x, colind, domain = c(\"X\", \"Y\"), ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/partial_inverse_projection.cross_projector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Partial Inverse Projection of a Subset of the Loading Matrix in cross_projector ‚Äî partial_inverse_projection.cross_projector","text":"x cross_projector object. colind numeric vector specifying columns (indices) latent factors loadings invert. Typically correspond subset canonical components principal components, etc. domain Either \"X\" \"Y\", indicating block's partial loadings want invert. ... Additional arguments (unused default, may used subclasses).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/partial_inverse_projection.cross_projector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Partial Inverse Projection of a Subset of the Loading Matrix in cross_projector ‚Äî partial_inverse_projection.cross_projector","text":"matrix shape (length(colind) x p_block) , multiplied factor scores restricted colind columns, yields (n x p_block) reconstruction original domain block.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/partial_inverse_projection.cross_projector.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Partial Inverse Projection of a Subset of the Loading Matrix in cross_projector ‚Äî partial_inverse_projection.cross_projector","text":"default, minimal-norm solution partial columns v_mat. need different approach (e.g., ridge, direct solve, etc.), can override method specific class code.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/partial_inverse_projection.cross_projector.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Partial Inverse Projection of a Subset of the Loading Matrix in cross_projector ‚Äî partial_inverse_projection.cross_projector","text":"","code":"# Suppose 'cp' is a cross_projector, and we want only columns 1:3 of # the Y block factors. Then: #   inv_mat_sub <- partial_inverse_projection(cp, colind=1:3, domain=\"Y\") # The shape will be (3 x pY), so factor_scores_sub (n x 3) %*% inv_mat_sub => (n x pY)."},{"path":"https://bbuchsbaum.github.io/multivarious/reference/partial_inverse_projection.html","id":null,"dir":"Reference","previous_headings":"","what":"Partial Inverse Projection of a Columnwise Subset of Component Matrix ‚Äî partial_inverse_projection","title":"Partial Inverse Projection of a Columnwise Subset of Component Matrix ‚Äî partial_inverse_projection","text":"Compute inverse projection columnwise subset component matrix (e.g., sub-block). Even full component matrix orthogonal, guarantee partial component matrix orthogonal.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/partial_inverse_projection.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Partial Inverse Projection of a Columnwise Subset of Component Matrix ‚Äî partial_inverse_projection","text":"","code":"partial_inverse_projection(x, colind, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/partial_inverse_projection.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Partial Inverse Projection of a Columnwise Subset of Component Matrix ‚Äî partial_inverse_projection","text":"x fitted model object, projector, fit dataset. colind numeric vector specifying column indices component matrix consider partial inverse projection. ... Additional arguments passed specific model implementation partial_inverse_projection.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/partial_inverse_projection.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Partial Inverse Projection of a Columnwise Subset of Component Matrix ‚Äî partial_inverse_projection","text":"matrix representing partial inverse projection.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/partial_inverse_projection.regress.html","id":null,"dir":"Reference","previous_headings":"","what":"Partial Inverse Projection for a regress Object ‚Äî partial_inverse_projection.regress","title":"Partial Inverse Projection for a regress Object ‚Äî partial_inverse_projection.regress","text":"function computes sub-block inversion regression coefficients, allowing focus certain columns (e.g. partial factors). coefficient matrix orthonormal square, use pseudoinverse approach (via corpcor::pseudoinverse) find minimal-norm solution.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/partial_inverse_projection.regress.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Partial Inverse Projection for a regress Object ‚Äî partial_inverse_projection.regress","text":"","code":"# S3 method for class 'regress' partial_inverse_projection(x, colind, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/partial_inverse_projection.regress.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Partial Inverse Projection for a regress Object ‚Äî partial_inverse_projection.regress","text":"x regress object (created regress). colind numeric vector specifying columns factor space (.e., second dimension x$coefficients) want invert. Typically refer subset canonical / PCA / PLS components. ... arguments passed used methods (used ).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/partial_inverse_projection.regress.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Partial Inverse Projection for a regress Object ‚Äî partial_inverse_projection.regress","text":"matrix shape (length(colind) x nrow(x$coefficients)). multiplied partial factor scores (n x length(colind)), yields (n x nrow(x$coefficients)) reconstruction original domain.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/partial_project.composed_partial_projector.html","id":null,"dir":"Reference","previous_headings":"","what":"Partial Project Through a Composed Partial Projector ‚Äî partial_project.composed_partial_projector","title":"Partial Project Through a Composed Partial Projector ‚Äî partial_project.composed_partial_projector","text":"Applies partial_project() projector composition. colind single vector, applies first projector . Subsequent projectors apply full columns. colind list, element specifies colind corresponding projector chain.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/partial_project.composed_partial_projector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Partial Project Through a Composed Partial Projector ‚Äî partial_project.composed_partial_projector","text":"","code":"# S3 method for class 'composed_partial_projector' partial_project(x, new_data, colind = NULL, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/partial_project.composed_partial_projector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Partial Project Through a Composed Partial Projector ‚Äî partial_project.composed_partial_projector","text":"x composed_partial_projector object. new_data input data matrix vector. colind numeric vector list numeric vectors/NULLs. single vector, applies first projector . list, length ideally match number projectors. colind[[]] specifies column indices (relative input stage ) use partial projection stage . NULL entry means use full projection stage. list shorter number stages, NULL (full projection) assumed remaining stages. single numeric vector provided, treated list(colind, NULL, NULL, ...) backward compatibility (partial first stage). ... Additional arguments passed partial_project() project() methods.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/partial_project.composed_partial_projector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Partial Project Through a Composed Partial Projector ‚Äî partial_project.composed_partial_projector","text":"partially projected data projectors applied.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/partial_project.cross_projector.html","id":null,"dir":"Reference","previous_headings":"","what":"Partially project data for a cross_projector ‚Äî partial_project.cross_projector","title":"Partially project data for a cross_projector ‚Äî partial_project.cross_projector","text":"Projects new data either X Y domain onto latent subspace, considering specified subset original features (colind).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/partial_project.cross_projector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Partially project data for a cross_projector ‚Äî partial_project.cross_projector","text":"","code":"# S3 method for class 'cross_projector' partial_project(   x,   new_data,   colind,   least_squares = TRUE,   lambda = 1e-06,   source = c(\"X\", \"Y\"),   ... )"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/partial_project.cross_projector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Partially project data for a cross_projector ‚Äî partial_project.cross_projector","text":"x cross_projector object. new_data numeric matrix (n x length(colind)) vector, representing observations corresponding columns specified colind. colind numeric vector column indices original data space (either X Y domain, specified source) correspond new_data's columns. least_squares Logical; TRUE (default), use ridge-regularized least squares projection. lambda Numeric; ridge penalty (default 1e-6). Ignored least_squares=FALSE. source Character, either \"X\" \"Y\", indicating domain new_data colind belong . ... Additional arguments (currently ignored).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/partial_project.cross_projector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Partially project data for a cross_projector ‚Äî partial_project.cross_projector","text":"numeric matrix (n x d) factor scores latent subspace.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/partial_project.html","id":null,"dir":"Reference","previous_headings":"","what":"Partially project a new sample onto subspace ‚Äî partial_project","title":"Partially project a new sample onto subspace ‚Äî partial_project","text":"Project selected subset column indices (colind) new_data onto subspace defined model x. Optionally ridge-regularized least-squares solve columns non-orthonormal.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/partial_project.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Partially project a new sample onto subspace ‚Äî partial_project","text":"","code":"partial_project(x, new_data, colind, least_squares = TRUE, lambda = 1e-06, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/partial_project.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Partially project a new sample onto subspace ‚Äî partial_project","text":"x fitted model, e.g. bi_projector, partial_project method. new_data numeric matrix (n x length(colind)) vector, representing observations projected. colind numeric vector column indices original data space correspond new_data's columns. least_squares Logical; TRUE (default), ridge-regularized solve. lambda Numeric; ridge penalty (default 1e-6). Ignored least_squares=FALSE. ... Additional arguments passed class-specific partial_project methods.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/partial_project.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Partially project a new sample onto subspace ‚Äî partial_project","text":"numeric matrix (n x d) factor scores model's subspace, columns .","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/partial_projector.html","id":null,"dir":"Reference","previous_headings":"","what":"Construct a partial projector ‚Äî partial_projector","title":"Construct a partial projector ‚Äî partial_projector","text":"Create new projector instance restricted subset input columns. function allows generation new projection object focuses specified columns, enabling projection data using limited set variables.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/partial_projector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Construct a partial projector ‚Äî partial_projector","text":"","code":"partial_projector(x, colind, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/partial_projector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Construct a partial projector ‚Äî partial_projector","text":"x original projector instance, typically object class bi_projector class implements partial_projector method colind numeric vector column indices select projection matrix. indices correspond variables used partial projector ... Additional arguments passed underlying partial_projector method","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/partial_projector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Construct a partial projector ‚Äî partial_projector","text":"new projector instance, class original object, restricted specified subset input columns","code":""},{"path":[]},{"path":"https://bbuchsbaum.github.io/multivarious/reference/partial_projector.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Construct a partial projector ‚Äî partial_projector","text":"","code":"# Example with the bi_projector class X <- matrix(rnorm(10*20), 10, 20) svdfit <- svd(X) p <- bi_projector(svdfit$v, s = svdfit$u %*% diag(svdfit$d), sdev=svdfit$d)  # Create a partial projector using only the first 10 variables colind <- 1:10 partial_p <- partial_projector(p, colind)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/pass.html","id":null,"dir":"Reference","previous_headings":"","what":"a no-op pre-processing step ‚Äî pass","title":"a no-op pre-processing step ‚Äî pass","text":"pass simply passes data chain","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/pass.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"a no-op pre-processing step ‚Äî pass","text":"","code":"pass(preproc = prepper())"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/pass.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"a no-op pre-processing step ‚Äî pass","text":"preproc pre-processing pipeline","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/pass.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"a no-op pre-processing step ‚Äî pass","text":"prepper list","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/pca.html","id":null,"dir":"Reference","previous_headings":"","what":"Principal Components Analysis (PCA) ‚Äî pca","title":"Principal Components Analysis (PCA) ‚Äî pca","text":"Compute directions maximal variance data matrix using Singular Value Decomposition (SVD).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/pca.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Principal Components Analysis (PCA) ‚Äî pca","text":"","code":"pca(   X,   ncomp = min(dim(X)),   preproc = center(),   method = c(\"fast\", \"base\", \"irlba\", \"propack\", \"rsvd\", \"svds\"),   ... )"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/pca.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Principal Components Analysis (PCA) ‚Äî pca","text":"X data matrix. ncomp number requested components estimate (default minimum dimension data matrix). preproc pre-processing function apply data matrix (default centering). method SVD method use, passed svd_wrapper (default \"fast\"). ... Extra arguments send svd_wrapper.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/pca.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Principal Components Analysis (PCA) ‚Äî pca","text":"bi_projector object containing PCA results.","code":""},{"path":[]},{"path":"https://bbuchsbaum.github.io/multivarious/reference/pca.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Principal Components Analysis (PCA) ‚Äî pca","text":"","code":"data(iris) X <- as.matrix(iris[, 1:4]) res <- pca(X, ncomp = 4) tres <- truncate(res, 3)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/pca_outliers.html","id":null,"dir":"Reference","previous_headings":"","what":"PCA Outlier Diagnostics ‚Äî pca_outliers","title":"PCA Outlier Diagnostics ‚Äî pca_outliers","text":"Calculates Hotelling T^2 (score distance) Q-residual (orthogonal distance) observation, given chosen number components.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/pca_outliers.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"PCA Outlier Diagnostics ‚Äî pca_outliers","text":"","code":"pca_outliers(x, X, ncomp, cutoff = FALSE)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/pca_outliers.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"PCA Outlier Diagnostics ‚Äî pca_outliers","text":"x pca object. X original data matrix used PCA. ncomp Number components consider. cutoff Logical numeric specifying threshold labeling outliers. TRUE, uses typical statistical threshold (F-dist) T^2, sets arbitrary Q limit. numeric, treat cutoff. Default FALSE (labeling).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/pca_outliers.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"PCA Outlier Diagnostics ‚Äî pca_outliers","text":"data frame columns T2 Q, optionally outlier flag.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/perm_ci.html","id":null,"dir":"Reference","previous_headings":"","what":"Permutation Confidence Intervals ‚Äî perm_ci","title":"Permutation Confidence Intervals ‚Äî perm_ci","text":"Estimate confidence intervals model parameters using permutation testing.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/perm_ci.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Permutation Confidence Intervals ‚Äî perm_ci","text":"","code":"perm_ci(x, X, nperm, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/perm_ci.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Permutation Confidence Intervals ‚Äî perm_ci","text":"x model fit object. X original data matrix used fit model. nperm number permutations perform confidence interval estimation. ... Additional arguments passed specific model implementation perm_ci.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/perm_ci.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Permutation Confidence Intervals ‚Äî perm_ci","text":"list containing estimated lower upper bounds confidence intervals model parameters.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/perm_test.html","id":null,"dir":"Reference","previous_headings":"","what":"Generic Permutation-Based Test ‚Äî perm_test","title":"Generic Permutation-Based Test ‚Äî perm_test","text":"generic function implements permutation-based test assess significance components statistics fitted model. actual procedure depends method defined specific model class. Typical usage:","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/perm_test.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generic Permutation-Based Test ‚Äî perm_test","text":"x fitted model object (e.g. pca, cross_projector, discriminant_projector, multiblock_biprojector). ... Additional arguments passed shuffle_fun measure_fun (applicable). Note: multiblock methods, Xlist, comps, alpha, use_rspectra (biprojector) handled direct named arguments, via .... X (Used pca, cross_projector, discriminant_projector) original primary data matrix used fit x. Ignored multiblock_biprojector method. Y (Used cross_projector) secondary data block (n x pY). Ignored methods. Xlist (Used multiblock_biprojector [optional, default NULL] multiblock_projector [required]) List data blocks. nperm Integer number permutations (Default: 1000 PCA, 500 multiblock methods, 100 otherwise). measure_fun (Optional; Used pca, cross_projector, discriminant_projector, multiblock_projector) function computing statistic(s) interest. Ignored multiblock_biprojector. Signature/default varies method (see Details). shuffle_fun (Optional; Used methods) function permuting data appropriately. Signature/default varies method (see Details). fit_fun (Optional; Used cross_projector, discriminant_projector) function re-fitting new model. Ignored PCA multiblock methods. Signature/default varies method (see Details). stepwise (Used pca) Logical indicating sequential testing (P3 projection) performed. Default TRUE. (multiblock methods also perform sequential testing based alpha comps, argument ignored). Ignored methods. parallel (Used methods) Logical; TRUE, attempt parallel execution via future.apply::future_lapply. alternative (Used methods) Character string alternative hypothesis: \"greater\" (default), \"less\", \"two.sided\". alpha (Used pca, multiblock_biprojector, multiblock_projector) Significance level sequential stopping rule (default 0.05). Passed directly named argument methods. comps (Used pca, multiblock_biprojector, multiblock_projector) Maximum number components test sequentially (default 4). Passed directly named argument methods. use_svd_solver (Used pca) Optional string specifying SVD solver (default \"fast\"). use_rspectra (Used multiblock_biprojector) Logical indicating whether use RSpectra eigenvalue calculation (default TRUE). Passed directly named argument. predict_method (Used discriminant_projector) Prediction method (\"lda\" \"euclid\") used default measure function (default \"lda\").","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/perm_test.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generic Permutation-Based Test ‚Äî perm_test","text":"structure return value depends method: cross_projector discriminant_projector: Returns object class perm_test, list containing: statistic, perm_values, p.value, alternative, method, nperm, call. pca, multiblock_biprojector, multiblock_projector: Returns object inheriting perm_test (classes perm_test_pca, perm_test_multiblock, perm_test respectively multiblock_projector), list containing: component_results (data frame observed stat, pval, CIs per component), perm_values (matrix permuted stats), alpha (applicable), alternative, method, nperm (vector successful permutations per component), call.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/perm_test.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generic Permutation-Based Test ‚Äî perm_test","text":"Shuffle permute data way breaks structure interest (e.g., shuffle labels supervised methods, shuffle columns/rows unsupervised). Re-fit re-project model permuted data. Depending class, can done via fit_fun class-specific approach. Measure statistic interest (e.g., variance explained, classification accuracy, canonical correlation). Compare distribution permuted statistics observed statistic compute empirical p-value. S3 methods define specific defaults required signatures functions involved shuffling, fitting, measuring. function provides framework permutation testing various multivariate models. specific implementation details, default functions, relevant arguments vary method. PCA Method (perm_test.pca): Relevant arguments: X, nperm, measure_fun, shuffle_fun, stepwise, parallel, alternative, alpha, comps, use_svd_solver, .... Assesses significance variance explained PC (Vitale et al., 2017). Default statistic: F_a. Default shuffle: column-wise. Default uses P3 projection sequential stopping alpha. Cross Projector Method (perm_test.cross_projector): Relevant arguments: X, Y, nperm, measure_fun, shuffle_fun, fit_fun, parallel, alternative, .... Tests X-Y relationship. Default statistic: x2y.mse. Default shuffle: rows Y. Default fit: stats::cancor. Discriminant Projector Method (perm_test.discriminant_projector): Relevant arguments: X, nperm, measure_fun, shuffle_fun, fit_fun, predict_method, parallel, alternative, .... Tests class separation. Default statistic: prediction accuracy. Default shuffle: labels. Default fit: MASS::lda. Multiblock Bi-Projector Method (perm_test.multiblock_biprojector): Relevant arguments: Xlist (optional), nperm, shuffle_fun, parallel, alternative, alpha, comps, use_rspectra, .... Tests consensus using fixed internal statistic (eigenvalue) scores component. statistic leading eigenvalue covariance matrix block scores given component (T^T, T columns scores block b component k). default, shuffles rows within block independently (either Xlist provided via ..., using internally stored scores). performs sequential testing components specified comps using stopping rule defined alpha (passed via ...). Multiblock Projector Method (perm_test.multiblock_projector): Relevant arguments: Xlist (required), nperm, measure_fun, shuffle_fun, parallel, alternative, alpha, comps, .... Tests consensus using measure_fun (default: mean abs corr) scores projected Xlist using original model x. refit.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/perm_test.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Generic Permutation-Based Test ‚Äî perm_test","text":"Buja, ., & Eyuboglu, N. (1992). Remarks parallel analysis. Multivariate Behavioral Research, 27(4), 509-540. (Relevant PCA permutation concepts) Vitale, R., Westerhuis, J. ., N√¶s, T., Smilde, . K., de Noord, O. E., & Ferrer, . (2017). Selecting number factors principal component analysis permutation testing‚Äî Numerical practical aspects. Journal Chemometrics, 31(10), e2937. doi:10.1002/cem.2937  (Specific perm_test.pca)","code":""},{"path":[]},{"path":"https://bbuchsbaum.github.io/multivarious/reference/perm_test.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generic Permutation-Based Test ‚Äî perm_test","text":"","code":"# PCA Example data(iris) X_iris <- as.matrix(iris[,1:4]) mod_pca <- pca(X_iris, ncomp=4, preproc=center()) # Ensure centering  # Test first 3 components sequentially (faster with more nperm) # Ensure a future plan is set for parallel=TRUE, e.g., future::plan(\"multisession\") res_pca <- perm_test(mod_pca, X_iris, nperm=50, comps=3, parallel=FALSE) #> Pre-calculating reconstructions for stepwise testing... #> Running 50 permutations sequentially for up to 3 PCA components (alpha=0.050, serial)... #>   Testing Component 1/3... #>   Testing Component 2/3... #>   Testing Component 3/3... #>   Component 3 p-value (0.05882) > alpha (0.050). Stopping sequential testing. print(res_pca) #>  #> PCA Permutation Test Results #>  #> Method:  Permutation test for PCA (Vitale et al. 2017 P3) (statistic: F_a (Fraction of Remaining Variance), stepwise: TRUE, shuffle: column-wise)  #> Alternative:  greater  #>  #> Component Results: #>   comp  observed       pval  lower_ci  upper_ci #> 1    1 0.9246187 0.01960784 0.6817051 0.6895225 #> 2    2 0.7039743 0.01960784 0.6045818 0.6920858 #> 3    3 0.7664247 0.05882353 0.6674626 0.7726917 #>  #> Number of successful permutations per component: 50, 50, 50   # PCA Example with row shuffling (tests different null hypothesis) row_shuffle <- function(dat, ...) dat[sample(nrow(dat)), ] res_pca_row <- perm_test(mod_pca, X_iris, nperm=50, comps=3,                          shuffle_fun=row_shuffle, parallel=FALSE) #> Pre-calculating reconstructions for stepwise testing... #> Running 50 permutations sequentially for up to 3 PCA components (alpha=0.050, serial)... #>   Testing Component 1/3... #>   Component 1 p-value (0.4314) > alpha (0.050). Stopping sequential testing. print(res_pca_row) #>  #> PCA Permutation Test Results #>  #> Method:  Permutation test for PCA (Vitale et al. 2017 P3) (statistic: F_a (Fraction of Remaining Variance), stepwise: TRUE, shuffle: custom)  #> Alternative:  greater  #>  #> Component Results: #>   comp  observed      pval  lower_ci  upper_ci #> 1    1 0.9246187 0.4313725 0.9246187 0.9246187 #>  #> Number of successful permutations per component: 50   if (FALSE) { # \\dontrun{ # Cross Projector Example (using cancor) X <- as.matrix(iris[,1:2]) Y <- as.matrix(iris[,3:4]) ccr <- cancor(X, Y) mod_cp <- cross_projector(ccr$xcoef, ccr$ycoef)  # Perm test (is x2y.mse lower than chance?) res_cp <- perm_test(mod_cp, X, Y=Y, nperm=50, alternative=\"less\") print(res_cp)  # Discriminant Projector Example (using LDA) library(MASS) lda_fit <- lda(X_iris, grouping=iris$Species) mod_dp <- discriminant_projector(   v = lda_fit$scaling,   s = X_iris %*% lda_fit$scaling,   sdev = lda_fit$svd,   labels = iris$Species,   preproc = prep(center()), # Assuming center() was intended for LDA   Sigma = lda_fit$covariance # Needed for LDA prediction method )  # Perm test (is accuracy higher than chance?) res_dp <- perm_test(mod_dp, X_iris, nperm=50, alternative=\"greater\") print(res_dp)  # Multiblock Bi-Projector Example # (Requires a multiblock model 'mod_mb' from e.g. MFA or ComDim) # Assuming 'mod_mb' exists and has 2 blocks: # res_mb <- perm_test(mod_mb, nperm=50, comps=3)  # print(res_mb) # Example using provided Xlist (list of matrices X1, X2): # X1 <- matrix(rnorm(50*10), 50, 10) # X2 <- matrix(rnorm(50*15), 50, 15) # Assume mod_mb was fit on cbind(X1, X2) with block_indices=list(1:10, 11:25) # res_mb_xlist <- perm_test(mod_mb, Xlist=list(X1, X2), nperm=50, comps=3) # print(res_mb_xlist) } # }"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/predict.classifier.html","id":null,"dir":"Reference","previous_headings":"","what":"Predict Class Labels using a Classifier Object ‚Äî predict.classifier","title":"Predict Class Labels using a Classifier Object ‚Äî predict.classifier","text":"Predicts class labels probabilities new data using fitted classifier object. performs k-Nearest Neighbors (k-NN) classification projected component space.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/predict.classifier.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Predict Class Labels using a Classifier Object ‚Äî predict.classifier","text":"","code":"# S3 method for class 'classifier' predict(   object,   new_data,   ncomp = NULL,   colind = NULL,   metric = c(\"euclidean\", \"cosine\", \"ejaccard\"),   normalize_probs = FALSE,   prob_type = c(\"knn_proportion\", \"avg_similarity\"),   ... )"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/predict.classifier.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Predict Class Labels using a Classifier Object ‚Äî predict.classifier","text":"object fitted object class classifier. new_data numeric matrix vector new observations classify. Rows observations, columns variables matching original data space used projector matching colind provided. ncomp Optional integer; number components use projector classification (default: components used classifier creation). colind Optional numeric vector specifying column indices original data space. provided, new_data projected using features (partial_project). overrides colind stored default object. resulting projection compared reference scores (object$scores) stored classifier. metric Character string specifying similarity distance metric k-NN. Choices: \"euclidean\", \"cosine\", \"ejaccard\". normalize_probs Logical; DEPRECATED Normalization behavior now implicit prob_type=\"avg_similarity\". prob_type Character string; method calculating probabilities: \"knn_proportion\" (default): Calculates proportion class among k nearest neighbors. \"avg_similarity\": Calculates average similarity training points per class (uses avg_probs helper). ... Extra arguments passed projection methods (project, partial_project) potentially distance/similarity calculations (e.g., proxy::simil used ejaccard).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/predict.classifier.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Predict Class Labels using a Classifier Object ‚Äî predict.classifier","text":"list containing: class factor vector predicted class labels new_data. prob numeric matrix (rows corresponding new_data, columns classes) estimated class probabilities.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/predict.classifier.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Predict Class Labels using a Classifier Object ‚Äî predict.classifier","text":"function first projects new_data component space defined classifier's internal projector. colind specified, partial projection using features performed. projection compared reference scores stored within classifier object (object$scores) using specified metric. k-NN algorithm identifies k nearest reference samples (based similarity distance) predicts class via majority vote. Probabilities estimated based average similarity/distance class among neighbors reference points.","code":""},{"path":[]},{"path":"https://bbuchsbaum.github.io/multivarious/reference/predict.classifier.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Predict Class Labels using a Classifier Object ‚Äî predict.classifier","text":"","code":"# Assume clf is a fitted classifier object (e.g., from classifier.projector) # Assume new_dat is a matrix of new observations # preds <- predict(clf, new_data = new_dat, metric = \"cosine\") # print(preds$class) # print(preds$prob)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/predict.discriminant_projector.html","id":null,"dir":"Reference","previous_headings":"","what":"Predict method for a discriminant_projector, supporting LDA or Euclid ‚Äî predict.discriminant_projector","title":"Predict method for a discriminant_projector, supporting LDA or Euclid ‚Äî predict.discriminant_projector","text":"produces class predictions posterior-like scores new data. first project data subspace defined x$v, either: LDA approach (method=\"lda\"), uses (simplified) linear discriminant formula distance class means subspace combined prior probabilities. Euclid approach (method=\"euclid\"), uses plain Euclidean distance class mean subspace. return either type=\"class\" label type=\"prob\" posterior-like matrix.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/predict.discriminant_projector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Predict method for a discriminant_projector, supporting LDA or Euclid ‚Äî predict.discriminant_projector","text":"","code":"# S3 method for class 'discriminant_projector' predict(   object,   new_data,   method = c(\"lda\", \"euclid\"),   type = c(\"class\", \"prob\"),   colind = NULL,   ... )"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/predict.discriminant_projector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Predict method for a discriminant_projector, supporting LDA or Euclid ‚Äî predict.discriminant_projector","text":"object discriminant_projector object. new_data numeric matrix (vector) # columns original data (unless partial usage). Rows=observations, columns=features. method Either \"lda\" (default) \"euclid\" (nearest-mean). type \"class\" (default) predicted class labels, \"prob\" posterior-like probabilities. colind (optional) partial columns used, specify columns map subspace. NULL, assume full columns. ... arguments (used future expansions).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/predict.discriminant_projector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Predict method for a discriminant_projector, supporting LDA or Euclid ‚Äî predict.discriminant_projector","text":"type=\"class\", factor vector length n (predicted classes). type=\"prob\", (n x #classes) numeric matrix posterior-like values, row names matching new_data available. Predict method discriminant_projector produces class predictions posterior-like scores new data, based : LDA approach (method=\"lda\"), uses linear discriminant formula pooled covariance matrix x\\$Sigma given, identity matrix Sigma=NULL. covariance matrix invertible, pseudo-inverse used warning emitted. Euclid approach (method=\"euclid\"), uses plain Euclidean distance class mean subspace. return either type=\"class\" label type=\"prob\" posterior-like matrix. type=\"class\", factor vector length n (predicted classes). type=\"prob\", (n x #classes) numeric matrix posterior-like values.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/predict.rf_classifier.html","id":null,"dir":"Reference","previous_headings":"","what":"Predict Class Labels using a Random Forest Classifier Object ‚Äî predict.rf_classifier","title":"Predict Class Labels using a Random Forest Classifier Object ‚Äî predict.rf_classifier","text":"Predicts class labels probabilities new data using fitted rf_classifier object. method projects new_data component space uses stored randomForest model predict outcomes.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/predict.rf_classifier.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Predict Class Labels using a Random Forest Classifier Object ‚Äî predict.rf_classifier","text":"","code":"# S3 method for class 'rf_classifier' predict(object, new_data, ncomp = NULL, colind = NULL, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/predict.rf_classifier.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Predict Class Labels using a Random Forest Classifier Object ‚Äî predict.rf_classifier","text":"object fitted object class rf_classifier. new_data numeric matrix vector new observations classify. Rows observations, columns variables matching original data space used projector matching colind provided. ncomp Optional integer; number components use projector classification (default: components used classifier creation). colind Optional numeric vector specifying column indices original data space. provided, new_data projected using features (partial_project). overrides colind stored default object. resulting projection compared reference scores (object$scores) stored classifier. ... Extra arguments passed predict.randomForest.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/predict.rf_classifier.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Predict Class Labels using a Random Forest Classifier Object ‚Äî predict.rf_classifier","text":"list containing: class Predicted class labels (typically factor) random forest model. prob numeric matrix predicted class probabilities random forest model.","code":""},{"path":[]},{"path":"https://bbuchsbaum.github.io/multivarious/reference/prep.html","id":null,"dir":"Reference","previous_headings":"","what":"prepare a dataset by applying a pre-processing pipeline ‚Äî prep","title":"prepare a dataset by applying a pre-processing pipeline ‚Äî prep","text":"prepare dataset applying pre-processing pipeline","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/prep.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"prepare a dataset by applying a pre-processing pipeline ‚Äî prep","text":"","code":"prep(x, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/prep.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"prepare a dataset by applying a pre-processing pipeline ‚Äî prep","text":"x pipeline ... extra args","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/prep.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"prepare a dataset by applying a pre-processing pipeline ‚Äî prep","text":"pre-processed data","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/preprocess.html","id":null,"dir":"Reference","previous_headings":"","what":"Convenience function for preprocessing workflow ‚Äî preprocess","title":"Convenience function for preprocessing workflow ‚Äî preprocess","text":"helper function provides simple interface common preprocessing workflow: fit preprocessor data return fitted preprocessor transformed data.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/preprocess.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convenience function for preprocessing workflow ‚Äî preprocess","text":"","code":"preprocess(preproc, X, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/preprocess.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convenience function for preprocessing workflow ‚Äî preprocess","text":"preproc preprocessing object (e.g., created center(), standardize(), etc.) X matrix data frame preprocess ... Additional arguments passed methods","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/preprocess.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convenience function for preprocessing workflow ‚Äî preprocess","text":"list two elements: preproc fitted preprocessing object transformed transformed data matrix","code":""},{"path":[]},{"path":"https://bbuchsbaum.github.io/multivarious/reference/preprocess.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convenience function for preprocessing workflow ‚Äî preprocess","text":"","code":"# Simple preprocessing workflow X <- matrix(rnorm(100), 10, 10) result <- preprocess(center(), X) fitted_preproc <- result$preproc X_centered <- result$transformed  # Equivalent to: # fitted_preproc <- fit(center(), X) # X_centered <- transform(fitted_preproc, X)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/prinang.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Principal Angles Between Subspaces ‚Äî prinang","title":"Calculate Principal Angles Between Subspaces ‚Äî prinang","text":"Computes principal angles two subspaces defined columns two orthonormal matrices Q1 Q2.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/prinang.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Principal Angles Between Subspaces ‚Äî prinang","text":"","code":"prinang(Q1, Q2)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/prinang.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Principal Angles Between Subspaces ‚Äî prinang","text":"Q1 n x p matrix whose columns form orthonormal basis first subspace. Q2 n x q matrix whose columns form orthonormal basis second subspace.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/prinang.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Principal Angles Between Subspaces ‚Äî prinang","text":"numeric vector containing principal angles radians, sorted ascending order. number angles min(p, q).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/prinang.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate Principal Angles Between Subspaces ‚Äî prinang","text":"","code":"# Example: Angle between xy-plane and a plane rotated 45 degrees around x-axis Q1 <- cbind(c(1,0,0), c(0,1,0)) # xy-plane basis theta <- pi/4 R <- matrix(c(1, 0, 0, 0, cos(theta), sin(theta), 0, -sin(theta), cos(theta)), 3, 3) Q2 <- R %*% Q1 # Rotated basis angles_rad <- prinang(Q1, Q2) angles_deg <- angles_rad * 180 / pi print(angles_deg) # Should be approximately 0 and 45 degrees #> [1]  0 45  # Example with PCA loadings (after ensuring orthonormality if needed) # Assuming pca1$v and pca2$v are loading matrices (variables x components) # Orthonormalize them first if they are not already (e.g., from standard SVD) # Q1 <- qr.Q(qr(pca1$v[, 1:3])) # Q2 <- qr.Q(qr(pca2$v[, 1:3])) # prinang(Q1, Q2)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/principal_angles.html","id":null,"dir":"Reference","previous_headings":"","what":"Principal angles (two sub‚Äëspaces) ‚Äî principal_angles","title":"Principal angles (two sub‚Äëspaces) ‚Äî principal_angles","text":"Principal angles (two sub‚Äëspaces)","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/principal_angles.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Principal angles (two sub‚Äëspaces) ‚Äî principal_angles","text":"","code":"principal_angles(fit1, fit2, k = NULL)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/principal_angles.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Principal angles (two sub‚Äëspaces) ‚Äî principal_angles","text":"fit1, fit2 bi_projector objects (object $v loadings) k number dimensions compare (default: min(ncomp))","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/principal_angles.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Principal angles (two sub‚Äëspaces) ‚Äî principal_angles","text":"numeric vector principal angles (radians, length = k)","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.bi_projector.html","id":null,"dir":"Reference","previous_headings":"","what":"Pretty Print S3 Method for bi_projector Class ‚Äî print.bi_projector","title":"Pretty Print S3 Method for bi_projector Class ‚Äî print.bi_projector","text":"Pretty Print S3 Method bi_projector Class","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.bi_projector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pretty Print S3 Method for bi_projector Class ‚Äî print.bi_projector","text":"","code":"# S3 method for class 'bi_projector' print(x, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.bi_projector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pretty Print S3 Method for bi_projector Class ‚Äî print.bi_projector","text":"x bi_projector object ... Additional arguments passed print function","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.bi_projector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pretty Print S3 Method for bi_projector Class ‚Äî print.bi_projector","text":"Invisible bi_projector object","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.bootstrap_pca_result.html","id":null,"dir":"Reference","previous_headings":"","what":"Print method for bootstrap_pca_result ‚Äî print.bootstrap_pca_result","title":"Print method for bootstrap_pca_result ‚Äî print.bootstrap_pca_result","text":"Print method bootstrap_pca_result","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.bootstrap_pca_result.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print method for bootstrap_pca_result ‚Äî print.bootstrap_pca_result","text":"","code":"# S3 method for class 'bootstrap_pca_result' print(x, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.bootstrap_pca_result.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print method for bootstrap_pca_result ‚Äî print.bootstrap_pca_result","text":"x object class bootstrap_pca_result. ... Additional arguments passed print.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.classifier.html","id":null,"dir":"Reference","previous_headings":"","what":"Pretty Print Method for classifier Objects ‚Äî print.classifier","title":"Pretty Print Method for classifier Objects ‚Äî print.classifier","text":"Display human-readable summary classifier object.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.classifier.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pretty Print Method for classifier Objects ‚Äî print.classifier","text":"","code":"# S3 method for class 'classifier' print(x, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.classifier.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pretty Print Method for classifier Objects ‚Äî print.classifier","text":"x classifier object. ... Additional arguments.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.classifier.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pretty Print Method for classifier Objects ‚Äî print.classifier","text":"classifier object.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.classifier.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Pretty Print Method for classifier Objects ‚Äî print.classifier","text":"","code":"# Assume clf is a fitted classifier object # print(clf)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.concat_pre_processor.html","id":null,"dir":"Reference","previous_headings":"","what":"Print a concat_pre_processor object ‚Äî print.concat_pre_processor","title":"Print a concat_pre_processor object ‚Äî print.concat_pre_processor","text":"Print concat_pre_processor object","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.concat_pre_processor.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print a concat_pre_processor object ‚Äî print.concat_pre_processor","text":"","code":"# S3 method for class 'concat_pre_processor' print(x, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.concat_pre_processor.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print a concat_pre_processor object ‚Äî print.concat_pre_processor","text":"x concat_pre_processor object. ... Additional arguments (ignored).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.multiblock_biprojector.html","id":null,"dir":"Reference","previous_headings":"","what":"Pretty Print Method for multiblock_biprojector Objects ‚Äî print.multiblock_biprojector","title":"Pretty Print Method for multiblock_biprojector Objects ‚Äî print.multiblock_biprojector","text":"Display summary multiblock_biprojector object.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.multiblock_biprojector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pretty Print Method for multiblock_biprojector Objects ‚Äî print.multiblock_biprojector","text":"","code":"# S3 method for class 'multiblock_biprojector' print(x, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.multiblock_biprojector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pretty Print Method for multiblock_biprojector Objects ‚Äî print.multiblock_biprojector","text":"x multiblock_biprojector object. ... Additional arguments passed print().","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.multiblock_biprojector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pretty Print Method for multiblock_biprojector Objects ‚Äî print.multiblock_biprojector","text":"Invisible multiblock_biprojector object.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.pca.html","id":null,"dir":"Reference","previous_headings":"","what":"Print Method for PCA Objects ‚Äî print.pca","title":"Print Method for PCA Objects ‚Äî print.pca","text":"Provide color-enhanced summary PCA object, including dimensions, variance explained, quick component breakdown.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.pca.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print Method for PCA Objects ‚Äî print.pca","text":"","code":"# S3 method for class 'pca' print(x, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.pca.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print Method for PCA Objects ‚Äî print.pca","text":"x pca object. ... Ignored (compatibility).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.perm_test.html","id":null,"dir":"Reference","previous_headings":"","what":"Print Method for perm_test Objects ‚Äî print.perm_test","title":"Print Method for perm_test Objects ‚Äî print.perm_test","text":"Provides concise summary permutation test results.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.perm_test.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print Method for perm_test Objects ‚Äî print.perm_test","text":"","code":"# S3 method for class 'perm_test' print(x, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.perm_test.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print Method for perm_test Objects ‚Äî print.perm_test","text":"x object class perm_test. ... Additional arguments passed printing methods.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.perm_test.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print Method for perm_test Objects ‚Äî print.perm_test","text":"Invisibly returns input object x.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.perm_test_pca.html","id":null,"dir":"Reference","previous_headings":"","what":"Print Method for perm_test_pca Objects ‚Äî print.perm_test_pca","title":"Print Method for perm_test_pca Objects ‚Äî print.perm_test_pca","text":"Provides concise summary PCA permutation test results.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.perm_test_pca.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print Method for perm_test_pca Objects ‚Äî print.perm_test_pca","text":"","code":"# S3 method for class 'perm_test_pca' print(x, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.perm_test_pca.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print Method for perm_test_pca Objects ‚Äî print.perm_test_pca","text":"x object class perm_test_pca. ... Additional arguments passed printing methods.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.perm_test_pca.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print Method for perm_test_pca Objects ‚Äî print.perm_test_pca","text":"Invisibly returns input object x.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.pre_processor.html","id":null,"dir":"Reference","previous_headings":"","what":"Print a pre_processor object ‚Äî print.pre_processor","title":"Print a pre_processor object ‚Äî print.pre_processor","text":"Display information pre_processor using crayon-based formatting.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.pre_processor.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print a pre_processor object ‚Äî print.pre_processor","text":"","code":"# S3 method for class 'pre_processor' print(x, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.pre_processor.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print a pre_processor object ‚Äî print.pre_processor","text":"x pre_processor object. ... Additional arguments (ignored).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.prepper.html","id":null,"dir":"Reference","previous_headings":"","what":"Print a prepper pipeline ‚Äî print.prepper","title":"Print a prepper pipeline ‚Äî print.prepper","text":"Uses crayon produce colorful readable representation pipeline steps.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.prepper.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print a prepper pipeline ‚Äî print.prepper","text":"","code":"# S3 method for class 'prepper' print(x, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.prepper.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print a prepper pipeline ‚Äî print.prepper","text":"x prepper object. ... Additional arguments (ignored).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.regress.html","id":null,"dir":"Reference","previous_headings":"","what":"Pretty Print Method for regress Objects ‚Äî print.regress","title":"Pretty Print Method for regress Objects ‚Äî print.regress","text":"Display human-readable summary regress object using crayon formatting, including information method dimensions.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.regress.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pretty Print Method for regress Objects ‚Äî print.regress","text":"","code":"# S3 method for class 'regress' print(x, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.regress.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pretty Print Method for regress Objects ‚Äî print.regress","text":"x regress object (bi_projector regression info). ... Additional arguments passed print().","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.rf_classifier.html","id":null,"dir":"Reference","previous_headings":"","what":"Pretty Print Method for rf_classifier Objects ‚Äî print.rf_classifier","title":"Pretty Print Method for rf_classifier Objects ‚Äî print.rf_classifier","text":"Display human-readable summary rf_classifier object.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.rf_classifier.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pretty Print Method for rf_classifier Objects ‚Äî print.rf_classifier","text":"","code":"# S3 method for class 'rf_classifier' print(x, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.rf_classifier.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pretty Print Method for rf_classifier Objects ‚Äî print.rf_classifier","text":"x rf_classifier object. ... Additional arguments passed print.randomForest.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.rf_classifier.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pretty Print Method for rf_classifier Objects ‚Äî print.rf_classifier","text":"rf_classifier object.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/print.rf_classifier.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Pretty Print Method for rf_classifier Objects ‚Äî print.rf_classifier","text":"","code":"# Assume rf_clf is a fitted rf_classifier object # print(rf_clf)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/project.cross_projector.html","id":null,"dir":"Reference","previous_headings":"","what":"project a cross_projector instance ‚Äî project.cross_projector","title":"project a cross_projector instance ‚Äî project.cross_projector","text":"project cross_projector instance","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/project.cross_projector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"project a cross_projector instance ‚Äî project.cross_projector","text":"","code":"# S3 method for class 'cross_projector' project(x, new_data, source = c(\"X\", \"Y\"), ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/project.cross_projector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"project a cross_projector instance ‚Äî project.cross_projector","text":"x model fit, typically object class bi_projector class implements project method new_data matrix vector new observations number columns original data. Rows represent observations columns represent variables source source data (X Y block) ... Extra arguments passed specific project method object's class","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/project.cross_projector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"project a cross_projector instance ‚Äî project.cross_projector","text":"projected data","code":""},{"path":[]},{"path":"https://bbuchsbaum.github.io/multivarious/reference/project.html","id":null,"dir":"Reference","previous_headings":"","what":"New sample projection ‚Äî project","title":"New sample projection ‚Äî project","text":"Project one samples onto subspace. function takes model fit new observations, projects onto subspace defined model. allows transformation new data lower-dimensional space original data.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/project.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"New sample projection ‚Äî project","text":"","code":"project(x, new_data, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/project.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"New sample projection ‚Äî project","text":"x model fit, typically object class bi_projector class implements project method new_data matrix vector new observations number columns original data. Rows represent observations columns represent variables ... Extra arguments passed specific project method object's class","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/project.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"New sample projection ‚Äî project","text":"matrix vector projected observations, rows represent observations columns represent lower-dimensional space","code":""},{"path":[]},{"path":"https://bbuchsbaum.github.io/multivarious/reference/project.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"New sample projection ‚Äî project","text":"","code":"# Example with the bi_projector class X <- matrix(rnorm(10*20), 10, 20) svdfit <- svd(X) p <- bi_projector(svdfit$v, s = svdfit$u %*% diag(svdfit$d), sdev=svdfit$d)  # Project new_data onto the same subspace as the original data new_data <- matrix(rnorm(5*20), 5, 20) projected_data <- project(p, new_data)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/project.nystrom_approx.html","id":null,"dir":"Reference","previous_headings":"","what":"Project new data using a Nystr√∂m approximation model ‚Äî project.nystrom_approx","title":"Project new data using a Nystr√∂m approximation model ‚Äî project.nystrom_approx","text":"Project new data using Nystr√∂m approximation model","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/project.nystrom_approx.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Project new data using a Nystr√∂m approximation model ‚Äî project.nystrom_approx","text":"","code":"# S3 method for class 'nystrom_approx' project(x, new_data, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/project.nystrom_approx.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Project new data using a Nystr√∂m approximation model ‚Äî project.nystrom_approx","text":"x nystrom_approx object (inheriting bi_projector). new_data New data matrix project. ... Additional arguments (currently ignored).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/project.nystrom_approx.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Project new data using a Nystr√∂m approximation model ‚Äî project.nystrom_approx","text":"matrix projected scores.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/project_block.html","id":null,"dir":"Reference","previous_headings":"","what":"Project a single ","title":"Project a single ","text":"observations concatenated \"blocks\", may useful project one block set. function facilitates projection specific block data onto subspace. convenience method multi-block fits equivalent \"partial projection\" column indices associated given block.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/project_block.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Project a single ","text":"","code":"project_block(x, new_data, block, least_squares, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/project_block.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Project a single ","text":"x model fit, typically object class implements project_block method new_data matrix vector new observation(s) number columns original data block integer representing block ID select block projection matrix. ID corresponds specific block data projected least_squares Logical. TRUE use least squares projection. ... Additional arguments passed underlying project_block method","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/project_block.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Project a single ","text":"matrix vector projected data specified block","code":""},{"path":[]},{"path":"https://bbuchsbaum.github.io/multivarious/reference/project_block.multiblock_projector.html","id":null,"dir":"Reference","previous_headings":"","what":"Project Data onto a Specific Block ‚Äî project_block.multiblock_projector","title":"Project Data onto a Specific Block ‚Äî project_block.multiblock_projector","text":"Projects new data onto subspace defined specific block variables.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/project_block.multiblock_projector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Project Data onto a Specific Block ‚Äî project_block.multiblock_projector","text":"","code":"# S3 method for class 'multiblock_projector' project_block(x, new_data, block, least_squares = TRUE, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/project_block.multiblock_projector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Project Data onto a Specific Block ‚Äî project_block.multiblock_projector","text":"x multiblock_projector object. new_data new data projected. block block index (1-based) project onto. least_squares Logical. TRUE (default), use least squares projection. ... Additional arguments passed partial_project.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/project_block.multiblock_projector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Project Data onto a Specific Block ‚Äî project_block.multiblock_projector","text":"projected scores specified block.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/project_vars.html","id":null,"dir":"Reference","previous_headings":"","what":"Project one or more variables onto a subspace ‚Äî project_vars","title":"Project one or more variables onto a subspace ‚Äî project_vars","text":"function projects one variables onto subspace. often called supplementary variable projection can computed biorthogonal decomposition, Singular Value Decomposition (SVD).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/project_vars.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Project one or more variables onto a subspace ‚Äî project_vars","text":"","code":"project_vars(x, new_data, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/project_vars.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Project one or more variables onto a subspace ‚Äî project_vars","text":"x model fit, typically object class implements project_vars method new_data matrix vector new observation(s) number rows original data ... Additional arguments passed underlying project_vars method","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/project_vars.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Project one or more variables onto a subspace ‚Äî project_vars","text":"matrix vector projected variables subspace","code":""},{"path":[]},{"path":"https://bbuchsbaum.github.io/multivarious/reference/projector.html","id":null,"dir":"Reference","previous_headings":"","what":"Construct a projector instance ‚Äî projector","title":"Construct a projector instance ‚Äî projector","text":"projector maps matrix N-dimensional space d-dimensional space, d may less N. projection matrix, v, necessarily orthogonal. function constructs projector instance can used various dimensionality reduction techniques like PCA, LDA, etc.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/projector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Construct a projector instance ‚Äî projector","text":"","code":"projector(v, preproc = prep(pass()), ..., classes = NULL)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/projector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Construct a projector instance ‚Äî projector","text":"v matrix coefficients dimensions nrow(v) ncol(v) (columns = components) preproc prepped pre-processing object (S3 class pre_processor). Default -op pass() preprocessor. ... Extra arguments stored projector object. classes Additional class information used creating subtypes projector. Default NULL.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/projector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Construct a projector instance ‚Äî projector","text":"instance type projector.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/rank_score.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Rank Score for Predictions ‚Äî rank_score","title":"Calculate Rank Score for Predictions ‚Äî rank_score","text":"Computes rank score (normalized rank true class probability) observation. Lower rank scores indicate better predictions (true class higher probability).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/rank_score.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Rank Score for Predictions ‚Äî rank_score","text":"","code":"rank_score(prob, observed)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/rank_score.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Rank Score for Predictions ‚Äî rank_score","text":"prob Numeric matrix predicted probabilities (observations x classes). Column names must correspond class labels. observed Factor vector observed class labels. Must present colnames(prob).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/rank_score.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Rank Score for Predictions ‚Äî rank_score","text":"data.frame columns prank (normalized rank score) observed (input labels).","code":""},{"path":[]},{"path":"https://bbuchsbaum.github.io/multivarious/reference/rank_score.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate Rank Score for Predictions ‚Äî rank_score","text":"","code":"probs <- matrix(c(0.1, 0.9, 0.8, 0.2), 2, 2, byrow=TRUE,                dimnames = list(NULL, c(\"A\", \"B\"))) obs <- factor(c(\"B\", \"A\")) rank_score(probs, obs) #>       prank observed #> 1 0.3333333        B #> 2 0.3333333        A"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/reconstruct.composed_projector.html","id":null,"dir":"Reference","previous_headings":"","what":"Reconstruct Data from Scores using a Composed Projector ‚Äî reconstruct.composed_projector","title":"Reconstruct Data from Scores using a Composed Projector ‚Äî reconstruct.composed_projector","text":"Maps scores final latent space back towards original input space using composed projector's combined inverse projection. Requires scores provided explicitly.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/reconstruct.composed_projector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Reconstruct Data from Scores using a Composed Projector ‚Äî reconstruct.composed_projector","text":"","code":"# S3 method for class 'composed_projector' reconstruct(x, scores, comp = NULL, rowind = NULL, colind = NULL, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/reconstruct.composed_projector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Reconstruct Data from Scores using a Composed Projector ‚Äî reconstruct.composed_projector","text":"x composed_projector object. scores numeric matrix scores (observations x components) final latent space composed projector. comp Numeric vector component indices (columns scores, rows inverse_projection) use reconstruction. Defaults components. rowind Numeric vector row indices (observations scores) reconstruct. Defaults rows. colind Numeric vector original variable indices (columns final reconstructed matrix) return. Defaults original variables. ... Additional arguments (currently unused).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/reconstruct.composed_projector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Reconstruct Data from Scores using a Composed Projector ‚Äî reconstruct.composed_projector","text":"matrix representing reconstructed data, ideally original data space.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/reconstruct.composed_projector.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Reconstruct Data from Scores using a Composed Projector ‚Äî reconstruct.composed_projector","text":"Attempts apply reverse_transform first stage's preprocessor return data original units. first stage preprocessor unavailable invalid, warning issued, data returned (potentially) preprocessed space first stage.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/reconstruct.html","id":null,"dir":"Reference","previous_headings":"","what":"Reconstruct the data ‚Äî reconstruct","title":"Reconstruct the data ‚Äî reconstruct","text":"Reconstruct data set (possibly) low-rank representation. can useful analyzing impact dimensionality reduction visualizing approximations original data.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/reconstruct.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Reconstruct the data ‚Äî reconstruct","text":"","code":"reconstruct(x, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/reconstruct.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Reconstruct the data ‚Äî reconstruct","text":"x model fit, typically object class implements reconstruct method ... Additional arguments passed specific methods. Common parameters include: comp vector component indices use reconstruction rowind row indices reconstruct (optional) colind column indices reconstruct (optional) scores (composed_projector ) numeric matrix scores reconstruct ","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/reconstruct.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Reconstruct the data ‚Äî reconstruct","text":"reconstructed data set based selected components, rows, columns","code":""},{"path":[]},{"path":"https://bbuchsbaum.github.io/multivarious/reference/reconstruct.pca.html","id":null,"dir":"Reference","previous_headings":"","what":"Reconstruct Data from PCA Results ‚Äî reconstruct.pca","title":"Reconstruct Data from PCA Results ‚Äî reconstruct.pca","text":"Reconstructs original (centered) data matrix PCA scores loadings.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/reconstruct.pca.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Reconstruct Data from PCA Results ‚Äî reconstruct.pca","text":"","code":"# S3 method for class 'pca' reconstruct(x, comp = 1:ncomp(x), ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/reconstruct.pca.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Reconstruct Data from PCA Results ‚Äî reconstruct.pca","text":"x pca object. comp Integer vector specifying components use reconstruction (default: components x). ... Extra arguments (ignored).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/reconstruct.pca.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Reconstruct Data from PCA Results ‚Äî reconstruct.pca","text":"matrix representing reconstructed data original scale (preprocessing reversed).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/reconstruct_new.html","id":null,"dir":"Reference","previous_headings":"","what":"Reconstruct new data in a model's subspace ‚Äî reconstruct_new","title":"Reconstruct new data in a model's subspace ‚Äî reconstruct_new","text":"function takes model (e.g., projector bi_projector) new dataset, computes rank-d approximation new data subspace defined model. words, project new data fitted subspace map back original dimensionality.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/reconstruct_new.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Reconstruct new data in a model's subspace ‚Äî reconstruct_new","text":"","code":"reconstruct_new(x, new_data, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/reconstruct_new.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Reconstruct new data in a model's subspace ‚Äî reconstruct_new","text":"x fitted model object (e.g., bi_projector) defines subspace factorization. new_data numeric matrix (data frame) shape (n x p_full) possibly fewer columns allow partial reconstruction. ... Additional arguments passed specific reconstruct_new method class x.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/reconstruct_new.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Reconstruct new data in a model's subspace ‚Äî reconstruct_new","text":"numeric matrix (number rows new_data, typically number columns reconstructing fully) representing rank-d approximation model's subspace.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/reconstruct_new.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Reconstruct new data in a model's subspace ‚Äî reconstruct_new","text":"Similar reconstruct operates external new_data rather original fitted data. Often used see well model's subspace explains unseen data.","code":""},{"path":[]},{"path":"https://bbuchsbaum.github.io/multivarious/reference/refit.html","id":null,"dir":"Reference","previous_headings":"","what":"refit a model ‚Äî refit","title":"refit a model ‚Äî refit","text":"refit model given new data new parameter(s)","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/refit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"refit a model ‚Äî refit","text":"","code":"refit(x, new_data, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/refit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"refit a model ‚Äî refit","text":"x original model fit object new_data new data process ... extra args","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/refit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"refit a model ‚Äî refit","text":"refit model object","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/regress.html","id":null,"dir":"Reference","previous_headings":"","what":"Multi-output linear regression ‚Äî regress","title":"Multi-output linear regression ‚Äî regress","text":"Fit multivariate regression model matrix basis functions, X, response matrix Y. goal find projection matrix can used mapping reconstruction.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/regress.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Multi-output linear regression ‚Äî regress","text":"","code":"regress(   X,   Y,   preproc = pass(),   method = c(\"lm\", \"enet\", \"mridge\", \"pls\"),   intercept = FALSE,   lambda = 0.001,   alpha = 0,   ncomp = ceiling(ncol(X)/2),   ... )"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/regress.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Multi-output linear regression ‚Äî regress","text":"X set independent (basis) variables Y response matrix preproc preprocessing pipeline applied X fitting model method regression method: lm, enet, mridge, pls intercept whether include intercept term lambda ridge shrinkage parameter (methods mridge enet) alpha elastic net mixing parameter method enet ncomp number PLS components method pls ... extra arguments sent underlying fitting function","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/regress.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Multi-output linear regression ‚Äî regress","text":"bi-projector type regress. sdev component object stores standard deviations columns design matrix (X potentially including intercept) used fit, standard deviations latent components might typical bi_projector contexts (e.g., SVD).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/regress.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Multi-output linear regression ‚Äî regress","text":"","code":"# Generate synthetic data set.seed(123) # for reproducibility Y <- matrix(rnorm(10 * 100), 10, 100) X <- matrix(rnorm(10 * 9), 10, 9)  # Fit regression models and reconstruct the fitted response matrix r_lm <- regress(X, Y, intercept = FALSE, method = \"lm\") recon_lm <- reconstruct(r_lm) # Reconstructs fitted Y  r_mridge <- regress(X, Y, intercept = TRUE, method = \"mridge\", lambda = 0.001) recon_mridge <- reconstruct(r_mridge)  r_enet <- regress(X, Y, intercept = TRUE, method = \"enet\", lambda = 0.001, alpha = 0.5) recon_enet <- reconstruct(r_enet)  r_pls <- regress(X, Y, intercept = TRUE, method = \"pls\", ncomp = 5) #> Error in t.default(cf): argument is not a matrix recon_pls <- reconstruct(r_pls) #> Error: object 'r_pls' not found"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/reprocess.cross_projector.html","id":null,"dir":"Reference","previous_headings":"","what":"reprocess a cross_projector instance ‚Äî reprocess.cross_projector","title":"reprocess a cross_projector instance ‚Äî reprocess.cross_projector","text":"reprocess cross_projector instance","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/reprocess.cross_projector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"reprocess a cross_projector instance ‚Äî reprocess.cross_projector","text":"","code":"# S3 method for class 'cross_projector' reprocess(x, new_data, colind = NULL, source = c(\"X\", \"Y\"), ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/reprocess.cross_projector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"reprocess a cross_projector instance ‚Äî reprocess.cross_projector","text":"x model fit object new_data new data process colind column indices new data source source data (X Y block) ... extra args","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/reprocess.cross_projector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"reprocess a cross_projector instance ‚Äî reprocess.cross_projector","text":"re(pre-)processed data","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/reprocess.cross_projector.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"reprocess a cross_projector instance ‚Äî reprocess.cross_projector","text":"colind provided, index validated within available coefficient rows using chk::chk_subset.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/reprocess.html","id":null,"dir":"Reference","previous_headings":"","what":"apply pre-processing parameters to a new data matrix ‚Äî reprocess","title":"apply pre-processing parameters to a new data matrix ‚Äî reprocess","text":"Given new dataset, process way original data processed (e.g. centering, scaling, etc.)","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/reprocess.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"apply pre-processing parameters to a new data matrix ‚Äî reprocess","text":"","code":"reprocess(x, new_data, colind, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/reprocess.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"apply pre-processing parameters to a new data matrix ‚Äî reprocess","text":"x model fit object new_data new data process colind column indices new data ... extra args","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/reprocess.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"apply pre-processing parameters to a new data matrix ‚Äî reprocess","text":"reprocessed data","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/reprocess.nystrom_approx.html","id":null,"dir":"Reference","previous_headings":"","what":"Reprocess data for Nystr√∂m approximation ‚Äî reprocess.nystrom_approx","title":"Reprocess data for Nystr√∂m approximation ‚Äî reprocess.nystrom_approx","text":"Apply preprocessing new data projection using Nystr√∂m approximation. method overrides default reprocess.projector handle fact Nystr√∂m components kernel space (feature space).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/reprocess.nystrom_approx.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Reprocess data for Nystr√∂m approximation ‚Äî reprocess.nystrom_approx","text":"","code":"# S3 method for class 'nystrom_approx' reprocess(x, new_data, colind = NULL, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/reprocess.nystrom_approx.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Reprocess data for Nystr√∂m approximation ‚Äî reprocess.nystrom_approx","text":"x nystrom_approx object new_data matrix number columns original training data colind Optional column indices (typically used Nystr√∂m) ... Additional arguments (ignored)","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/reprocess.nystrom_approx.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Reprocess data for Nystr√∂m approximation ‚Äî reprocess.nystrom_approx","text":"Preprocessed data matrix","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/residualize.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute a regression model for each column in a matrix and return residual matrix ‚Äî residualize","title":"Compute a regression model for each column in a matrix and return residual matrix ‚Äî residualize","text":"Compute regression model column matrix return residual matrix","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/residualize.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute a regression model for each column in a matrix and return residual matrix ‚Äî residualize","text":"","code":"residualize(form, X, design, intercept = FALSE)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/residualize.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute a regression model for each column in a matrix and return residual matrix ‚Äî residualize","text":"form formula defining model fit residuals X response matrix design data.frame containing design variables specified form argument. intercept add intercept term (default FALSE)","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/residualize.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute a regression model for each column in a matrix and return residual matrix ‚Äî residualize","text":"matrix residuals","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/residualize.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute a regression model for each column in a matrix and return residual matrix ‚Äî residualize","text":"","code":"X <- matrix(rnorm(20*10), 20, 10) des <- data.frame(a=rep(letters[1:4], 5), b=factor(rep(1:5, each=4))) xresid <- residualize(~ a+b, X, design=des)  ## design is saturated, residuals should be zero xresid2 <- residualize(~ a*b, X, design=des) sum(xresid2) == 0 #> [1] TRUE"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/residuals.html","id":null,"dir":"Reference","previous_headings":"","what":"Obtain residuals of a component model fit ‚Äî residuals","title":"Obtain residuals of a component model fit ‚Äî residuals","text":"Calculate residuals model removing effect first ncomp components. function useful assess quality fit identify patterns captured model.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/residuals.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Obtain residuals of a component model fit ‚Äî residuals","text":"","code":"residuals(x, ncomp, xorig, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/residuals.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Obtain residuals of a component model fit ‚Äî residuals","text":"x model fit object. ncomp number components factor calculating residuals. xorig original data matrix (X) used fit model. ... Additional arguments passed method.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/residuals.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Obtain residuals of a component model fit ‚Äî residuals","text":"matrix residuals, dimensions original data matrix.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/reverse_transform.html","id":null,"dir":"Reference","previous_headings":"","what":"reverse a pre-processing transform ‚Äî reverse_transform","title":"reverse a pre-processing transform ‚Äî reverse_transform","text":"reverse pre-processing transform","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/reverse_transform.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"reverse a pre-processing transform ‚Äî reverse_transform","text":"","code":"reverse_transform(x, X, colind, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/reverse_transform.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"reverse a pre-processing transform ‚Äî reverse_transform","text":"x pre_processor X data matrix colind column indices ... extra args","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/reverse_transform.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"reverse a pre-processing transform ‚Äî reverse_transform","text":"reverse-transformed data","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/rf_classifier.html","id":null,"dir":"Reference","previous_headings":"","what":"construct a random forest wrapper classifier ‚Äî rf_classifier","title":"construct a random forest wrapper classifier ‚Äî rf_classifier","text":"Given model object (e.g. projector construct random forest classifier can generate predictions new data points.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/rf_classifier.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"construct a random forest wrapper classifier ‚Äî rf_classifier","text":"","code":"rf_classifier(x, colind, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/rf_classifier.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"construct a random forest wrapper classifier ‚Äî rf_classifier","text":"x model object colind (optional) column indices used prediction ... extra arguments randomForest function","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/rf_classifier.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"construct a random forest wrapper classifier ‚Äî rf_classifier","text":"random forest classifier","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/rf_classifier.projector.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a random forest classifier ‚Äî rf_classifier.projector","title":"Create a random forest classifier ‚Äî rf_classifier.projector","text":"Uses randomForest train random forest provided scores labels.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/rf_classifier.projector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a random forest classifier ‚Äî rf_classifier.projector","text":"","code":"# S3 method for class 'projector' rf_classifier(x, colind = NULL, labels, scores, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/rf_classifier.projector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a random forest classifier ‚Äî rf_classifier.projector","text":"x projector object colind optional col indices labels class labels scores reference scores ... passed randomForest","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/rf_classifier.projector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a random forest classifier ‚Äî rf_classifier.projector","text":"rf_classifier object rfres (rf model), labels, scores","code":""},{"path":[]},{"path":"https://bbuchsbaum.github.io/multivarious/reference/rf_classifier.projector.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a random forest classifier ‚Äî rf_classifier.projector","text":"","code":"# Assume proj is a fitted projector object # Assume lbls are labels and sc are scores # if (requireNamespace(\"randomForest\", quietly = TRUE)) { #   rf_classifier(proj, labels = lbls, scores = sc) # }"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/robust_inv_vTv.html","id":null,"dir":"Reference","previous_headings":"","what":"Possibly use ridge-regularized inversion of crossprod(v) ‚Äî robust_inv_vTv","title":"Possibly use ridge-regularized inversion of crossprod(v) ‚Äî robust_inv_vTv","text":"Possibly use ridge-regularized inversion crossprod(v)","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/robust_inv_vTv.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Possibly use ridge-regularized inversion of crossprod(v) ‚Äî robust_inv_vTv","text":"","code":"robust_inv_vTv(v, lambda = 1e-06)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/rotate.html","id":null,"dir":"Reference","previous_headings":"","what":"Rotate a Component Solution ‚Äî rotate","title":"Rotate a Component Solution ‚Äî rotate","text":"Perform rotation component loadings improve interpretability.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/rotate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rotate a Component Solution ‚Äî rotate","text":"","code":"rotate(x, ncomp, type, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/rotate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rotate a Component Solution ‚Äî rotate","text":"x model fit, typically result dimensionality reduction method like PCA. ncomp number components rotate. type type rotation apply (e.g., \"varimax\", \"quartimax\", \"promax\"). ... extra args","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/rotate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Rotate a Component Solution ‚Äî rotate","text":"modified model fit rotated components.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/rotate.pca.html","id":null,"dir":"Reference","previous_headings":"","what":"Rotate PCA Loadings ‚Äî rotate.pca","title":"Rotate PCA Loadings ‚Äî rotate.pca","text":"Apply specified rotation component loadings PCA model. function leverages GPArotation package apply orthogonal oblique rotations.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/rotate.pca.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rotate PCA Loadings ‚Äî rotate.pca","text":"","code":"# S3 method for class 'pca' rotate(   x,   ncomp,   type = c(\"varimax\", \"quartimax\", \"promax\"),   loadings_type = c(\"pattern\", \"structure\"),   score_method = c(\"auto\", \"recompute\", \"original\"),   ... )"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/rotate.pca.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rotate PCA Loadings ‚Äî rotate.pca","text":"x PCA model object, typically created using pca() function. ncomp number components rotate. Must <= ncomp(x). type type rotation apply. Supported rotation types: \"varimax\" Orthogonal Varimax rotation \"quartimax\" Orthogonal Quartimax rotation \"promax\" Oblique Promax rotation loadings_type oblique rotations, loadings use: \"pattern\" Use pattern loadings v \"structure\" Use structure loadings (pattern_loadings %*% Phi) v Ignored orthogonal rotations. score_method recompute scores rotation: \"auto\" orthogonal rotations, use scores_new = scores_original %*% t(R) \"recompute\" Always recompute scores X_proc pseudoinverse rotated loadings. \"original\" orth rotations, auto, may work oblique rotations. ... Additional arguments passed GPArotation functions.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/rotate.pca.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Rotate PCA Loadings ‚Äî rotate.pca","text":"modified PCA object class rotated_pca additional fields: v Rotated loadings s Rotated scores sdev Updated standard deviations rotated components explained_variance Proportion explained variance rotated component rotation list rotation details: type, R (orth) Phi (oblique), loadings_type","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/rotate.pca.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Rotate PCA Loadings ‚Äî rotate.pca","text":"","code":"# Perform PCA on the iris dataset data(iris) X <- as.matrix(iris[,1:4]) res <- pca(X, ncomp=4)  # Apply varimax rotation to the first 3 components rotated_res <- rotate(res, ncomp=3, type=\"varimax\")"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/scores.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve the component scores ‚Äî scores","title":"Retrieve the component scores ‚Äî scores","text":"Extract factor score matrix fitted model. factor scores represent projections data onto components, can used analysis visualization.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/scores.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve the component scores ‚Äî scores","text":"","code":"scores(x, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/scores.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve the component scores ‚Äî scores","text":"x model fit object. ... Additional arguments passed method.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/scores.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve the component scores ‚Äî scores","text":"matrix factor scores, rows corresponding samples columns components.","code":""},{"path":[]},{"path":"https://bbuchsbaum.github.io/multivarious/reference/screeplot.html","id":null,"dir":"Reference","previous_headings":"","what":"Screeplot for PCA ‚Äî screeplot","title":"Screeplot for PCA ‚Äî screeplot","text":"Displays variance explained principal component bar line plot.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/screeplot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Screeplot for PCA ‚Äî screeplot","text":"","code":"screeplot(x, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/screeplot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Screeplot for PCA ‚Äî screeplot","text":"x pca object. ... extra args","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/screeplot.pca.html","id":null,"dir":"Reference","previous_headings":"","what":"Screeplot for PCA ‚Äî screeplot.pca","title":"Screeplot for PCA ‚Äî screeplot.pca","text":"Displays variance explained principal component bar line plot.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/screeplot.pca.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Screeplot for PCA ‚Äî screeplot.pca","text":"","code":"# S3 method for class 'pca' screeplot(x, type = \"barplot\", main = \"Screeplot\", ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/screeplot.pca.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Screeplot for PCA ‚Äî screeplot.pca","text":"x pca object. type \"barplot\" \"lines\". main Plot title. ... Additional args pass base R plotting.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/sdev.html","id":null,"dir":"Reference","previous_headings":"","what":"standard deviations ‚Äî sdev","title":"standard deviations ‚Äî sdev","text":"standard deviations projected data matrix","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/sdev.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"standard deviations ‚Äî sdev","text":"","code":"sdev(x)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/sdev.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"standard deviations ‚Äî sdev","text":"x model fit","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/sdev.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"standard deviations ‚Äî sdev","text":"standard deviations","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/shape.cross_projector.html","id":null,"dir":"Reference","previous_headings":"","what":"shape of a cross_projector instance ‚Äî shape.cross_projector","title":"shape of a cross_projector instance ‚Äî shape.cross_projector","text":"shape cross_projector instance","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/shape.cross_projector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"shape of a cross_projector instance ‚Äî shape.cross_projector","text":"","code":"# S3 method for class 'cross_projector' shape(x, source = c(\"X\", \"Y\"), ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/shape.cross_projector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"shape of a cross_projector instance ‚Äî shape.cross_projector","text":"x model fit. source source data (X Y block) ... Extra arguments.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/shape.cross_projector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"shape of a cross_projector instance ‚Äî shape.cross_projector","text":"shape data","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/shape.html","id":null,"dir":"Reference","previous_headings":"","what":"Shape of the Projector ‚Äî shape","title":"Shape of the Projector ‚Äî shape","text":"Get input/output shape projector.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/shape.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Shape of the Projector ‚Äî shape","text":"","code":"shape(x, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/shape.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Shape of the Projector ‚Äî shape","text":"x model fit. ... Extra arguments.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/shape.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Shape of the Projector ‚Äî shape","text":"vector containing dimensions sample loadings matrix v (number rows columns).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/shape.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Shape of the Projector ‚Äî shape","text":"function retrieves dimensions sample loadings matrix v form vector two elements. first element number rows v matrix, second element number columns.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/standardize.html","id":null,"dir":"Reference","previous_headings":"","what":"center and scale each vector of a matrix ‚Äî standardize","title":"center and scale each vector of a matrix ‚Äî standardize","text":"center scale vector matrix","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/standardize.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"center and scale each vector of a matrix ‚Äî standardize","text":"","code":"standardize(preproc = prepper(), cmeans = NULL, sds = NULL)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/standardize.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"center and scale each vector of a matrix ‚Äî standardize","text":"preproc pre-processing pipeline cmeans optional vector column means sds optional vector sds","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/standardize.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"center and scale each vector of a matrix ‚Äî standardize","text":"prepper list","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/std_scores.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute standardized component scores ‚Äî std_scores","title":"Compute standardized component scores ‚Äî std_scores","text":"Calculate standardized factor scores fitted model. Standardized scores useful comparing contributions different components scale, can help interpreting results.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/std_scores.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute standardized component scores ‚Äî std_scores","text":"","code":"std_scores(x, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/std_scores.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute standardized component scores ‚Äî std_scores","text":"x model fit object. ... Additional arguments passed method.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/std_scores.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute standardized component scores ‚Äî std_scores","text":"matrix standardized factor scores, rows corresponding samples columns components.","code":""},{"path":[]},{"path":"https://bbuchsbaum.github.io/multivarious/reference/std_scores.svd.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Standardized Scores for SVD results ‚Äî std_scores.svd","title":"Calculate Standardized Scores for SVD results ‚Äî std_scores.svd","text":"Computes standardized scores SVD result performed svd_wrapper. scores scaled approximately unit variance, assuming original data used SVD centered. differ s component svd object, contains scores scaled singular values.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/std_scores.svd.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Standardized Scores for SVD results ‚Äî std_scores.svd","text":"","code":"# S3 method for class 'svd' std_scores(x, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/std_scores.svd.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Standardized Scores for SVD results ‚Äî std_scores.svd","text":"x object class svd, typically svd_wrapper. ... Extra arguments (ignored).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/std_scores.svd.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Standardized Scores for SVD results ‚Äî std_scores.svd","text":"matrix standardized scores (N x k) columns variance close 1.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/subspace_similarity.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute subspace similarity ‚Äî subspace_similarity","title":"Compute subspace similarity ‚Äî subspace_similarity","text":"Compute subspace similarity","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/subspace_similarity.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute subspace similarity ‚Äî subspace_similarity","text":"","code":"subspace_similarity(   fits,   method = c(\"avg_pair\", \"grassmann\", \"worst_case\"),   ... )"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/subspace_similarity.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute subspace similarity ‚Äî subspace_similarity","text":"fits list bi_projector objects method method use computing subspace similarity ... additional arguments pass method","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/subspace_similarity.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute subspace similarity ‚Äî subspace_similarity","text":"numeric value representing subspace similarity","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/summary.composed_projector.html","id":null,"dir":"Reference","previous_headings":"","what":"Summarize a Composed Projector ‚Äî summary.composed_projector","title":"Summarize a Composed Projector ‚Äî summary.composed_projector","text":"Provides summary stages within composed projector, including stage names, input/output dimensions, primary class stage.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/summary.composed_projector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summarize a Composed Projector ‚Äî summary.composed_projector","text":"","code":"# S3 method for class 'composed_projector' summary(object, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/summary.composed_projector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summarize a Composed Projector ‚Äî summary.composed_projector","text":"object composed_projector object. ... Currently unused.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/summary.composed_projector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summarize a Composed Projector ‚Äî summary.composed_projector","text":"tibble summarizing pipeline stages.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/svd_wrapper.html","id":null,"dir":"Reference","previous_headings":"","what":"Singular Value Decomposition (SVD) Wrapper ‚Äî svd_wrapper","title":"Singular Value Decomposition (SVD) Wrapper ‚Äî svd_wrapper","text":"Computes singular value decomposition matrix using one specified methods. designed easy--use wrapper various SVD methods available R.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/svd_wrapper.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Singular Value Decomposition (SVD) Wrapper ‚Äî svd_wrapper","text":"","code":"svd_wrapper(   X,   ncomp = min(dim(X)),   preproc = pass(),   method = c(\"fast\", \"base\", \"irlba\", \"propack\", \"rsvd\", \"svds\"),   q = 2,   p = 10,   tol = .Machine$double.eps,   ... )"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/svd_wrapper.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Singular Value Decomposition (SVD) Wrapper ‚Äî svd_wrapper","text":"X input matrix ncomp number components estimate (default: min(dim(X))) preproc pre-processor apply input matrix (e.g., center(), standardize(), pass()) Can prepper object pre-processing function. method SVD method use: 'base', 'fast', 'irlba', 'propack', 'rsvd', 'svds' q parameter passed method rsvd (default: 2) p parameter passed method rsvd (default: 10) tol minimum relative tolerance dropping singular values (compared largest). Default: .Machine$double.eps. ... extra arguments passed selected SVD function","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/svd_wrapper.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Singular Value Decomposition (SVD) Wrapper ‚Äî svd_wrapper","text":"SVD object extends bi_projector","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/svd_wrapper.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Singular Value Decomposition (SVD) Wrapper ‚Äî svd_wrapper","text":"","code":"# Load iris dataset and select the first four columns data(iris) X <- iris[, 1:4]  # Compute SVD using the base method and 3 components fit <- svd_wrapper(X, ncomp = 3, preproc = center(), method = \"base\") #> Error in init_transform.pre_processor(fitted_proc, X): `X` must be an matrix."},{"path":"https://bbuchsbaum.github.io/multivarious/reference/topk.html","id":null,"dir":"Reference","previous_headings":"","what":"top-k accuracy indicator ‚Äî topk","title":"top-k accuracy indicator ‚Äî topk","text":"Determines true class label among top k predicted probabilities observation.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/topk.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"top-k accuracy indicator ‚Äî topk","text":"","code":"topk(prob, observed, k)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/topk.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"top-k accuracy indicator ‚Äî topk","text":"prob Numeric matrix predicted probabilities (observations x classes). Column names must correspond class labels. observed Factor vector observed class labels. Must present colnames(prob). k Integer; number top probabilities consider.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/topk.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"top-k accuracy indicator ‚Äî topk","text":"data.frame columns topk (logical indicator: TRUE observed class top-k) observed.","code":""},{"path":[]},{"path":"https://bbuchsbaum.github.io/multivarious/reference/topk.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"top-k accuracy indicator ‚Äî topk","text":"","code":"probs <- matrix(c(0.1, 0.9, 0.8, 0.2, 0.3, 0.7), 3, 2, byrow=TRUE,                 dimnames = list(NULL, c(\"A\", \"B\"))) obs <- factor(c(\"B\", \"A\", \"B\")) topk(probs, obs, k=1) #>   topk observed #> 1 TRUE        B #> 2 TRUE        A #> 3 TRUE        B topk(probs, obs, k=2) #>   topk observed #> 1 TRUE        B #> 2 TRUE        A #> 3 TRUE        B"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/transfer.cross_projector.html","id":null,"dir":"Reference","previous_headings":"","what":"Transfer from X domain to Y domain (or vice versa) in a cross_projector ‚Äî transfer.cross_projector","title":"Transfer from X domain to Y domain (or vice versa) in a cross_projector ‚Äî transfer.cross_projector","text":"Convert data representations multiblock cross-decomposition model projecting input new_data domain/block onto latent space reconstructing domain/block.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/transfer.cross_projector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Transfer from X domain to Y domain (or vice versa) in a cross_projector ‚Äî transfer.cross_projector","text":"","code":"# S3 method for class 'cross_projector' transfer(x, new_data, from, to, opts = list(), ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/transfer.cross_projector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Transfer from X domain to Y domain (or vice versa) in a cross_projector ‚Äî transfer.cross_projector","text":"x cross_projector object. new_data data transfer. Source domain (\"X\" \"Y\"). Target domain (\"X\" \"Y\"). opts list options (see transfer generic). ... Ignored.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/transfer.cross_projector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Transfer from X domain to Y domain (or vice versa) in a cross_projector ‚Äî transfer.cross_projector","text":"Transferred data matrix.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/transfer.cross_projector.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Transfer from X domain to Y domain (or vice versa) in a cross_projector ‚Äî transfer.cross_projector","text":"opts$ls_rr TRUE, forward projection domain computed using ridge-regularized least squares approach. penalty parameter taken opts$lambda. Component subsetting via opts$comps applied computing ridge-based scores.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/transfer.html","id":null,"dir":"Reference","previous_headings":"","what":"Transfer data from one domain/block to another via a latent space ‚Äî transfer","title":"Transfer data from one domain/block to another via a latent space ‚Äî transfer","text":"Convert data representations multiblock cross-decomposition model projecting input new_data domain/block onto latent space reconstructing domain/block.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/transfer.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Transfer data from one domain/block to another via a latent space ‚Äî transfer","text":"","code":"transfer(x, new_data, from, to, opts = list(), ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/transfer.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Transfer data from one domain/block to another via a latent space ‚Äî transfer","text":"x model fit, typically object implements transfer method ideally block_names method. new_data data transfer, typically matching dimension domain. Character string index identifying source domain/block. Must present block_names(x) method exists. Character string index identifying target domain/block. Must present block_names(x) method exists. opts list optional arguments controlling transfer process: cols Optional numeric vector specifying column indices target domain reconstruct. NULL (default), reconstructs columns. comps Optional numeric vector specifying latent components use projection/reconstruction. NULL (default), uses components. ls_rr Logical; TRUE, use ridge-regularized LS approach initial projection domain. Default FALSE. lambda Numeric ridge penalty (ls_rr=TRUE). Default 1e-6. ... Additional arguments passed specific methods (discouraged, prefer opts).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/transfer.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Transfer data from one domain/block to another via a latent space ‚Äî transfer","text":"matrix data frame representing transferred data domain/block (subset columns/components specified opts).","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/transform.html","id":null,"dir":"Reference","previous_headings":"","what":"Transform data using a fitted preprocessing pipeline ‚Äî transform","title":"Transform data using a fitted preprocessing pipeline ‚Äî transform","text":"Apply fitted preprocessing pipeline new data. preprocessing object must fitted using fit() fit_transform() calling function.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/transform.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Transform data using a fitted preprocessing pipeline ‚Äî transform","text":"","code":"transform(object, X, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/transform.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Transform data using a fitted preprocessing pipeline ‚Äî transform","text":"object fitted preprocessing object X matrix data frame transform ... Additional arguments passed methods","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/transform.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Transform data using a fitted preprocessing pipeline ‚Äî transform","text":"transformed data matrix","code":""},{"path":[]},{"path":"https://bbuchsbaum.github.io/multivarious/reference/transform.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Transform data using a fitted preprocessing pipeline ‚Äî transform","text":"","code":"# Transform new data with fitted preprocessor X_train <- matrix(rnorm(100), 10, 10) X_test <- matrix(rnorm(50), 5, 10)  preproc <- center() fitted_preproc <- fit(preproc, X_train) X_test_transformed <- transform(fitted_preproc, X_test)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/transpose.html","id":null,"dir":"Reference","previous_headings":"","what":"Transpose a model ‚Äî transpose","title":"Transpose a model ‚Äî transpose","text":"function transposes model switching coefficients scores. useful want reverse roles samples variables model, especially context dimensionality reduction methods.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/transpose.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Transpose a model ‚Äî transpose","text":"","code":"transpose(x, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/transpose.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Transpose a model ‚Äî transpose","text":"x model fit, typically object class implements transpose method ... Additional arguments passed underlying transpose method","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/transpose.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Transpose a model ‚Äî transpose","text":"transposed model coefficients scores switched","code":""},{"path":[]},{"path":"https://bbuchsbaum.github.io/multivarious/reference/truncate.composed_projector.html","id":null,"dir":"Reference","previous_headings":"","what":"Truncate a Composed Projector ‚Äî truncate.composed_projector","title":"Truncate a Composed Projector ‚Äî truncate.composed_projector","text":"Reduces number output components composed projector truncating last stage sequence.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/truncate.composed_projector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Truncate a Composed Projector ‚Äî truncate.composed_projector","text":"","code":"# S3 method for class 'composed_projector' truncate(x, ncomp, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/truncate.composed_projector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Truncate a Composed Projector ‚Äî truncate.composed_projector","text":"x composed_projector object. ncomp desired number final output components. ... Currently unused.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/truncate.composed_projector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Truncate a Composed Projector ‚Äî truncate.composed_projector","text":"new composed_projector object last stage truncated.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/truncate.composed_projector.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Truncate a Composed Projector ‚Äî truncate.composed_projector","text":"Note: implementation currently supports truncating final stage. Truncating intermediate stages require re-computing subsequent stages combined attributes yet implemented.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/truncate.html","id":null,"dir":"Reference","previous_headings":"","what":"truncate a component fit ‚Äî truncate","title":"truncate a component fit ‚Äî truncate","text":"take first n components decomposition","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/truncate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"truncate a component fit ‚Äî truncate","text":"","code":"truncate(x, ncomp)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/truncate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"truncate a component fit ‚Äî truncate","text":"x object truncate ncomp number components retain","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/truncate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"truncate a component fit ‚Äî truncate","text":"truncated object (e.g. PCA 'ncomp' components)","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/variables_used.html","id":null,"dir":"Reference","previous_headings":"","what":"Identify Original Variables Used by a Projector ‚Äî variables_used","title":"Identify Original Variables Used by a Projector ‚Äî variables_used","text":"Determines columns original input space contribute (non-zero influence) output components projector.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/variables_used.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Identify Original Variables Used by a Projector ‚Äî variables_used","text":"","code":"variables_used(x, ...)  # S3 method for class 'composed_projector' variables_used(x, tol = 1e-08, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/variables_used.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Identify Original Variables Used by a Projector ‚Äî variables_used","text":"x projector object (e.g., projector, composed_projector). ... Additional arguments passed specific methods. tol Numeric tolerance determining non-zero coefficients. Default 1e-8 methods. Passed via ....","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/variables_used.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Identify Original Variables Used by a Projector ‚Äî variables_used","text":"sorted numeric vector unique indices corresponding original input variables.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/vars_for_component.html","id":null,"dir":"Reference","previous_headings":"","what":"Identify Original Variables for a Specific Component ‚Äî vars_for_component","title":"Identify Original Variables for a Specific Component ‚Äî vars_for_component","text":"Determines columns original input space contribute (non-zero influence) specific output component projector.","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/vars_for_component.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Identify Original Variables for a Specific Component ‚Äî vars_for_component","text":"","code":"vars_for_component(x, k, ...)  # S3 method for class 'composed_projector' vars_for_component(x, k, tol = 1e-08, ...)"},{"path":"https://bbuchsbaum.github.io/multivarious/reference/vars_for_component.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Identify Original Variables for a Specific Component ‚Äî vars_for_component","text":"x projector object (e.g., projector, composed_projector). k index output component query. ... Additional arguments passed specific methods. tol Numeric tolerance determining non-zero coefficients. Default 1e-8 methods. Passed via ....","code":""},{"path":"https://bbuchsbaum.github.io/multivarious/reference/vars_for_component.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Identify Original Variables for a Specific Component ‚Äî vars_for_component","text":"sorted numeric vector unique indices corresponding original input variables.","code":""}]
